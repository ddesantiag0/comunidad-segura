
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  es: {
    translation: {
      title: "Comunidad Segura",
      description: "Una plataforma para reportar actividad de ICE, ver alertas en tiempo real, y acceder a recursos legales para nuestra comunidad inmigrante en Los Ángeles.",
      report: "Reportar Actividad ICE",
      map: "Ver Mapa de Reportes",
      rights: "Conoce Tus Derechos",
      rightsButtonText: "Conoce Tus Derechos",
      reportTitle: "Reportar Actividad de ICE",
      location: "Ubicación o dirección (opcional pero útil)",
      activityType: "Tipo de actividad",
      timeSeen: "Hora aproximada (si sabes)",
      notes: "Comentarios (opcional)",
      selectOne: "Selecciona uno",
      submit: "Enviar Reporte",
      thankYou: "¡Gracias! Tu reporte ha sido recibido.",
      back: "← Volver",
      patrol: "Patrulla",
      checkpoint: "Punto de control",
      raid: "Redada",
      other: "Otra",
      emergencyContacts: "Contactos de Emergencia",
      addContacts: "Agrega hasta 3 contactos de emergencia para ser notificados en una emergencia.",
      name: "Nombre",
      phone: "Número de Teléfono",
      saveContacts: "Guardar Contactos",
      panicAlert: "EMERGENCIA: Contactando a tus contactos de emergencia y mostrando tus derechos legales...",
      configure: "Configurar Contactos de Emergencia",
      trigger: "Activar Emergencia",
      yourRights: "Tus Derechos",
      rightsText: "Tienes derecho a guardar silencio. No tienes que dejar entrar a ICE sin una orden firmada. Pide hablar con un abogado.",
      cancel: "Cancelar",
      timeFilter: "Filtro de tiempo",
      typeFilter: "Filtro de tipo",
      allTime: "Todo el tiempo",
      lastHour: "Última hora",
      last24Hours: "Últimas 24 horas",
      last7Days: "Últimos 7 días",
      last30Days: "Últimos 30 días",
      allTypes: "Todos los tipos",
      showMap: "Mostrar Mapa",
      quickHide: "Ocultar Rápido"
    }
  },
  en: {
    translation: {
      title: "Comunidad Segura",
      description: "A platform to report ICE activity, view real-time alerts, and access legal resources for immigrant communities in Los Angeles.",
      report: "Report ICE Activity",
      map: "View ICE Activity Map",
      rights: "Know Your Rights",
      rightsButtonText: "Know Your Rights",
      reportTitle: "Report ICE Activity",
      location: "Location or address (optional but helpful)",
      activityType: "Type of activity",
      timeSeen: "Approximate time (if known)",
      notes: "Comments (optional)",
      selectOne: "Select one",
      submit: "Submit Report",
      thankYou: "Thank you! Your report has been received.",
      back: "← Back",
      patrol: "Patrol",
      checkpoint: "Checkpoint",
      raid: "Raid",
      other: "Other",
      emergencyContacts: "Emergency Contacts",
      addContacts: "Add up to 3 emergency contacts to be notified in an emergency.",
      name: "Name",
      phone: "Phone Number",
      saveContacts: "Save Contacts",
      panicAlert: "EMERGENCY: Contacting your emergency contacts and showing your legal rights...",
      configure: "Configure Emergency Contacts",
      trigger: "Trigger Emergency",
      yourRights: "Your Rights",
      rightsText: "You have the right to remain silent. You do not have to let ICE into your home unless they have a signed warrant. Ask to speak with a lawyer.",
      cancel: "Cancel",
      timeFilter: "Time filter",
      typeFilter: "Type filter",
      allTime: "All time",
      lastHour: "Last hour",
      last24Hours: "Last 24 hours",
      last7Days: "Last 7 days",
      last30Days: "Last 30 days",
      allTypes: "All types",
      showMap: "Show Map",
      quickHide: "Quick Hide"
    }
  },
  zh: {
    translation: {
      title: "Comunidad Segura",
      description: "一个用于报告ICE活动、查看实时警报和访问法律资源的平台，为洛杉矶的移民社区服务。",
      report: "报告 ICE 活动",
      map: "查看 ICE 地图",
      rights: "了解你的权利",
      rightsButtonText: "了解你的权利",
      reportTitle: "报告 ICE 活动",
      location: "地址或位置（可选但有帮助）",
      activityType: "活动类型",
      timeSeen: "大致时间（如已知）",
      notes: "备注（可选）",
      selectOne: "请选择",
      submit: "提交报告",
      thankYou: "谢谢！我们已收到您的报告。",
      back: "← 返回",
      patrol: "巡逻",
      checkpoint: "检查站",
      raid: "突袭",
      other: "其他",
      emergencyContacts: "紧急联系人",
      addContacts: "添加最多 3 个紧急联系人以在紧急情况下通知他们。",
      name: "姓名",
      phone: "电话号码",
      saveContacts: "保存联系人",
      panicAlert: "紧急情况：正在联系您的紧急联系人并显示您的法律权利...",
      configure: "配置紧急联系人",
      trigger: "启动紧急模式",
      yourRights: "您的权利",
      rightsText: "您有权保持沉默。除非他们有签署的搜查令，否则您不必让ICE进入您的家。要求与律师交谈。",
      cancel: "取消",
      timeFilter: "时间筛选",
      typeFilter: "类型筛选",
      allTime: "所有时间",
      lastHour: "最后一小时",
      last24Hours: "最后24小时",
      last7Days: "最后7天",
      last30Days: "最后30天",
      allTypes: "所有类型",
      showMap: "显示地图",
      quickHide: "快速隐藏"
    }
  },
  vi: {
    translation: {
      title: "Comunidad Segura",
      description: "Nền tảng báo cáo hoạt động ICE, cập nhật cảnh báo theo thời gian thực, và truy cập tài nguyên pháp lý cho các cộng đồng nhập cư ở Los Angeles.",
      report: "Báo Cáo Hoạt Động ICE",
      map: "Xem Bản Đồ ICE",
      rights: "Biết Quyền Của Bạn",
      rightsButtonText: "Biết Quyền Của Bạn",
      reportTitle: "Báo Cáo Hoạt Động ICE",
      location: "Địa điểm hoặc địa chỉ (tùy chọn nhưng hữu ích)",
      activityType: "Loại hoạt động",
      timeSeen: "Thời gian gần đúng (nếu biết)",
      notes: "Ghi chú (tùy chọn)",
      selectOne: "Chọn một",
      submit: "Gửi Báo Cáo",
      thankYou: "Cảm ơn bạn! Báo cáo của bạn đã được gửi.",
      back: "← Quay lại",
      patrol: "Tuần tra",
      checkpoint: "Trạm kiểm soát",
      raid: "Cuộc truy quét",
      other: "Khác",
      emergencyContacts: "Liên Hệ Khẩn Cấp",
      addContacts: "Thêm tối đa 3 liên hệ khẩn cấp để được thông báo trong trường hợp khẩn cấp.",
      name: "Tên",
      phone: "Số điện thoại",
      saveContacts: "Lưu liên hệ",
      panicAlert: "KHẨN CẤP: Đang liên hệ với các liên hệ khẩn cấp của bạn và hiển thị quyền hợp pháp của bạn...",
      configure: "Cấu hình liên hệ khẩn cấp",
      trigger: "Kích hoạt khẩn cấp",
      yourRights: "Quyền Của Bạn",
      rightsText: "Bạn có quyền giữ im lặng. Bạn không phải để ICE vào nhà trừ khi họ có lệnh khám xét đã ký. Yêu cầu nói chuyện với luật sư.",
      cancel: "Hủy",
      timeFilter: "Bộ lọc thời gian",
      typeFilter: "Bộ lọc loại",
      allTime: "Tất cả thời gian",
      lastHour: "Giờ qua",
      last24Hours: "24 giờ qua",
      last7Days: "7 ngày qua",
      last30Days: "30 ngày qua",
      allTypes: "Tất cả loại",
      showMap: "Hiển thị bản đồ",
      quickHide: "Ẩn nhanh"
    }
  },
  tl: {
    translation: {
      title: "Comunidad Segura",
      description: "Isang plataporma para i-report ang aktibidad ng ICE, makakita ng mga alerto sa tunay na oras, at makakuha ng legal na tulong para sa mga immigrant sa Los Angeles.",
      report: "I-report ang Aktibidad ng ICE",
      map: "Tingnan ang Mapa ng ICE",
      rights: "Alamin ang Inyong mga Karapatan",
      rightsButtonText: "Alamin ang Inyong mga Karapatan",
      reportTitle: "I-report ang Aktibidad ng ICE",
      location: "Lokasyon o address (opsyonal ngunit kapaki-pakinabang)",
      activityType: "Uri ng aktibidad",
      timeSeen: "Tinatayang oras (kung alam)",
      notes: "Mga Komento (opsyonal)",
      selectOne: "Pumili ng isa",
      submit: "Isumite ang Ulat",
      thankYou: "Salamat! Natanggap na ang inyong ulat.",
      back: "← Bumalik",
      patrol: "Patrulya",
      checkpoint: "Checkpoint",
      raid: "Ratsya",
      other: "Iba pa",
      emergencyContacts: "Mga Emergency Contact",
      addContacts: "Magdagdag ng hanggang 3 emergency contact na tatawagan sa oras ng emergency.",
      name: "Pangalan",
      phone: "Numero ng Telepono",
      saveContacts: "I-save ang Mga Contact",
      panicAlert: "EMERGENCY: Nakikipag-ugnayan sa inyong mga emergency contact at ipinapakita ang inyong mga legal na karapatan...",
      configure: "I-configure ang Mga Emergency Contact",
      trigger: "I-trigger ang Emergency",
      yourRights: "Inyong mga Karapatan",
      rightsText: "May karapatan kayong manahimik. Hindi ninyo kailangang papasukin ang ICE sa inyong bahay maliban kung may pirirmadong warrant sila. Humingi ng makakausap na abogado.",
      cancel: "Kanselahin",
      timeFilter: "Filter ng oras",
      typeFilter: "Filter ng uri",
      allTime: "Lahat ng oras",
      lastHour: "Huling oras",
      last24Hours: "Huling 24 oras",
      last7Days: "Huling 7 araw",
      last30Days: "Huling 30 araw",
      allTypes: "Lahat ng uri",
      showMap: "Ipakita ang Mapa",
      quickHide: "Mabilis na Itago"
    }
  },
  ar: {
    translation: {
      title: "Comunidad Segura",
      description: "منصة لإبلاغ عن نشاط ICE، وعرض التنبيهات في الوقت الفعلي، والوصول إلى الموارد القانونية للمجتمعات المهاجرة في لوس أنجلوس.",
      report: "إبلاغ عن نشاط ICE",
      map: "عرض خريطة ICE",
      rights: "اعرف حقوقك",
      rightsButtonText: "اعرف حقوقك",
      reportTitle: "إبلاغ عن نشاط ICE",
      location: "الموقع أو العنوان (اختياري ولكن مفيد)",
      activityType: "نوع النشاط",
      timeSeen: "الوقت التقريبي (إذا كنت تعرفه)",
      notes: "تعليقات (اختياري)",
      selectOne: "اختر واحدًا",
      submit: "إرسال التقرير",
      thankYou: "شكرًا لك! تم استلام تقريرك.",
      back: "← رجوع",
      patrol: "دورية",
      checkpoint: "نقطة تفتيش",
      raid: "مداهمة",
      other: "أخرى",
      emergencyContacts: "جهات الاتصال في حالات الطوارئ",
      addContacts: "أضف ما يصل إلى 3 جهات اتصال للطوارئ ليتم إخطارهم في حالة الطوارئ.",
      name: "الاسم",
      phone: "رقم الهاتف",
      saveContacts: "احفظ جهات الاتصال",
      panicAlert: "طارئ: يتم الاتصال بجهات الاتصال الخاصة بك في حالات الطوارئ وعرض حقوقك القانونية...",
      configure: "إعداد جهات الاتصال في حالات الطوارئ",
      trigger: "تفعيل الطوارئ",
      yourRights: "حقوقك",
      rightsText: "لك الحق في التزام الصمت. لا يجب عليك السماح لـ ICE بدخول منزلك إلا إذا كان لديهم مذكرة موقعة. اطلب التحدث مع محامٍ.",
      cancel: "إلغاء",
      timeFilter: "مرشح الوقت",
      typeFilter: "مرشح النوع",
      allTime: "كل الأوقات",
      lastHour: "الساعة الماضية",
      last24Hours: "آخر 24 ساعة",
      last7Days: "آخر 7 أيام",
      last30Days: "آخر 30 يوم",
      allTypes: "جميع الأنواع",
      showMap: "إظهار الخريطة",
      quickHide: "إخفاء سريع"
    }
  }
};

// Function to detect browser language and map it to supported languages
const detectBrowserLanguage = (): string => {
  const browserLang = navigator.language || navigator.languages?.[0] || 'en';
  const langCode = browserLang.split('-')[0]; // Get language code without region
  
  // Map browser language to supported languages
  const supportedLanguages = ['es', 'en', 'zh', 'vi', 'tl', 'ar'];
  
  if (supportedLanguages.includes(langCode)) {
    return langCode;
  }
  
  // Default to Spanish for LA area, English as fallback
  return 'es';
};

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: localStorage.getItem('preferred-language') || detectBrowserLanguage(),
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false
    }
  });

export default i18n;
