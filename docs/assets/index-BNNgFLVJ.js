var P0=t=>{throw TypeError(t)};var Tm=(t,e,n)=>e.has(t)||P0("Cannot "+n);var J=(t,e,n)=>(Tm(t,e,"read from private field"),n?n.call(t):e.get(t)),et=(t,e,n)=>e.has(t)?P0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Me=(t,e,n,r)=>(Tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pn=(t,e,n)=>(Tm(t,e,"access private method"),n);var ph=(t,e,n,r)=>({set _(i){Me(t,e,i,n)},get _(){return J(t,e,r)}});function DR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _y(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xE={exports:{}},vp={},bE={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),VR=Symbol.for("react.portal"),FR=Symbol.for("react.fragment"),BR=Symbol.for("react.strict_mode"),zR=Symbol.for("react.profiler"),$R=Symbol.for("react.provider"),UR=Symbol.for("react.context"),HR=Symbol.for("react.forward_ref"),WR=Symbol.for("react.suspense"),qR=Symbol.for("react.memo"),KR=Symbol.for("react.lazy"),I0=Symbol.iterator;function GR(t){return t===null||typeof t!="object"?null:(t=I0&&t[I0]||t["@@iterator"],typeof t=="function"?t:null)}var EE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TE=Object.assign,SE={};function au(t,e,n){this.props=t,this.context=e,this.refs=SE,this.updater=n||EE}au.prototype.isReactComponent={};au.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};au.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CE(){}CE.prototype=au.prototype;function wy(t,e,n){this.props=t,this.context=e,this.refs=SE,this.updater=n||EE}var xy=wy.prototype=new CE;xy.constructor=wy;TE(xy,au.prototype);xy.isPureReactComponent=!0;var N0=Array.isArray,PE=Object.prototype.hasOwnProperty,by={current:null},IE={key:!0,ref:!0,__self:!0,__source:!0};function NE(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)PE.call(e,r)&&!IE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bd,type:t,key:s,ref:a,props:i,_owner:by.current}}function ZR(t,e){return{$$typeof:bd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ey(t){return typeof t=="object"&&t!==null&&t.$$typeof===bd}function YR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A0=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YR(""+t.key):e.toString(36)}function Kh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bd:case VR:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Sm(a,0):r,N0(i)?(n="",t!=null&&(n=t.replace(A0,"$&/")+"/"),Kh(i,e,n,"",function(d){return d})):i!=null&&(Ey(i)&&(i=ZR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",N0(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Sm(s,l);a+=Kh(s,e,n,c,i)}else if(c=GR(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Sm(s,l++),a+=Kh(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function mh(t,e,n){if(t==null)return t;var r=[],i=0;return Kh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Gh={transition:null},XR={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:by};function AE(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:mh,forEach:function(t,e,n){mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mh(t,function(){e++}),e},toArray:function(t){return mh(t,function(e){return e})||[]},only:function(t){if(!Ey(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=au;He.Fragment=FR;He.Profiler=zR;He.PureComponent=wy;He.StrictMode=BR;He.Suspense=WR;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;He.act=AE;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TE({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=by.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)PE.call(e,c)&&!IE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:bd,type:t.type,key:i,ref:s,props:r,_owner:a}};He.createContext=function(t){return t={$$typeof:UR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$R,_context:t},t.Consumer=t};He.createElement=NE;He.createFactory=function(t){var e=NE.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:HR,render:t}};He.isValidElement=Ey;He.lazy=function(t){return{$$typeof:KR,_payload:{_status:-1,_result:t},_init:QR}};He.memo=function(t,e){return{$$typeof:qR,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};He.unstable_act=AE;He.useCallback=function(t,e){return kn.current.useCallback(t,e)};He.useContext=function(t){return kn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};He.useEffect=function(t,e){return kn.current.useEffect(t,e)};He.useId=function(){return kn.current.useId()};He.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return kn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};He.useRef=function(t){return kn.current.useRef(t)};He.useState=function(t){return kn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return kn.current.useTransition()};He.version="18.3.1";bE.exports=He;var b=bE.exports;const le=_y(b),Ty=DR({__proto__:null,default:le},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=b,e2=Symbol.for("react.element"),t2=Symbol.for("react.fragment"),n2=Object.prototype.hasOwnProperty,r2=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i2={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)n2.call(e,r)&&!i2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:e2,type:t,key:s,ref:a,props:i,_owner:r2.current}}vp.Fragment=t2;vp.jsx=kE;vp.jsxs=kE;xE.exports=vp;var m=xE.exports,RE={exports:{}},ar={},LE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var Y=$.length;$.push(Z);e:for(;0<Y;){var ie=Y-1>>>1,oe=$[ie];if(0<i(oe,Z))$[ie]=Z,$[Y]=oe,Y=ie;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],Y=$.pop();if(Y!==Z){$[0]=Y;e:for(var ie=0,oe=$.length,ce=oe>>>1;ie<ce;){var he=2*(ie+1)-1,ge=$[he],ye=he+1,ae=$[ye];if(0>i(ge,Y))ye<oe&&0>i(ae,ge)?($[ie]=ae,$[ye]=Y,ie=ye):($[ie]=ge,$[he]=Y,ie=he);else if(ye<oe&&0>i(ae,Y))$[ie]=ae,$[ye]=Y,ie=ye;else break e}}return Z}function i($,Z){var Y=$.sortIndex-Z.sortIndex;return Y!==0?Y:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],p=1,g=null,y=3,_=!1,S=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=$)r(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(d)}}function O($){if(x=!1,I($),!S)if(n(c)!==null)S=!0,se(z);else{var Z=n(d);Z!==null&&Q(O,Z.startTime-$)}}function z($,Z){S=!1,x&&(x=!1,N(A),A=-1),_=!0;var Y=y;try{for(I(Z),g=n(c);g!==null&&(!(g.expirationTime>Z)||$&&!F());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,y=g.priorityLevel;var oe=ie(g.expirationTime<=Z);Z=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(c)&&r(c),I(Z)}else r(c);g=n(c)}if(g!==null)var ce=!0;else{var he=n(d);he!==null&&Q(O,he.startTime-Z),ce=!1}return ce}finally{g=null,y=Y,_=!1}}var H=!1,R=null,A=-1,D=5,j=-1;function F(){return!(t.unstable_now()-j<D)}function B(){if(R!==null){var $=t.unstable_now();j=$;var Z=!0;try{Z=R(!0,$)}finally{Z?V():(H=!1,R=null)}}else H=!1}var V;if(typeof T=="function")V=function(){T(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ve=X.port2;X.port1.onmessage=B,V=function(){ve.postMessage(null)}}else V=function(){C(B,0)};function se($){R=$,H||(H=!0,V())}function Q($,Z){A=C(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,se(z))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var Y=y;y=Z;try{return $()}finally{y=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=y;y=$;try{return Z()}finally{y=Y}},t.unstable_scheduleCallback=function($,Z,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,$={id:p++,callback:Z,priorityLevel:$,startTime:Y,expirationTime:oe,sortIndex:-1},Y>ie?($.sortIndex=Y,e(d,$),n(c)===null&&$===n(d)&&(x?(N(A),A=-1):x=!0,Q(O,Y-ie))):($.sortIndex=oe,e(c,$),S||_||(S=!0,se(z))),$},t.unstable_shouldYield=F,t.unstable_wrapCallback=function($){var Z=y;return function(){var Y=y;y=Z;try{return $.apply(this,arguments)}finally{y=Y}}}})(ME);LE.exports=ME;var s2=LE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=b,sr=s2;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,Mc={};function xa(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(Mc[t]=e,t=0;t<e.length;t++)OE.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,a2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k0={},R0={};function l2(t){return Ig.call(R0,t)?!0:Ig.call(k0,t)?!1:a2.test(t)?R0[t]=!0:(k0[t]=!0,!1)}function u2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c2(t,e,n,r){if(e===null||typeof e>"u"||u2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sy=/[\-:]([a-z])/g;function Cy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sy,Cy);cn[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sy,Cy);cn[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sy,Cy);cn[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Py(t,e,n,r){var i=cn.hasOwnProperty(e)?cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c2(e,n,i,r)&&(n=null),r||i===null?l2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vs=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),cl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),jE=Symbol.for("react.context"),Ny=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),Ay=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),VE=Symbol.for("react.offscreen"),L0=Symbol.iterator;function Yu(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Cm;function uc(t){if(Cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cm=e&&e[1]||""}return`
`+Cm+t}var Pm=!1;function Im(t,e){if(!t||Pm)return"";Pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function d2(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=Im(t.type,!1),t;case 11:return t=Im(t.type.render,!1),t;case 1:return t=Im(t.type,!0),t;default:return""}}function Rg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dl:return"Fragment";case cl:return"Portal";case Ng:return"Profiler";case Iy:return"StrictMode";case Ag:return"Suspense";case kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jE:return(t.displayName||"Context")+".Consumer";case DE:return(t._context.displayName||"Context")+".Provider";case Ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ay:return e=t.displayName||null,e!==null?e:Rg(t.type)||"Memo";case js:e=t._payload,t=t._init;try{return Rg(t(e))}catch{}}return null}function h2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(e);case 8:return e===Iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f2(t){var e=FE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=f2(t))}function BE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lg(t,e){var n=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zE(t,e){e=e.checked,e!=null&&Py(t,"checked",e,!1)}function Mg(t,e){zE(t,e);var n=co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Og(t,e.type,n):e.hasOwnProperty("defaultValue")&&Og(t,e.type,co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Og(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cc=Array.isArray;function bl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+co(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(cc(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:co(n)}}function $E(t,e){var n=co(e.value),r=co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yh,HE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p2=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(t){p2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yc[e]=yc[t]})});function WE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yc.hasOwnProperty(t)&&yc[t]?(""+e).trim():e+"px"}function qE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m2=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vg(t,e){if(e){if(m2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Fg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bg=null;function ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zg=null,El=null,Tl=null;function V0(t){if(t=Sd(t)){if(typeof zg!="function")throw Error(re(280));var e=t.stateNode;e&&(e=bp(e),zg(t.stateNode,t.type,e))}}function KE(t){El?Tl?Tl.push(t):Tl=[t]:El=t}function GE(){if(El){var t=El,e=Tl;if(Tl=El=null,V0(t),e)for(t=0;t<e.length;t++)V0(e[t])}}function ZE(t,e){return t(e)}function YE(){}var Nm=!1;function QE(t,e,n){if(Nm)return t(e,n);Nm=!0;try{return ZE(t,e,n)}finally{Nm=!1,(El!==null||Tl!==null)&&(YE(),GE())}}function Dc(t,e){var n=t.stateNode;if(n===null)return null;var r=bp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var $g=!1;if(os)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){$g=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{$g=!1}function g2(t,e,n,r,i,s,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var _c=!1,_f=null,wf=!1,Ug=null,v2={onError:function(t){_c=!0,_f=t}};function y2(t,e,n,r,i,s,a,l,c){_c=!1,_f=null,g2.apply(v2,arguments)}function _2(t,e,n,r,i,s,a,l,c){if(y2.apply(this,arguments),_c){if(_c){var d=_f;_c=!1,_f=null}else throw Error(re(198));wf||(wf=!0,Ug=d)}}function ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F0(t){if(ba(t)!==t)throw Error(re(188))}function w2(t){var e=t.alternate;if(!e){if(e=ba(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return F0(i),t;if(s===r)return F0(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function JE(t){return t=w2(t),t!==null?eT(t):null}function eT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eT(t);if(e!==null)return e;t=t.sibling}return null}var tT=sr.unstable_scheduleCallback,B0=sr.unstable_cancelCallback,x2=sr.unstable_shouldYield,b2=sr.unstable_requestPaint,Mt=sr.unstable_now,E2=sr.unstable_getCurrentPriorityLevel,Ry=sr.unstable_ImmediatePriority,nT=sr.unstable_UserBlockingPriority,xf=sr.unstable_NormalPriority,T2=sr.unstable_LowPriority,rT=sr.unstable_IdlePriority,yp=null,Ei=null;function S2(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(yp,t,void 0,(t.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:I2,C2=Math.log,P2=Math.LN2;function I2(t){return t>>>=0,t===0?32:31-(C2(t)/P2|0)|0}var _h=64,wh=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=dc(l):(s&=a,s!==0&&(r=dc(s)))}else a=n&~i,a!==0?r=dc(a):s!==0&&(r=dc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qr(e),i=1<<n,r|=t[n],e&=~i;return r}function N2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-qr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=N2(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Hg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iT(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Am(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ed(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qr(e),t[e]=n}function k2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ot=0;function sT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oT,My,aT,lT,uT,Wg=!1,xh=[],Ys=null,Qs=null,Xs=null,jc=new Map,Vc=new Map,Fs=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function Xu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sd(e),e!==null&&My(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L2(t,e,n,r,i){switch(e){case"focusin":return Ys=Xu(Ys,t,e,n,r,i),!0;case"dragenter":return Qs=Xu(Qs,t,e,n,r,i),!0;case"mouseover":return Xs=Xu(Xs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jc.set(s,Xu(jc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vc.set(s,Xu(Vc.get(s)||null,t,e,n,r,i)),!0}return!1}function cT(t){var e=Ho(t.target);if(e!==null){var n=ba(e);if(n!==null){if(e=n.tag,e===13){if(e=XE(n),e!==null){t.blockedOn=e,uT(t.priority,function(){aT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bg=r,n.target.dispatchEvent(r),Bg=null}else return e=Sd(n),e!==null&&My(e),t.blockedOn=n,!1;e.shift()}return!0}function $0(t,e,n){Zh(t)&&n.delete(e)}function M2(){Wg=!1,Ys!==null&&Zh(Ys)&&(Ys=null),Qs!==null&&Zh(Qs)&&(Qs=null),Xs!==null&&Zh(Xs)&&(Xs=null),jc.forEach($0),Vc.forEach($0)}function Ju(t,e){t.blockedOn===e&&(t.blockedOn=null,Wg||(Wg=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,M2)))}function Fc(t){function e(i){return Ju(i,t)}if(0<xh.length){Ju(xh[0],t);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&Ju(Ys,t),Qs!==null&&Ju(Qs,t),Xs!==null&&Ju(Xs,t),jc.forEach(e),Vc.forEach(e),n=0;n<Fs.length;n++)r=Fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)cT(n),n.blockedOn===null&&Fs.shift()}var Sl=vs.ReactCurrentBatchConfig,Ef=!0;function O2(t,e,n,r){var i=ot,s=Sl.transition;Sl.transition=null;try{ot=1,Oy(t,e,n,r)}finally{ot=i,Sl.transition=s}}function D2(t,e,n,r){var i=ot,s=Sl.transition;Sl.transition=null;try{ot=4,Oy(t,e,n,r)}finally{ot=i,Sl.transition=s}}function Oy(t,e,n,r){if(Ef){var i=qg(t,e,n,r);if(i===null)Bm(t,e,r,Tf,n),z0(t,r);else if(L2(i,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<R2.indexOf(t)){for(;i!==null;){var s=Sd(i);if(s!==null&&oT(s),s=qg(t,e,n,r),s===null&&Bm(t,e,r,Tf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bm(t,e,r,null,n)}}var Tf=null;function qg(t,e,n,r){if(Tf=null,t=ky(r),t=Ho(t),t!==null)if(e=ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function dT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E2()){case Ry:return 1;case nT:return 4;case xf:case T2:return 16;case rT:return 536870912;default:return 16}default:return 16}}var qs=null,Dy=null,Yh=null;function hT(){if(Yh)return Yh;var t,e=Dy,n=e.length,r,i="value"in qs?qs.value:qs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Yh=i.slice(t,1<r?1-r:void 0)}function Qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bh(){return!0}function U0(){return!1}function lr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bh:U0,this.isPropagationStopped=U0,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bh)},persist:function(){},isPersistent:bh}),e}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jy=lr(lu),Td=Pt({},lu,{view:0,detail:0}),j2=lr(Td),km,Rm,ec,_p=Pt({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ec&&(ec&&t.type==="mousemove"?(km=t.screenX-ec.screenX,Rm=t.screenY-ec.screenY):Rm=km=0,ec=t),km)},movementY:function(t){return"movementY"in t?t.movementY:Rm}}),H0=lr(_p),V2=Pt({},_p,{dataTransfer:0}),F2=lr(V2),B2=Pt({},Td,{relatedTarget:0}),Lm=lr(B2),z2=Pt({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=lr(z2),U2=Pt({},lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H2=lr(U2),W2=Pt({},lu,{data:0}),W0=lr(W2),q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G2[t])?!!e[t]:!1}function Vy(){return Z2}var Y2=Pt({},Td,{key:function(t){if(t.key){var e=q2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vy,charCode:function(t){return t.type==="keypress"?Qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q2=lr(Y2),X2=Pt({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=lr(X2),J2=Pt({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vy}),eL=lr(J2),tL=Pt({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),nL=lr(tL),rL=Pt({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iL=lr(rL),sL=[9,13,27,32],Fy=os&&"CompositionEvent"in window,wc=null;os&&"documentMode"in document&&(wc=document.documentMode);var oL=os&&"TextEvent"in window&&!wc,fT=os&&(!Fy||wc&&8<wc&&11>=wc),K0=" ",G0=!1;function pT(t,e){switch(t){case"keyup":return sL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hl=!1;function aL(t,e){switch(t){case"compositionend":return mT(e);case"keypress":return e.which!==32?null:(G0=!0,K0);case"textInput":return t=e.data,t===K0&&G0?null:t;default:return null}}function lL(t,e){if(hl)return t==="compositionend"||!Fy&&pT(t,e)?(t=hT(),Yh=Dy=qs=null,hl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fT&&e.locale!=="ko"?null:e.data;default:return null}}var uL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uL[t.type]:e==="textarea"}function gT(t,e,n,r){KE(r),e=Sf(e,"onChange"),0<e.length&&(n=new jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xc=null,Bc=null;function cL(t){PT(t,0)}function wp(t){var e=ml(t);if(BE(e))return t}function dL(t,e){if(t==="change")return e}var vT=!1;if(os){var Mm;if(os){var Om="oninput"in document;if(!Om){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),Om=typeof Y0.oninput=="function"}Mm=Om}else Mm=!1;vT=Mm&&(!document.documentMode||9<document.documentMode)}function Q0(){xc&&(xc.detachEvent("onpropertychange",yT),Bc=xc=null)}function yT(t){if(t.propertyName==="value"&&wp(Bc)){var e=[];gT(e,Bc,t,ky(t)),QE(cL,e)}}function hL(t,e,n){t==="focusin"?(Q0(),xc=e,Bc=n,xc.attachEvent("onpropertychange",yT)):t==="focusout"&&Q0()}function fL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wp(Bc)}function pL(t,e){if(t==="click")return wp(e)}function mL(t,e){if(t==="input"||t==="change")return wp(e)}function gL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:gL;function zc(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!Gr(t[i],e[i]))return!1}return!0}function X0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J0(t,e){var n=X0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X0(n)}}function _T(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_T(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wT(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function By(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vL(t){var e=wT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_T(n.ownerDocument.documentElement,n)){if(r!==null&&By(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=J0(n,s);var a=J0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yL=os&&"documentMode"in document&&11>=document.documentMode,fl=null,Kg=null,bc=null,Gg=!1;function ex(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||fl==null||fl!==yf(r)||(r=fl,"selectionStart"in r&&By(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bc&&zc(bc,r)||(bc=r,r=Sf(Kg,"onSelect"),0<r.length&&(e=new jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fl)))}function Eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pl={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},Dm={},xT={};os&&(xT=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function xp(t){if(Dm[t])return Dm[t];if(!pl[t])return t;var e=pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xT)return Dm[t]=e[n];return t}var bT=xp("animationend"),ET=xp("animationiteration"),TT=xp("animationstart"),ST=xp("transitionend"),CT=new Map,tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){CT.set(t,e),xa(e,[t])}for(var jm=0;jm<tx.length;jm++){var Vm=tx[jm],_L=Vm.toLowerCase(),wL=Vm[0].toUpperCase()+Vm.slice(1);xo(_L,"on"+wL)}xo(bT,"onAnimationEnd");xo(ET,"onAnimationIteration");xo(TT,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(ST,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xL=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function nx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_2(r,e,void 0,t),t.currentTarget=null}function PT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;nx(i,l,d),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;nx(i,l,d),s=c}}}if(wf)throw t=Ug,wf=!1,Ug=null,t}function gt(t,e){var n=e[Jg];n===void 0&&(n=e[Jg]=new Set);var r=t+"__bubble";n.has(r)||(IT(e,t,2,!1),n.add(r))}function Fm(t,e,n){var r=0;e&&(r|=4),IT(n,t,r,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[Th]){t[Th]=!0,OE.forEach(function(n){n!=="selectionchange"&&(xL.has(n)||Fm(n,!1,t),Fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,Fm("selectionchange",!1,e))}}function IT(t,e,n,r){switch(dT(e)){case 1:var i=O2;break;case 4:i=D2;break;default:i=Oy}n=i.bind(null,e,n,t),i=void 0,!$g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ho(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}QE(function(){var d=s,p=ky(n),g=[];e:{var y=CT.get(t);if(y!==void 0){var _=jy,S=t;switch(t){case"keypress":if(Qh(n)===0)break e;case"keydown":case"keyup":_=Q2;break;case"focusin":S="focus",_=Lm;break;case"focusout":S="blur",_=Lm;break;case"beforeblur":case"afterblur":_=Lm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=F2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=eL;break;case bT:case ET:case TT:_=$2;break;case ST:_=nL;break;case"scroll":_=j2;break;case"wheel":_=iL;break;case"copy":case"cut":case"paste":_=H2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=q0}var x=(e&4)!==0,C=!x&&t==="scroll",N=x?y!==null?y+"Capture":null:y;x=[];for(var T=d,I;T!==null;){I=T;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,N!==null&&(O=Dc(T,N),O!=null&&x.push(Uc(T,O,I)))),C)break;T=T.return}0<x.length&&(y=new _(y,S,null,n,p),g.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==Bg&&(S=n.relatedTarget||n.fromElement)&&(Ho(S)||S[as]))break e;if((_||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=d,S=S?Ho(S):null,S!==null&&(C=ba(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=d),_!==S)){if(x=H0,O="onMouseLeave",N="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(x=q0,O="onPointerLeave",N="onPointerEnter",T="pointer"),C=_==null?y:ml(_),I=S==null?y:ml(S),y=new x(O,T+"leave",_,n,p),y.target=C,y.relatedTarget=I,O=null,Ho(p)===d&&(x=new x(N,T+"enter",S,n,p),x.target=I,x.relatedTarget=C,O=x),C=O,_&&S)t:{for(x=_,N=S,T=0,I=x;I;I=el(I))T++;for(I=0,O=N;O;O=el(O))I++;for(;0<T-I;)x=el(x),T--;for(;0<I-T;)N=el(N),I--;for(;T--;){if(x===N||N!==null&&x===N.alternate)break t;x=el(x),N=el(N)}x=null}else x=null;_!==null&&rx(g,y,_,x,!1),S!==null&&C!==null&&rx(g,C,S,x,!0)}}e:{if(y=d?ml(d):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var z=dL;else if(Z0(y))if(vT)z=mL;else{z=fL;var H=hL}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(z=pL);if(z&&(z=z(t,d))){gT(g,z,n,p);break e}H&&H(t,y,d),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Og(y,"number",y.value)}switch(H=d?ml(d):window,t){case"focusin":(Z0(H)||H.contentEditable==="true")&&(fl=H,Kg=d,bc=null);break;case"focusout":bc=Kg=fl=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,ex(g,n,p);break;case"selectionchange":if(yL)break;case"keydown":case"keyup":ex(g,n,p)}var R;if(Fy)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else hl?pT(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(fT&&n.locale!=="ko"&&(hl||A!=="onCompositionStart"?A==="onCompositionEnd"&&hl&&(R=hT()):(qs=p,Dy="value"in qs?qs.value:qs.textContent,hl=!0)),H=Sf(d,A),0<H.length&&(A=new W0(A,t,null,n,p),g.push({event:A,listeners:H}),R?A.data=R:(R=mT(n),R!==null&&(A.data=R)))),(R=oL?aL(t,n):lL(t,n))&&(d=Sf(d,"onBeforeInput"),0<d.length&&(p=new W0("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=R))}PT(g,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dc(t,n),s!=null&&r.unshift(Uc(t,s,i)),s=Dc(t,e),s!=null&&r.push(Uc(t,s,i))),t=t.return}return r}function el(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rx(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Dc(n,s),c!=null&&a.unshift(Uc(n,c,l))):i||(c=Dc(n,s),c!=null&&a.push(Uc(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var bL=/\r\n?/g,EL=/\u0000|\uFFFD/g;function ix(t){return(typeof t=="string"?t:""+t).replace(bL,`
`).replace(EL,"")}function Sh(t,e,n){if(e=ix(e),ix(t)!==e&&n)throw Error(re(425))}function Cf(){}var Zg=null,Yg=null;function Qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,TL=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,SL=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(t){return sx.resolve(null).then(t).catch(CL)}:Xg;function CL(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fc(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ox(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uu=Math.random().toString(36).slice(2),yi="__reactFiber$"+uu,Hc="__reactProps$"+uu,as="__reactContainer$"+uu,Jg="__reactEvents$"+uu,PL="__reactListeners$"+uu,IL="__reactHandles$"+uu;function Ho(t){var e=t[yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ox(t);t!==null;){if(n=t[yi])return n;t=ox(t)}return e}t=n,n=t.parentNode}return null}function Sd(t){return t=t[yi]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function bp(t){return t[Hc]||null}var ev=[],gl=-1;function bo(t){return{current:t}}function yt(t){0>gl||(t.current=ev[gl],ev[gl]=null,gl--)}function ht(t,e){gl++,ev[gl]=t.current,t.current=e}var ho={},En=bo(ho),Hn=bo(!1),aa=ho;function Ul(t,e){var n=t.type.contextTypes;if(!n)return ho;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wn(t){return t=t.childContextTypes,t!=null}function Pf(){yt(Hn),yt(En)}function ax(t,e,n){if(En.current!==ho)throw Error(re(168));ht(En,e),ht(Hn,n)}function NT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,h2(t)||"Unknown",i));return Pt({},n,r)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ho,aa=En.current,ht(En,t),ht(Hn,Hn.current),!0}function lx(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=NT(t,e,aa),r.__reactInternalMemoizedMergedChildContext=t,yt(Hn),yt(En),ht(En,t)):yt(Hn),ht(Hn,n)}var Ji=null,Ep=!1,$m=!1;function AT(t){Ji===null?Ji=[t]:Ji.push(t)}function NL(t){Ep=!0,AT(t)}function Eo(){if(!$m&&Ji!==null){$m=!0;var t=0,e=ot;try{var n=Ji;for(ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ji=null,Ep=!1}catch(i){throw Ji!==null&&(Ji=Ji.slice(t+1)),tT(Ry,Eo),i}finally{ot=e,$m=!1}}return null}var vl=[],yl=0,Nf=null,Af=0,xr=[],br=0,la=null,ts=1,ns="";function Fo(t,e){vl[yl++]=Af,vl[yl++]=Nf,Nf=t,Af=e}function kT(t,e,n){xr[br++]=ts,xr[br++]=ns,xr[br++]=la,la=t;var r=ts;t=ns;var i=32-qr(r)-1;r&=~(1<<i),n+=1;var s=32-qr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ts=1<<32-qr(e)+i|n<<i|r,ns=s+t}else ts=1<<s|n<<i|r,ns=t}function zy(t){t.return!==null&&(Fo(t,1),kT(t,1,0))}function $y(t){for(;t===Nf;)Nf=vl[--yl],vl[yl]=null,Af=vl[--yl],vl[yl]=null;for(;t===la;)la=xr[--br],xr[br]=null,ns=xr[--br],xr[br]=null,ts=xr[--br],xr[br]=null}var nr=null,tr=null,bt=!1,Ur=null;function RT(t,e){var n=Tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ux(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,tr=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=la!==null?{id:ts,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,tr=null,!0):!1;default:return!1}}function tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nv(t){if(bt){var e=tr;if(e){var n=e;if(!ux(t,e)){if(tv(t))throw Error(re(418));e=Js(n.nextSibling);var r=nr;e&&ux(t,e)?RT(r,n):(t.flags=t.flags&-4097|2,bt=!1,nr=t)}}else{if(tv(t))throw Error(re(418));t.flags=t.flags&-4097|2,bt=!1,nr=t}}}function cx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function Ch(t){if(t!==nr)return!1;if(!bt)return cx(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qg(t.type,t.memoizedProps)),e&&(e=tr)){if(tv(t))throw LT(),Error(re(418));for(;e;)RT(t,e),e=Js(e.nextSibling)}if(cx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=Js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=nr?Js(t.stateNode.nextSibling):null;return!0}function LT(){for(var t=tr;t;)t=Js(t.nextSibling)}function Hl(){tr=nr=null,bt=!1}function Uy(t){Ur===null?Ur=[t]:Ur.push(t)}var AL=vs.ReactCurrentBatchConfig;function tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dx(t){var e=t._init;return e(t._payload)}function MT(t){function e(N,T){if(t){var I=N.deletions;I===null?(N.deletions=[T],N.flags|=16):I.push(T)}}function n(N,T){if(!t)return null;for(;T!==null;)e(N,T),T=T.sibling;return null}function r(N,T){for(N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function i(N,T){return N=ro(N,T),N.index=0,N.sibling=null,N}function s(N,T,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<T?(N.flags|=2,T):I):(N.flags|=2,T)):(N.flags|=1048576,T)}function a(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,T,I,O){return T===null||T.tag!==6?(T=Zm(I,N.mode,O),T.return=N,T):(T=i(T,I),T.return=N,T)}function c(N,T,I,O){var z=I.type;return z===dl?p(N,T,I.props.children,O,I.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===js&&dx(z)===T.type)?(O=i(T,I.props),O.ref=tc(N,T,I),O.return=N,O):(O=sf(I.type,I.key,I.props,null,N.mode,O),O.ref=tc(N,T,I),O.return=N,O)}function d(N,T,I,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=Ym(I,N.mode,O),T.return=N,T):(T=i(T,I.children||[]),T.return=N,T)}function p(N,T,I,O,z){return T===null||T.tag!==7?(T=na(I,N.mode,O,z),T.return=N,T):(T=i(T,I),T.return=N,T)}function g(N,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Zm(""+T,N.mode,I),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gh:return I=sf(T.type,T.key,T.props,null,N.mode,I),I.ref=tc(N,null,T),I.return=N,I;case cl:return T=Ym(T,N.mode,I),T.return=N,T;case js:var O=T._init;return g(N,O(T._payload),I)}if(cc(T)||Yu(T))return T=na(T,N.mode,I,null),T.return=N,T;Ph(N,T)}return null}function y(N,T,I,O){var z=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return z!==null?null:l(N,T,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case gh:return I.key===z?c(N,T,I,O):null;case cl:return I.key===z?d(N,T,I,O):null;case js:return z=I._init,y(N,T,z(I._payload),O)}if(cc(I)||Yu(I))return z!==null?null:p(N,T,I,O,null);Ph(N,I)}return null}function _(N,T,I,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return N=N.get(I)||null,l(T,N,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case gh:return N=N.get(O.key===null?I:O.key)||null,c(T,N,O,z);case cl:return N=N.get(O.key===null?I:O.key)||null,d(T,N,O,z);case js:var H=O._init;return _(N,T,I,H(O._payload),z)}if(cc(O)||Yu(O))return N=N.get(I)||null,p(T,N,O,z,null);Ph(T,O)}return null}function S(N,T,I,O){for(var z=null,H=null,R=T,A=T=0,D=null;R!==null&&A<I.length;A++){R.index>A?(D=R,R=null):D=R.sibling;var j=y(N,R,I[A],O);if(j===null){R===null&&(R=D);break}t&&R&&j.alternate===null&&e(N,R),T=s(j,T,A),H===null?z=j:H.sibling=j,H=j,R=D}if(A===I.length)return n(N,R),bt&&Fo(N,A),z;if(R===null){for(;A<I.length;A++)R=g(N,I[A],O),R!==null&&(T=s(R,T,A),H===null?z=R:H.sibling=R,H=R);return bt&&Fo(N,A),z}for(R=r(N,R);A<I.length;A++)D=_(R,N,A,I[A],O),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?A:D.key),T=s(D,T,A),H===null?z=D:H.sibling=D,H=D);return t&&R.forEach(function(F){return e(N,F)}),bt&&Fo(N,A),z}function x(N,T,I,O){var z=Yu(I);if(typeof z!="function")throw Error(re(150));if(I=z.call(I),I==null)throw Error(re(151));for(var H=z=null,R=T,A=T=0,D=null,j=I.next();R!==null&&!j.done;A++,j=I.next()){R.index>A?(D=R,R=null):D=R.sibling;var F=y(N,R,j.value,O);if(F===null){R===null&&(R=D);break}t&&R&&F.alternate===null&&e(N,R),T=s(F,T,A),H===null?z=F:H.sibling=F,H=F,R=D}if(j.done)return n(N,R),bt&&Fo(N,A),z;if(R===null){for(;!j.done;A++,j=I.next())j=g(N,j.value,O),j!==null&&(T=s(j,T,A),H===null?z=j:H.sibling=j,H=j);return bt&&Fo(N,A),z}for(R=r(N,R);!j.done;A++,j=I.next())j=_(R,N,A,j.value,O),j!==null&&(t&&j.alternate!==null&&R.delete(j.key===null?A:j.key),T=s(j,T,A),H===null?z=j:H.sibling=j,H=j);return t&&R.forEach(function(B){return e(N,B)}),bt&&Fo(N,A),z}function C(N,T,I,O){if(typeof I=="object"&&I!==null&&I.type===dl&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case gh:e:{for(var z=I.key,H=T;H!==null;){if(H.key===z){if(z=I.type,z===dl){if(H.tag===7){n(N,H.sibling),T=i(H,I.props.children),T.return=N,N=T;break e}}else if(H.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===js&&dx(z)===H.type){n(N,H.sibling),T=i(H,I.props),T.ref=tc(N,H,I),T.return=N,N=T;break e}n(N,H);break}else e(N,H);H=H.sibling}I.type===dl?(T=na(I.props.children,N.mode,O,I.key),T.return=N,N=T):(O=sf(I.type,I.key,I.props,null,N.mode,O),O.ref=tc(N,T,I),O.return=N,N=O)}return a(N);case cl:e:{for(H=I.key;T!==null;){if(T.key===H)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(N,T.sibling),T=i(T,I.children||[]),T.return=N,N=T;break e}else{n(N,T);break}else e(N,T);T=T.sibling}T=Ym(I,N.mode,O),T.return=N,N=T}return a(N);case js:return H=I._init,C(N,T,H(I._payload),O)}if(cc(I))return S(N,T,I,O);if(Yu(I))return x(N,T,I,O);Ph(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(N,T.sibling),T=i(T,I),T.return=N,N=T):(n(N,T),T=Zm(I,N.mode,O),T.return=N,N=T),a(N)):n(N,T)}return C}var Wl=MT(!0),OT=MT(!1),kf=bo(null),Rf=null,_l=null,Hy=null;function Wy(){Hy=_l=Rf=null}function qy(t){var e=kf.current;yt(kf),t._currentValue=e}function rv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cl(t,e){Rf=t,Hy=_l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function Cr(t){var e=t._currentValue;if(Hy!==t)if(t={context:t,memoizedValue:e,next:null},_l===null){if(Rf===null)throw Error(re(308));_l=t,Rf.dependencies={lanes:0,firstContext:t}}else _l=_l.next=t;return e}var Wo=null;function Ky(t){Wo===null?Wo=[t]:Wo.push(t)}function DT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ky(e)):(n.next=i.next,i.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vs=!1;function Gy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ls(t,n)}return i=r.interleaved,i===null?(e.next=e,Ky(r)):(e.next=i.next,i.next=e),r.interleaved=e,ls(t,n)}function Xh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ly(t,n)}}function hx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lf(t,e,n,r){var i=t.updateQueue;Vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,p=d=c=null,l=s;do{var y=l.lane,_=l.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,x=l;switch(y=e,_=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){g=S.call(_,g,y);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,y=typeof S=="function"?S.call(_,g,y):S,y==null)break e;g=Pt({},g,y);break e;case 2:Vs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else _={eventTime:_,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=_,c=g):p=p.next=_,a|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ca|=a,t.lanes=a,t.memoizedState=g}}function fx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var Cd={},Ti=bo(Cd),Wc=bo(Cd),qc=bo(Cd);function qo(t){if(t===Cd)throw Error(re(174));return t}function Zy(t,e){switch(ht(qc,e),ht(Wc,t),ht(Ti,Cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}yt(Ti),ht(Ti,e)}function ql(){yt(Ti),yt(Wc),yt(qc)}function VT(t){qo(qc.current);var e=qo(Ti.current),n=jg(e,t.type);e!==n&&(ht(Wc,t),ht(Ti,n))}function Yy(t){Wc.current===t&&(yt(Ti),yt(Wc))}var St=bo(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function Qy(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var Jh=vs.ReactCurrentDispatcher,Hm=vs.ReactCurrentBatchConfig,ua=0,Ct=null,qt=null,tn=null,Of=!1,Ec=!1,Kc=0,kL=0;function mn(){throw Error(re(321))}function Xy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function Jy(t,e,n,r,i,s){if(ua=s,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jh.current=t===null||t.memoizedState===null?OL:DL,t=n(r,i),Ec){s=0;do{if(Ec=!1,Kc=0,25<=s)throw Error(re(301));s+=1,tn=qt=null,e.updateQueue=null,Jh.current=jL,t=n(r,i)}while(Ec)}if(Jh.current=Df,e=qt!==null&&qt.next!==null,ua=0,tn=qt=Ct=null,Of=!1,e)throw Error(re(300));return t}function e_(){var t=Kc!==0;return Kc=0,t}function hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ct.memoizedState=tn=t:tn=tn.next=t,tn}function Pr(){if(qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=tn===null?Ct.memoizedState:tn.next;if(e!==null)tn=e,qt=t;else{if(t===null)throw Error(re(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},tn===null?Ct.memoizedState=tn=t:tn=tn.next=t}return tn}function Gc(t,e){return typeof e=="function"?e(t):e}function Wm(t){var e=Pr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=qt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,d=s;do{var p=d.lane;if((ua&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=g,a=r):c=c.next=g,Ct.lanes|=p,ca|=p}d=d.next}while(d!==null&&d!==s);c===null?a=r:c.next=l,Gr(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ct.lanes|=s,ca|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qm(t){var e=Pr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Gr(s,e.memoizedState)||($n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function FT(){}function BT(t,e){var n=Ct,r=Pr(),i=e(),s=!Gr(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,t_(UT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,Zc(9,$T.bind(null,n,r,i,e),void 0,null),rn===null)throw Error(re(349));ua&30||zT(n,e,i)}return i}function zT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $T(t,e,n,r){e.value=n,e.getSnapshot=r,HT(e)&&WT(t)}function UT(t,e,n){return n(function(){HT(e)&&WT(t)})}function HT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function WT(t){var e=ls(t,1);e!==null&&Kr(e,t,1,-1)}function px(t){var e=hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:t},e.queue=t,t=t.dispatch=ML.bind(null,Ct,t),[e.memoizedState,t]}function Zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qT(){return Pr().memoizedState}function ef(t,e,n,r){var i=hi();Ct.flags|=t,i.memoizedState=Zc(1|e,n,void 0,r===void 0?null:r)}function Tp(t,e,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(qt!==null){var a=qt.memoizedState;if(s=a.destroy,r!==null&&Xy(r,a.deps)){i.memoizedState=Zc(e,n,s,r);return}}Ct.flags|=t,i.memoizedState=Zc(1|e,n,s,r)}function mx(t,e){return ef(8390656,8,t,e)}function t_(t,e){return Tp(2048,8,t,e)}function KT(t,e){return Tp(4,2,t,e)}function GT(t,e){return Tp(4,4,t,e)}function ZT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YT(t,e,n){return n=n!=null?n.concat([t]):null,Tp(4,4,ZT.bind(null,e,t),n)}function n_(){}function QT(t,e){var n=Pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XT(t,e){var n=Pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JT(t,e,n){return ua&21?(Gr(n,e)||(n=iT(),Ct.lanes|=n,ca|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=n)}function RL(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var r=Hm.transition;Hm.transition={};try{t(!1),e()}finally{ot=n,Hm.transition=r}}function eS(){return Pr().memoizedState}function LL(t,e,n){var r=no(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tS(t))nS(e,n);else if(n=DT(t,e,n,r),n!==null){var i=An();Kr(n,t,r,i),rS(n,e,r)}}function ML(t,e,n){var r=no(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tS(t))nS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,a)){var c=e.interleaved;c===null?(i.next=i,Ky(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=DT(t,e,i,r),n!==null&&(i=An(),Kr(n,t,r,i),rS(n,e,r))}}function tS(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function nS(t,e){Ec=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ly(t,n)}}var Df={readContext:Cr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},OL={readContext:Cr,useCallback:function(t,e){return hi().memoizedState=[t,e===void 0?null:e],t},useContext:Cr,useEffect:mx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,ZT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LL.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=hi();return t={current:t},e.memoizedState=t},useState:px,useDebugValue:n_,useDeferredValue:function(t){return hi().memoizedState=t},useTransition:function(){var t=px(!1),e=t[0];return t=RL.bind(null,t[1]),hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,i=hi();if(bt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),rn===null)throw Error(re(349));ua&30||zT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mx(UT.bind(null,r,s,t),[t]),r.flags|=2048,Zc(9,$T.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hi(),e=rn.identifierPrefix;if(bt){var n=ns,r=ts;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DL={readContext:Cr,useCallback:QT,useContext:Cr,useEffect:t_,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:GT,useMemo:XT,useReducer:Wm,useRef:qT,useState:function(){return Wm(Gc)},useDebugValue:n_,useDeferredValue:function(t){var e=Pr();return JT(e,qt.memoizedState,t)},useTransition:function(){var t=Wm(Gc)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:FT,useSyncExternalStore:BT,useId:eS,unstable_isNewReconciler:!1},jL={readContext:Cr,useCallback:QT,useContext:Cr,useEffect:t_,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:GT,useMemo:XT,useReducer:qm,useRef:qT,useState:function(){return qm(Gc)},useDebugValue:n_,useDeferredValue:function(t){var e=Pr();return qt===null?e.memoizedState=t:JT(e,qt.memoizedState,t)},useTransition:function(){var t=qm(Gc)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:FT,useSyncExternalStore:BT,useId:eS,unstable_isNewReconciler:!1};function Vr(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sp={isMounted:function(t){return(t=t._reactInternals)?ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),i=no(t),s=rs(r,i);s.payload=e,n!=null&&(s.callback=n),e=eo(t,s,i),e!==null&&(Kr(e,t,i,r),Xh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),i=no(t),s=rs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=eo(t,s,i),e!==null&&(Kr(e,t,i,r),Xh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=no(t),i=rs(n,r);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,r),e!==null&&(Kr(e,t,r,n),Xh(e,t,r))}};function gx(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!zc(n,r)||!zc(i,s):!0}function iS(t,e,n){var r=!1,i=ho,s=e.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Wn(e)?aa:En.current,r=e.contextTypes,s=(r=r!=null)?Ul(t,i):ho),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sp.enqueueReplaceState(e,e.state,null)}function sv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Wn(e)?aa:En.current,i.context=Ul(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sp.enqueueReplaceState(i,i.state,null),Lf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kl(t,e){try{var n="",r=e;do n+=d2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ov(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function sS(t,e,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vf||(Vf=!0,gv=r),ov(t,e)},n}function oS(t,e,n){n=rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ov(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ov(t,e),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function yx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XL.bind(null,t,e,n),e.then(t,t))}function _x(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rs(-1,1),e.tag=2,eo(n,e,1))),n.lanes|=1),t)}var FL=vs.ReactCurrentOwner,$n=!1;function Pn(t,e,n,r){e.child=t===null?OT(e,null,n,r):Wl(e,t.child,n,r)}function xx(t,e,n,r,i){n=n.render;var s=e.ref;return Cl(e,i),r=Jy(t,e,n,r,s,i),n=e_(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,us(t,e,i)):(bt&&n&&zy(e),e.flags|=1,Pn(t,e,r,i),e.child)}function bx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!c_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aS(t,e,s,r,i)):(t=sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:zc,n(a,r)&&t.ref===e.ref)return us(t,e,i)}return e.flags|=1,t=ro(s,r),t.ref=e.ref,t.return=e,e.child=t}function aS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zc(s,r)&&t.ref===e.ref)if($n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,us(t,e,i)}return av(t,e,n,r,i)}function lS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(xl,Jn),Jn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(xl,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ht(xl,Jn),Jn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ht(xl,Jn),Jn|=r;return Pn(t,e,i,n),e.child}function uS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function av(t,e,n,r,i){var s=Wn(n)?aa:En.current;return s=Ul(e,s),Cl(e,i),n=Jy(t,e,n,r,s,i),r=e_(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,us(t,e,i)):(bt&&r&&zy(e),e.flags|=1,Pn(t,e,n,i),e.child)}function Ex(t,e,n,r,i){if(Wn(n)){var s=!0;If(e)}else s=!1;if(Cl(e,i),e.stateNode===null)tf(t,e),iS(e,n,r),sv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Cr(d):(d=Wn(n)?aa:En.current,d=Ul(e,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&vx(e,a,r,d),Vs=!1;var y=e.memoizedState;a.state=y,Lf(e,r,a,i),c=e.memoizedState,l!==r||y!==c||Hn.current||Vs?(typeof p=="function"&&(iv(e,n,p,r),c=e.memoizedState),(l=Vs||gx(e,n,l,r,y,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,jT(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Vr(e.type,l),a.props=d,g=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Wn(n)?aa:En.current,c=Ul(e,c));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||y!==c)&&vx(e,a,r,c),Vs=!1,y=e.memoizedState,a.state=y,Lf(e,r,a,i);var S=e.memoizedState;l!==g||y!==S||Hn.current||Vs?(typeof _=="function"&&(iv(e,n,_,r),S=e.memoizedState),(d=Vs||gx(e,n,d,r,y,S,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return lv(t,e,n,r,s,i)}function lv(t,e,n,r,i,s){uS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&lx(e,n,!1),us(t,e,s);r=e.stateNode,FL.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Wl(e,t.child,null,s),e.child=Wl(e,null,l,s)):Pn(t,e,l,s),e.memoizedState=r.state,i&&lx(e,n,!0),e.child}function cS(t){var e=t.stateNode;e.pendingContext?ax(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ax(t,e.context,!1),Zy(t,e.containerInfo)}function Tx(t,e,n,r,i){return Hl(),Uy(i),e.flags|=256,Pn(t,e,n,r),e.child}var uv={dehydrated:null,treeContext:null,retryLane:0};function cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function dS(t,e,n){var r=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ht(St,i&1),t===null)return nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ip(a,r,0,null),t=na(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cv(n),e.memoizedState=uv,t):r_(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return BL(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ro(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ro(l,s):(s=na(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?cv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=uv,r}return s=t.child,t=s.sibling,r=ro(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function r_(t,e){return e=Ip({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ih(t,e,n,r){return r!==null&&Uy(r),Wl(e,t.child,null,n),t=r_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BL(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(re(422))),Ih(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ip({mode:"visible",children:r.children},i,0,null),s=na(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wl(e,t.child,null,a),e.child.memoizedState=cv(a),e.memoizedState=uv,s);if(!(e.mode&1))return Ih(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(re(419)),r=Km(s,r,void 0),Ih(t,e,a,r)}if(l=(a&t.childLanes)!==0,$n||l){if(r=rn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ls(t,i),Kr(r,t,i,-1))}return u_(),r=Km(Error(re(421))),Ih(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tr=Js(i.nextSibling),nr=e,bt=!0,Ur=null,t!==null&&(xr[br++]=ts,xr[br++]=ns,xr[br++]=la,ts=t.id,ns=t.overflow,la=e),e=r_(e,r.children),e.flags|=4096,e)}function Sx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rv(t.return,e,n)}function Gm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pn(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sx(t,n,e);else if(t.tag===19)Sx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ht(St,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gm(e,!0,n,null,s);break;case"together":Gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ca|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zL(t,e,n){switch(e.tag){case 3:cS(e),Hl();break;case 5:VT(e);break;case 1:Wn(e.type)&&If(e);break;case 4:Zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ht(kf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ht(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?dS(t,e,n):(ht(St,St.current&1),t=us(t,e,n),t!==null?t.sibling:null);ht(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ht(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,lS(t,e,n)}return us(t,e,n)}var fS,dv,pS,mS;fS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dv=function(){};pS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qo(Ti.current);var s=null;switch(n){case"input":i=Lg(t,i),r=Lg(t,r),s=[];break;case"select":i=Pt({},i,{value:void 0}),r=Pt({},r,{value:void 0}),s=[];break;case"textarea":i=Dg(t,i),r=Dg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cf)}Vg(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Mc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Mc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&gt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};mS=function(t,e,n,r){n!==r&&(e.flags|=4)};function nc(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $L(t,e,n){var r=e.pendingProps;switch($y(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Wn(e.type)&&Pf(),gn(e),null;case 3:return r=e.stateNode,ql(),yt(Hn),yt(En),Qy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(_v(Ur),Ur=null))),dv(t,e),gn(e),null;case 5:Yy(e);var i=qo(qc.current);if(n=e.type,t!==null&&e.stateNode!=null)pS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return gn(e),null}if(t=qo(Ti.current),Ch(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yi]=e,r[Hc]=s,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<hc.length;i++)gt(hc[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":M0(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":D0(r,s),gt("invalid",r)}Vg(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,l,t),i=["children",""+l]):Mc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&gt("scroll",r)}switch(n){case"input":vh(r),O0(r,s,!0);break;case"textarea":vh(r),j0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[yi]=e,t[Hc]=r,fS(t,e,!1,!1),e.stateNode=t;e:{switch(a=Fg(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<hc.length;i++)gt(hc[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":M0(t,r),i=Lg(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":D0(t,r),i=Dg(t,r),gt("invalid",t);break;default:i=r}Vg(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?qE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&HE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Oc(t,c):typeof c=="number"&&Oc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&gt("scroll",t):c!=null&&Py(t,s,c,a))}switch(n){case"input":vh(t),O0(t,r,!1);break;case"textarea":vh(t),j0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+co(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bl(t,!!r.multiple,s,!1):r.defaultValue!=null&&bl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)mS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=qo(qc.current),qo(Ti.current),Ch(e)){if(r=e.stateNode,n=e.memoizedProps,r[yi]=e,(s=r.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:Sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yi]=e,e.stateNode=r}return gn(e),null;case 13:if(yt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&tr!==null&&e.mode&1&&!(e.flags&128))LT(),Hl(),e.flags|=98560,s=!1;else if(s=Ch(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[yi]=e}else Hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),s=!1}else Ur!==null&&(_v(Ur),Ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?Kt===0&&(Kt=3):u_())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return ql(),dv(t,e),t===null&&$c(e.stateNode.containerInfo),gn(e),null;case 10:return qy(e.type._context),gn(e),null;case 17:return Wn(e.type)&&Pf(),gn(e),null;case 19:if(yt(St),s=e.memoizedState,s===null)return gn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)nc(s,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mf(t),a!==null){for(e.flags|=128,nc(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>Gl&&(e.flags|=128,r=!0,nc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!bt)return gn(e),null}else 2*Mt()-s.renderingStartTime>Gl&&n!==1073741824&&(e.flags|=128,r=!0,nc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,n=St.current,ht(St,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return l_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function UL(t,e){switch($y(e),e.tag){case 1:return Wn(e.type)&&Pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),yt(Hn),yt(En),Qy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yy(e),null;case 13:if(yt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(St),null;case 4:return ql(),null;case 10:return qy(e.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var Nh=!1,xn=!1,HL=typeof WeakSet=="function"?WeakSet:Set,pe=null;function wl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){kt(t,e,r)}}var Cx=!1;function WL(t,e){if(Zg=Ef,t=wT(),By(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,p=0,g=t,y=null;t:for(;;){for(var _;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)y=g,g=_;for(;;){if(g===t)break t;if(y===n&&++d===i&&(l=a),y===s&&++p===r&&(c=a),(_=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=_}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},Ef=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,C=S.memoizedState,N=e.stateNode,T=N.getSnapshotBeforeUpdate(e.elementType===e.type?x:Vr(e.type,x),C);N.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(O){kt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return S=Cx,Cx=!1,S}function Tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hv(e,n,s)}i=i.next}while(i!==r)}}function Cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gS(t){var e=t.alternate;e!==null&&(t.alternate=null,gS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yi],delete e[Hc],delete e[Jg],delete e[PL],delete e[IL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function Px(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cf));else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}var sn=null,$r=!1;function ks(t,e,n){for(n=n.child;n!==null;)yS(t,e,n),n=n.sibling}function yS(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(yp,n)}catch{}switch(n.tag){case 5:xn||wl(n,e);case 6:var r=sn,i=$r;sn=null,ks(t,e,n),sn=r,$r=i,sn!==null&&($r?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&($r?(t=sn,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),Fc(t)):zm(sn,n.stateNode));break;case 4:r=sn,i=$r,sn=n.stateNode.containerInfo,$r=!0,ks(t,e,n),sn=r,$r=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hv(n,e,a),i=i.next}while(i!==r)}ks(t,e,n);break;case 1:if(!xn&&(wl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kt(n,e,l)}ks(t,e,n);break;case 21:ks(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,ks(t,e,n),xn=r):ks(t,e,n);break;default:ks(t,e,n)}}function Ix(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HL),e.forEach(function(r){var i=eM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:sn=l.stateNode,$r=!1;break e;case 3:sn=l.stateNode.containerInfo,$r=!0;break e;case 4:sn=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(sn===null)throw Error(re(160));yS(s,a,i),sn=null,$r=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){kt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Or(e,t),di(t),r&4){try{Tc(3,t,t.return),Cp(3,t)}catch(x){kt(t,t.return,x)}try{Tc(5,t,t.return)}catch(x){kt(t,t.return,x)}}break;case 1:Or(e,t),di(t),r&512&&n!==null&&wl(n,n.return);break;case 5:if(Or(e,t),di(t),r&512&&n!==null&&wl(n,n.return),t.flags&32){var i=t.stateNode;try{Oc(i,"")}catch(x){kt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zE(i,s),Fg(l,a);var d=Fg(l,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?qE(i,g):p==="dangerouslySetInnerHTML"?HE(i,g):p==="children"?Oc(i,g):Py(i,p,g,d)}switch(l){case"input":Mg(i,s);break;case"textarea":$E(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?bl(i,!!s.multiple,_,!1):y!==!!s.multiple&&(s.defaultValue!=null?bl(i,!!s.multiple,s.defaultValue,!0):bl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hc]=s}catch(x){kt(t,t.return,x)}}break;case 6:if(Or(e,t),di(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){kt(t,t.return,x)}}break;case 3:if(Or(e,t),di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fc(e.containerInfo)}catch(x){kt(t,t.return,x)}break;case 4:Or(e,t),di(t);break;case 13:Or(e,t),di(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(o_=Mt())),r&4&&Ix(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(d=xn)||p,Or(e,t),xn=d):Or(e,t),di(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(pe=t,p=t.child;p!==null;){for(g=pe=p;pe!==null;){switch(y=pe,_=y.child,y.tag){case 0:case 11:case 14:case 15:Tc(4,y,y.return);break;case 1:wl(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){kt(r,n,x)}}break;case 5:wl(y,y.return);break;case 22:if(y.memoizedState!==null){Ax(g);continue}}_!==null?(_.return=y,pe=_):Ax(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WE("display",a))}catch(x){kt(t,t.return,x)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(x){kt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Or(e,t),di(t),r&4&&Ix(t);break;case 21:break;default:Or(e,t),di(t)}}function di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oc(i,""),r.flags&=-33);var s=Px(t);mv(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Px(t);pv(t,l,a);break;default:throw Error(re(161))}}catch(c){kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qL(t,e,n){pe=t,wS(t)}function wS(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Nh;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||xn;l=Nh;var d=xn;if(Nh=a,(xn=c)&&!d)for(pe=i;pe!==null;)a=pe,c=a.child,a.tag===22&&a.memoizedState!==null?kx(i):c!==null?(c.return=a,pe=c):kx(i);for(;s!==null;)pe=s,wS(s),s=s.sibling;pe=i,Nh=l,xn=d}Nx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):Nx(t)}}function Nx(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||Cp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fx(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fx(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Fc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}xn||e.flags&512&&fv(e)}catch(y){kt(e,e.return,y)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function Ax(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function kx(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cp(4,e)}catch(c){kt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){kt(e,i,c)}}var s=e.return;try{fv(e)}catch(c){kt(e,s,c)}break;case 5:var a=e.return;try{fv(e)}catch(c){kt(e,a,c)}}}catch(c){kt(e,e.return,c)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var KL=Math.ceil,jf=vs.ReactCurrentDispatcher,i_=vs.ReactCurrentOwner,Sr=vs.ReactCurrentBatchConfig,Xe=0,rn=null,zt=null,un=0,Jn=0,xl=bo(0),Kt=0,Yc=null,ca=0,Pp=0,s_=0,Sc=null,zn=null,o_=0,Gl=1/0,Xi=null,Vf=!1,gv=null,to=null,Ah=!1,Ks=null,Ff=0,Cc=0,vv=null,nf=-1,rf=0;function An(){return Xe&6?Mt():nf!==-1?nf:nf=Mt()}function no(t){return t.mode&1?Xe&2&&un!==0?un&-un:AL.transition!==null?(rf===0&&(rf=iT()),rf):(t=ot,t!==0||(t=window.event,t=t===void 0?16:dT(t.type)),t):1}function Kr(t,e,n,r){if(50<Cc)throw Cc=0,vv=null,Error(re(185));Ed(t,n,r),(!(Xe&2)||t!==rn)&&(t===rn&&(!(Xe&2)&&(Pp|=n),Kt===4&&Bs(t,un)),qn(t,r),n===1&&Xe===0&&!(e.mode&1)&&(Gl=Mt()+500,Ep&&Eo()))}function qn(t,e){var n=t.callbackNode;A2(t,e);var r=bf(t,t===rn?un:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?NL(Rx.bind(null,t)):AT(Rx.bind(null,t)),SL(function(){!(Xe&6)&&Eo()}),n=null;else{switch(sT(r)){case 1:n=Ry;break;case 4:n=nT;break;case 16:n=xf;break;case 536870912:n=rT;break;default:n=xf}n=IS(n,xS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xS(t,e){if(nf=-1,rf=0,Xe&6)throw Error(re(327));var n=t.callbackNode;if(Pl()&&t.callbackNode!==n)return null;var r=bf(t,t===rn?un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bf(t,r);else{e=r;var i=Xe;Xe|=2;var s=ES();(rn!==t||un!==e)&&(Xi=null,Gl=Mt()+500,ta(t,e));do try{YL();break}catch(l){bS(t,l)}while(!0);Wy(),jf.current=s,Xe=i,zt!==null?e=0:(rn=null,un=0,e=Kt)}if(e!==0){if(e===2&&(i=Hg(t),i!==0&&(r=i,e=yv(t,i))),e===1)throw n=Yc,ta(t,0),Bs(t,r),qn(t,Mt()),n;if(e===6)Bs(t,r);else{if(i=t.current.alternate,!(r&30)&&!GL(i)&&(e=Bf(t,r),e===2&&(s=Hg(t),s!==0&&(r=s,e=yv(t,s))),e===1))throw n=Yc,ta(t,0),Bs(t,r),qn(t,Mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Bo(t,zn,Xi);break;case 3:if(Bs(t,r),(r&130023424)===r&&(e=o_+500-Mt(),10<e)){if(bf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xg(Bo.bind(null,t,zn,Xi),e);break}Bo(t,zn,Xi);break;case 4:if(Bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-qr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KL(r/1960))-r,10<r){t.timeoutHandle=Xg(Bo.bind(null,t,zn,Xi),r);break}Bo(t,zn,Xi);break;case 5:Bo(t,zn,Xi);break;default:throw Error(re(329))}}}return qn(t,Mt()),t.callbackNode===n?xS.bind(null,t):null}function yv(t,e){var n=Sc;return t.current.memoizedState.isDehydrated&&(ta(t,e).flags|=256),t=Bf(t,e),t!==2&&(e=zn,zn=n,e!==null&&_v(e)),t}function _v(t){zn===null?zn=t:zn.push.apply(zn,t)}function GL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e){for(e&=~s_,e&=~Pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qr(e),r=1<<n;t[n]=-1,e&=~r}}function Rx(t){if(Xe&6)throw Error(re(327));Pl();var e=bf(t,0);if(!(e&1))return qn(t,Mt()),null;var n=Bf(t,e);if(t.tag!==0&&n===2){var r=Hg(t);r!==0&&(e=r,n=yv(t,r))}if(n===1)throw n=Yc,ta(t,0),Bs(t,e),qn(t,Mt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bo(t,zn,Xi),qn(t,Mt()),null}function a_(t,e){var n=Xe;Xe|=1;try{return t(e)}finally{Xe=n,Xe===0&&(Gl=Mt()+500,Ep&&Eo())}}function da(t){Ks!==null&&Ks.tag===0&&!(Xe&6)&&Pl();var e=Xe;Xe|=1;var n=Sr.transition,r=ot;try{if(Sr.transition=null,ot=1,t)return t()}finally{ot=r,Sr.transition=n,Xe=e,!(Xe&6)&&Eo()}}function l_(){Jn=xl.current,yt(xl)}function ta(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TL(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch($y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pf();break;case 3:ql(),yt(Hn),yt(En),Qy();break;case 5:Yy(r);break;case 4:ql();break;case 13:yt(St);break;case 19:yt(St);break;case 10:qy(r.type._context);break;case 22:case 23:l_()}n=n.return}if(rn=t,zt=t=ro(t.current,null),un=Jn=e,Kt=0,Yc=null,s_=Pp=ca=0,zn=Sc=null,Wo!==null){for(e=0;e<Wo.length;e++)if(n=Wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Wo=null}return t}function bS(t,e){do{var n=zt;try{if(Wy(),Jh.current=Df,Of){for(var r=Ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Of=!1}if(ua=0,tn=qt=Ct=null,Ec=!1,Kc=0,i_.current=null,n===null||n.return===null){Kt=1,Yc=e,zt=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=un,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=_x(a);if(_!==null){_.flags&=-257,wx(_,a,l,s,e),_.mode&1&&yx(s,d,e),e=_,c=d;var S=e.updateQueue;if(S===null){var x=new Set;x.add(c),e.updateQueue=x}else S.add(c);break e}else{if(!(e&1)){yx(s,d,e),u_();break e}c=Error(re(426))}}else if(bt&&l.mode&1){var C=_x(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),wx(C,a,l,s,e),Uy(Kl(c,l));break e}}s=c=Kl(c,l),Kt!==4&&(Kt=2),Sc===null?Sc=[s]:Sc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var N=sS(s,c,e);hx(s,N);break e;case 1:l=c;var T=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(to===null||!to.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=oS(s,l,e);hx(s,O);break e}}s=s.return}while(s!==null)}SS(n)}catch(z){e=z,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function ES(){var t=jf.current;return jf.current=Df,t===null?Df:t}function u_(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),rn===null||!(ca&268435455)&&!(Pp&268435455)||Bs(rn,un)}function Bf(t,e){var n=Xe;Xe|=2;var r=ES();(rn!==t||un!==e)&&(Xi=null,ta(t,e));do try{ZL();break}catch(i){bS(t,i)}while(!0);if(Wy(),Xe=n,jf.current=r,zt!==null)throw Error(re(261));return rn=null,un=0,Kt}function ZL(){for(;zt!==null;)TS(zt)}function YL(){for(;zt!==null&&!x2();)TS(zt)}function TS(t){var e=PS(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?SS(t):zt=e,i_.current=null}function SS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UL(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,zt=null;return}}else if(n=$L(n,e,Jn),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Kt===0&&(Kt=5)}function Bo(t,e,n){var r=ot,i=Sr.transition;try{Sr.transition=null,ot=1,QL(t,e,n,r)}finally{Sr.transition=i,ot=r}return null}function QL(t,e,n,r){do Pl();while(Ks!==null);if(Xe&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(k2(t,s),t===rn&&(zt=rn=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ah||(Ah=!0,IS(xf,function(){return Pl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sr.transition,Sr.transition=null;var a=ot;ot=1;var l=Xe;Xe|=4,i_.current=null,WL(t,n),_S(n,t),vL(Yg),Ef=!!Zg,Yg=Zg=null,t.current=n,qL(n),b2(),Xe=l,ot=a,Sr.transition=s}else t.current=n;if(Ah&&(Ah=!1,Ks=t,Ff=i),s=t.pendingLanes,s===0&&(to=null),S2(n.stateNode),qn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vf)throw Vf=!1,t=gv,gv=null,t;return Ff&1&&t.tag!==0&&Pl(),s=t.pendingLanes,s&1?t===vv?Cc++:(Cc=0,vv=t):Cc=0,Eo(),null}function Pl(){if(Ks!==null){var t=sT(Ff),e=Sr.transition,n=ot;try{if(Sr.transition=null,ot=16>t?16:t,Ks===null)var r=!1;else{if(t=Ks,Ks=null,Ff=0,Xe&6)throw Error(re(331));var i=Xe;for(Xe|=4,pe=t.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(pe=d;pe!==null;){var p=pe;switch(p.tag){case 0:case 11:case 15:Tc(8,p,s)}var g=p.child;if(g!==null)g.return=p,pe=g;else for(;pe!==null;){p=pe;var y=p.sibling,_=p.return;if(gS(p),p===d){pe=null;break}if(y!==null){y.return=_,pe=y;break}pe=_}}}var S=s.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var C=x.sibling;x.sibling=null,x=C}while(x!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,pe=N;break e}pe=s.return}}var T=t.current;for(pe=T;pe!==null;){a=pe;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,pe=I;else e:for(a=T;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cp(9,l)}}catch(z){kt(l,l.return,z)}if(l===a){pe=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,pe=O;break e}pe=l.return}}if(Xe=i,Eo(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(yp,t)}catch{}r=!0}return r}finally{ot=n,Sr.transition=e}}return!1}function Lx(t,e,n){e=Kl(n,e),e=sS(t,e,1),t=eo(t,e,1),e=An(),t!==null&&(Ed(t,1,e),qn(t,e))}function kt(t,e,n){if(t.tag===3)Lx(t,t,n);else for(;e!==null;){if(e.tag===3){Lx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){t=Kl(n,t),t=oS(e,t,1),e=eo(e,t,1),t=An(),e!==null&&(Ed(e,1,t),qn(e,t));break}}e=e.return}}function XL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,rn===t&&(un&n)===n&&(Kt===4||Kt===3&&(un&130023424)===un&&500>Mt()-o_?ta(t,0):s_|=n),qn(t,e)}function CS(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var n=An();t=ls(t,e),t!==null&&(Ed(t,e,n),qn(t,n))}function JL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CS(t,n)}function eM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),CS(t,n)}var PS;PS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hn.current)$n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $n=!1,zL(t,e,n);$n=!!(t.flags&131072)}else $n=!1,bt&&e.flags&1048576&&kT(e,Af,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var i=Ul(e,En.current);Cl(e,n),i=Jy(null,e,r,t,i,n);var s=e_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wn(r)?(s=!0,If(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gy(e),i.updater=Sp,e.stateNode=i,i._reactInternals=e,sv(e,r,t,n),e=lv(null,e,r,!0,s,n)):(e.tag=0,bt&&s&&zy(e),Pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nM(r),t=Vr(r,t),i){case 0:e=av(null,e,r,t,n);break e;case 1:e=Ex(null,e,r,t,n);break e;case 11:e=xx(null,e,r,t,n);break e;case 14:e=bx(null,e,r,Vr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),av(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),Ex(t,e,r,i,n);case 3:e:{if(cS(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jT(t,e),Lf(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Kl(Error(re(423)),e),e=Tx(t,e,r,n,i);break e}else if(r!==i){i=Kl(Error(re(424)),e),e=Tx(t,e,r,n,i);break e}else for(tr=Js(e.stateNode.containerInfo.firstChild),nr=e,bt=!0,Ur=null,n=OT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hl(),r===i){e=us(t,e,n);break e}Pn(t,e,r,n)}e=e.child}return e;case 5:return VT(e),t===null&&nv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Qg(r,i)?a=null:s!==null&&Qg(r,s)&&(e.flags|=32),uS(t,e),Pn(t,e,a,n),e.child;case 6:return t===null&&nv(e),null;case 13:return dS(t,e,n);case 4:return Zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wl(e,null,r,n):Pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),xx(t,e,r,i,n);case 7:return Pn(t,e,e.pendingProps,n),e.child;case 8:return Pn(t,e,e.pendingProps.children,n),e.child;case 12:return Pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ht(kf,r._currentValue),r._currentValue=a,s!==null)if(Gr(s.value,a)){if(s.children===i.children&&!Hn.current){e=us(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=rs(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),rv(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),rv(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cl(e,n),i=Cr(i),r=r(i),e.flags|=1,Pn(t,e,r,n),e.child;case 14:return r=e.type,i=Vr(r,e.pendingProps),i=Vr(r.type,i),bx(t,e,r,i,n);case 15:return aS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),tf(t,e),e.tag=1,Wn(r)?(t=!0,If(e)):t=!1,Cl(e,n),iS(e,r,i),sv(e,r,i,n),lv(null,e,r,!0,t,n);case 19:return hS(t,e,n);case 22:return lS(t,e,n)}throw Error(re(156,e.tag))};function IS(t,e){return tT(t,e)}function tM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(t,e,n,r){return new tM(t,e,n,r)}function c_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nM(t){if(typeof t=="function")return c_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ny)return 11;if(t===Ay)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=Tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")c_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case dl:return na(n.children,i,s,e);case Iy:a=8,i|=8;break;case Ng:return t=Tr(12,n,e,i|2),t.elementType=Ng,t.lanes=s,t;case Ag:return t=Tr(13,n,e,i),t.elementType=Ag,t.lanes=s,t;case kg:return t=Tr(19,n,e,i),t.elementType=kg,t.lanes=s,t;case VE:return Ip(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DE:a=10;break e;case jE:a=9;break e;case Ny:a=11;break e;case Ay:a=14;break e;case js:a=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Tr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function na(t,e,n,r){return t=Tr(7,t,r,e),t.lanes=n,t}function Ip(t,e,n,r){return t=Tr(22,t,r,e),t.elementType=VE,t.lanes=n,t.stateNode={isHidden:!1},t}function Zm(t,e,n){return t=Tr(6,t,null,e),t.lanes=n,t}function Ym(t,e,n){return e=Tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Am(0),this.expirationTimes=Am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Am(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function d_(t,e,n,r,i,s,a,l,c){return t=new rM(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gy(s),t}function iM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NS(t){if(!t)return ho;t=t._reactInternals;e:{if(ba(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Wn(n))return NT(t,n,e)}return e}function AS(t,e,n,r,i,s,a,l,c){return t=d_(n,r,!0,t,i,s,a,l,c),t.context=NS(null),n=t.current,r=An(),i=no(n),s=rs(r,i),s.callback=e??null,eo(n,s,i),t.current.lanes=i,Ed(t,i,r),qn(t,r),t}function Np(t,e,n,r){var i=e.current,s=An(),a=no(i);return n=NS(n),e.context===null?e.context=n:e.pendingContext=n,e=rs(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=eo(i,e,a),t!==null&&(Kr(t,i,a,s),Xh(t,i,a)),a}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h_(t,e){Mx(t,e),(t=t.alternate)&&Mx(t,e)}function sM(){return null}var kS=typeof reportError=="function"?reportError:function(t){console.error(t)};function f_(t){this._internalRoot=t}Ap.prototype.render=f_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Np(t,e,null,null)};Ap.prototype.unmount=f_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;da(function(){Np(null,t,null,null)}),e[as]=null}};function Ap(t){this._internalRoot=t}Ap.prototype.unstable_scheduleHydration=function(t){if(t){var e=lT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fs.length&&e!==0&&e<Fs[n].priority;n++);Fs.splice(n,0,t),n===0&&cT(t)}};function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ox(){}function oM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=zf(a);s.call(d)}}var a=AS(e,r,t,0,null,!1,!1,"",Ox);return t._reactRootContainer=a,t[as]=a.current,$c(t.nodeType===8?t.parentNode:t),da(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=zf(c);l.call(d)}}var c=d_(t,0,!1,null,null,!1,!1,"",Ox);return t._reactRootContainer=c,t[as]=c.current,$c(t.nodeType===8?t.parentNode:t),da(function(){Np(e,c,n,r)}),c}function Rp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=zf(a);l.call(c)}}Np(e,a,t,i)}else a=oM(n,e,t,i,r);return zf(a)}oT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dc(e.pendingLanes);n!==0&&(Ly(e,n|1),qn(e,Mt()),!(Xe&6)&&(Gl=Mt()+500,Eo()))}break;case 13:da(function(){var r=ls(t,1);if(r!==null){var i=An();Kr(r,t,1,i)}}),h_(t,1)}};My=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=An();Kr(e,t,134217728,n)}h_(t,134217728)}};aT=function(t){if(t.tag===13){var e=no(t),n=ls(t,e);if(n!==null){var r=An();Kr(n,t,e,r)}h_(t,e)}};lT=function(){return ot};uT=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};zg=function(t,e,n){switch(e){case"input":if(Mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bp(r);if(!i)throw Error(re(90));BE(r),Mg(r,i)}}}break;case"textarea":$E(t,n);break;case"select":e=n.value,e!=null&&bl(t,!!n.multiple,e,!1)}};ZE=a_;YE=da;var aM={usingClientEntryPoint:!1,Events:[Sd,ml,bp,KE,GE,a_]},rc={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lM={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JE(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||sM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{yp=kh.inject(lM),Ei=kh}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p_(e))throw Error(re(200));return iM(t,e,null,n)};ar.createRoot=function(t,e){if(!p_(t))throw Error(re(299));var n=!1,r="",i=kS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=d_(t,1,!1,null,null,n,!1,r,i),t[as]=e.current,$c(t.nodeType===8?t.parentNode:t),new f_(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=JE(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return da(t)};ar.hydrate=function(t,e,n){if(!kp(e))throw Error(re(200));return Rp(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!p_(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=kS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=AS(e,null,t,1,n??null,i,!1,s,a),t[as]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ap(e)};ar.render=function(t,e,n){if(!kp(e))throw Error(re(200));return Rp(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!kp(t))throw Error(re(40));return t._reactRootContainer?(da(function(){Rp(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};ar.unstable_batchedUpdates=a_;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kp(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Rp(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(t){console.error(t)}}RS(),RE.exports=ar;var Ea=RE.exports;const LS=_y(Ea);var MS,Dx=Ea;MS=Dx.createRoot,Dx.hydrateRoot;const uM=1,cM=1e6;let Qm=0;function dM(){return Qm=(Qm+1)%Number.MAX_SAFE_INTEGER,Qm.toString()}const Xm=new Map,jx=t=>{if(Xm.has(t))return;const e=setTimeout(()=>{Xm.delete(t),Pc({type:"REMOVE_TOAST",toastId:t})},cM);Xm.set(t,e)},hM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,uM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?jx(n):t.toasts.forEach(r=>{jx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},of=[];let af={toasts:[]};function Pc(t){af=hM(af,t),of.forEach(e=>{e(af)})}function fM({...t}){const e=dM(),n=i=>Pc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Pc({type:"DISMISS_TOAST",toastId:e});return Pc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Lp(){const[t,e]=b.useState(af);return b.useEffect(()=>(of.push(e),()=>{const n=of.indexOf(e);n>-1&&of.splice(n,1)}),[t]),{...t,toast:fM,dismiss:n=>Pc({type:"DISMISS_TOAST",toastId:n})}}function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Vx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OS(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Vx(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Vx(t[i],null)}}}}function tt(...t){return b.useCallback(OS(...t),t)}function pM(t,e){const n=b.createContext(e),r=s=>{const{children:a,...l}=s,c=b.useMemo(()=>l,Object.values(l));return m.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=b.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function ys(t,e=[]){let n=[];function r(s,a){const l=b.createContext(a),c=n.length;n=[...n,a];const d=g=>{var N;const{scope:y,children:_,...S}=g,x=((N=y==null?void 0:y[t])==null?void 0:N[c])||l,C=b.useMemo(()=>S,Object.values(S));return m.jsx(x.Provider,{value:C,children:_})};d.displayName=s+"Provider";function p(g,y){var x;const _=((x=y==null?void 0:y[t])==null?void 0:x[c])||l,S=b.useContext(_);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,p]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,mM(i,...e)]}function mM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const g=c(s)[`__scope${d}`];return{...l,...g}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ha(t){const e=vM(t),n=b.forwardRef((r,i)=>{const{children:s,...a}=r,l=b.Children.toArray(s),c=l.find(yM);if(c){const d=c.props.children,p=l.map(g=>g===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:g);return m.jsx(e,{...a,ref:i,children:b.isValidElement(d)?b.cloneElement(d,void 0,p):null})}return m.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var gM=ha("Slot");function vM(t){const e=b.forwardRef((n,r)=>{const{children:i,...s}=n;if(b.isValidElement(i)){const a=wM(i),l=_M(s,i.props);return i.type!==b.Fragment&&(l.ref=r?OS(r,a):a),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DS=Symbol("radix.slottable");function jS(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=DS,e}function yM(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DS}function _M(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function wM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function VS(t){const e=t+"CollectionProvider",[n,r]=ys(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:C,children:N}=x,T=le.useRef(null),I=le.useRef(new Map).current;return m.jsx(i,{scope:C,itemMap:I,collectionRef:T,children:N})};a.displayName=e;const l=t+"CollectionSlot",c=ha(l),d=le.forwardRef((x,C)=>{const{scope:N,children:T}=x,I=s(l,N),O=tt(C,I.collectionRef);return m.jsx(c,{ref:O,children:T})});d.displayName=l;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=ha(p),_=le.forwardRef((x,C)=>{const{scope:N,children:T,...I}=x,O=le.useRef(null),z=tt(C,O),H=s(p,N);return le.useEffect(()=>(H.itemMap.set(O,{ref:O,...I}),()=>void H.itemMap.delete(O))),m.jsx(y,{[g]:"",ref:z,children:T})});_.displayName=p;function S(x){const C=s(t+"CollectionConsumer",x);return le.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const I=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((H,R)=>I.indexOf(H.ref.current)-I.indexOf(R.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:d,ItemSlot:_},S,r]}var xM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=xM.reduce((t,e)=>{const n=ha(`Primitive.${e}`),r=b.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function FS(t,e){t&&Ea.flushSync(()=>t.dispatchEvent(e))}function Zr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function bM(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var EM="DismissableLayer",wv="dismissableLayer.update",TM="dismissableLayer.pointerDownOutside",SM="dismissableLayer.focusOutside",Fx,BS=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cu=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,d=b.useContext(BS),[p,g]=b.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=b.useState({}),S=tt(e,R=>g(R)),x=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=x.indexOf(C),T=p?x.indexOf(p):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,O=T>=N,z=PM(R=>{const A=R.target,D=[...d.branches].some(j=>j.contains(A));!O||D||(i==null||i(R),a==null||a(R),R.defaultPrevented||l==null||l())},y),H=IM(R=>{const A=R.target;[...d.branches].some(j=>j.contains(A))||(s==null||s(R),a==null||a(R),R.defaultPrevented||l==null||l())},y);return bM(R=>{T===d.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},y),b.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Fx=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),Bx(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Fx)}},[p,y,n,d]),b.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),Bx())},[p,d]),b.useEffect(()=>{const R=()=>_({});return document.addEventListener(wv,R),()=>document.removeEventListener(wv,R)},[]),m.jsx($e.div,{...c,ref:S,style:{pointerEvents:I?O?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,H.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,z.onPointerDownCapture)})});cu.displayName=EM;var CM="DismissableLayerBranch",zS=b.forwardRef((t,e)=>{const n=b.useContext(BS),r=b.useRef(null),i=tt(e,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx($e.div,{...t,ref:i})});zS.displayName=CM;function PM(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){$S(TM,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function IM(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&$S(SM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bx(){const t=new CustomEvent(wv);document.dispatchEvent(t)}function $S(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?FS(i,s):i.dispatchEvent(s)}var NM=cu,AM=zS,dn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},kM="Portal",Pd=b.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=b.useState(!1);dn(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?LS.createPortal(m.jsx($e.div,{...r,ref:e}),a):null});Pd.displayName=kM;function RM(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var To=t=>{const{present:e,children:n}=t,r=LM(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=tt(r.ref,MM(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};To.displayName="Presence";function LM(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),a=t?"mounted":"unmounted",[l,c]=RM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Rh(r.current);s.current=l==="mounted"?d:"none"},[l]),dn(()=>{const d=r.current,p=i.current;if(p!==t){const y=s.current,_=Rh(d);t?c("MOUNT"):_==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),dn(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,g=_=>{const x=Rh(r.current).includes(_.animationName);if(_.target===e&&x&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},y=_=>{_.target===e&&(s.current=Rh(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Rh(t){return(t==null?void 0:t.animationName)||"none"}function MM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var OM=Ty[" useInsertionEffect ".trim().toString()]||dn;function Zl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=DM({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const p=b.useRef(t!==void 0);b.useEffect(()=>{const g=p.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const d=b.useCallback(p=>{var g;if(l){const y=jM(p)?p(t):p;y!==t&&((g=a.current)==null||g.call(a,y))}else s(p)},[l,t,s,a]);return[c,d]}function DM({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),s=b.useRef(e);return OM(()=>{s.current=e},[e]),b.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function jM(t){return typeof t=="function"}var US=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VM="VisuallyHidden",Mp=b.forwardRef((t,e)=>m.jsx($e.span,{...t,ref:e,style:{...US,...t.style}}));Mp.displayName=VM;var FM=Mp,m_="ToastProvider",[g_,BM,zM]=VS("Toast"),[HS,cH]=ys("Toast",[zM]),[$M,Op]=HS(m_),WS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,c]=b.useState(null),[d,p]=b.useState(0),g=b.useRef(!1),y=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${m_}\`. Expected non-empty \`string\`.`),m.jsx(g_.Provider,{scope:e,children:m.jsx($M,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>p(_=>_+1),[]),onToastRemove:b.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:a})})};WS.displayName=m_;var qS="ToastViewport",UM=["F8"],xv="toast.viewportPause",bv="toast.viewportResume",KS=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=UM,label:i="Notifications ({hotkey})",...s}=t,a=Op(qS,n),l=BM(n),c=b.useRef(null),d=b.useRef(null),p=b.useRef(null),g=b.useRef(null),y=tt(e,g,a.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=a.toastCount>0;b.useEffect(()=>{const C=N=>{var I;r.length!==0&&r.every(O=>N[O]||N.code===O)&&((I=g.current)==null||I.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),b.useEffect(()=>{const C=c.current,N=g.current;if(S&&C&&N){const T=()=>{if(!a.isClosePausedRef.current){const H=new CustomEvent(xv);N.dispatchEvent(H),a.isClosePausedRef.current=!0}},I=()=>{if(a.isClosePausedRef.current){const H=new CustomEvent(bv);N.dispatchEvent(H),a.isClosePausedRef.current=!1}},O=H=>{!C.contains(H.relatedTarget)&&I()},z=()=>{C.contains(document.activeElement)||I()};return C.addEventListener("focusin",T),C.addEventListener("focusout",O),C.addEventListener("pointermove",T),C.addEventListener("pointerleave",z),window.addEventListener("blur",T),window.addEventListener("focus",I),()=>{C.removeEventListener("focusin",T),C.removeEventListener("focusout",O),C.removeEventListener("pointermove",T),C.removeEventListener("pointerleave",z),window.removeEventListener("blur",T),window.removeEventListener("focus",I)}}},[S,a.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:C})=>{const T=l().map(I=>{const O=I.ref.current,z=[O,...nO(O)];return C==="forwards"?z:z.reverse()});return(C==="forwards"?T.reverse():T).flat()},[l]);return b.useEffect(()=>{const C=g.current;if(C){const N=T=>{var z,H,R;const I=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!I){const A=document.activeElement,D=T.shiftKey;if(T.target===C&&D){(z=d.current)==null||z.focus();return}const B=x({tabbingDirection:D?"backwards":"forwards"}),V=B.findIndex(X=>X===A);Jm(B.slice(V+1))?T.preventDefault():D?(H=d.current)==null||H.focus():(R=p.current)==null||R.focus()}};return C.addEventListener("keydown",N),()=>C.removeEventListener("keydown",N)}},[l,x]),m.jsxs(AM,{ref:c,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&m.jsx(Ev,{ref:d,onFocusFromOutsideViewport:()=>{const C=x({tabbingDirection:"forwards"});Jm(C)}}),m.jsx(g_.Slot,{scope:n,children:m.jsx($e.ol,{tabIndex:-1,...s,ref:y})}),S&&m.jsx(Ev,{ref:p,onFocusFromOutsideViewport:()=>{const C=x({tabbingDirection:"backwards"});Jm(C)}})]})});KS.displayName=qS;var GS="ToastFocusProxy",Ev=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Op(GS,n);return m.jsx(Mp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&r()}})});Ev.displayName=GS;var Id="Toast",HM="toast.swipeStart",WM="toast.swipeMove",qM="toast.swipeCancel",KM="toast.swipeEnd",ZS=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l,c]=Zl({prop:r,defaultProp:i??!0,onChange:s,caller:Id});return m.jsx(To,{present:n||l,children:m.jsx(YM,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Zr(t.onPause),onResume:Zr(t.onResume),onSwipeStart:Ce(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,d=>{const{x:p,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,d=>{const{x:p,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),c(!1)})})})});ZS.displayName=Id;var[GM,ZM]=HS(Id,{onClose(){}}),YM=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:_,...S}=t,x=Op(Id,n),[C,N]=b.useState(null),T=tt(e,X=>N(X)),I=b.useRef(null),O=b.useRef(null),z=i||x.duration,H=b.useRef(0),R=b.useRef(z),A=b.useRef(0),{onToastAdd:D,onToastRemove:j}=x,F=Zr(()=>{var ve;(C==null?void 0:C.contains(document.activeElement))&&((ve=x.viewport)==null||ve.focus()),a()}),B=b.useCallback(X=>{!X||X===1/0||(window.clearTimeout(A.current),H.current=new Date().getTime(),A.current=window.setTimeout(F,X))},[F]);b.useEffect(()=>{const X=x.viewport;if(X){const ve=()=>{B(R.current),d==null||d()},se=()=>{const Q=new Date().getTime()-H.current;R.current=R.current-Q,window.clearTimeout(A.current),c==null||c()};return X.addEventListener(xv,se),X.addEventListener(bv,ve),()=>{X.removeEventListener(xv,se),X.removeEventListener(bv,ve)}}},[x.viewport,z,c,d,B]),b.useEffect(()=>{s&&!x.isClosePausedRef.current&&B(z)},[s,z,x.isClosePausedRef,B]),b.useEffect(()=>(D(),()=>j()),[D,j]);const V=b.useMemo(()=>C?nC(C):null,[C]);return x.viewport?m.jsxs(m.Fragment,{children:[V&&m.jsx(QM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),m.jsx(GM,{scope:n,onClose:F,children:Ea.createPortal(m.jsx(g_.ItemSlot,{scope:n,children:m.jsx(NM,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||F(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...S,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,X=>{X.key==="Escape"&&(l==null||l(X.nativeEvent),X.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Ce(t.onPointerDown,X=>{X.button===0&&(I.current={x:X.clientX,y:X.clientY})}),onPointerMove:Ce(t.onPointerMove,X=>{if(!I.current)return;const ve=X.clientX-I.current.x,se=X.clientY-I.current.y,Q=!!O.current,$=["left","right"].includes(x.swipeDirection),Z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Y=$?Z(0,ve):0,ie=$?0:Z(0,se),oe=X.pointerType==="touch"?10:2,ce={x:Y,y:ie},he={originalEvent:X,delta:ce};Q?(O.current=ce,Lh(WM,g,he,{discrete:!1})):zx(ce,x.swipeDirection,oe)?(O.current=ce,Lh(HM,p,he,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(ve)>oe||Math.abs(se)>oe)&&(I.current=null)}),onPointerUp:Ce(t.onPointerUp,X=>{const ve=O.current,se=X.target;if(se.hasPointerCapture(X.pointerId)&&se.releasePointerCapture(X.pointerId),O.current=null,I.current=null,ve){const Q=X.currentTarget,$={originalEvent:X,delta:ve};zx(ve,x.swipeDirection,x.swipeThreshold)?Lh(KM,_,$,{discrete:!0}):Lh(qM,y,$,{discrete:!0}),Q.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),QM=t=>{const{__scopeToast:e,children:n,...r}=t,i=Op(Id,e),[s,a]=b.useState(!1),[l,c]=b.useState(!1);return eO(()=>a(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:m.jsx(Pd,{asChild:!0,children:m.jsx(Mp,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},XM="ToastTitle",YS=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx($e.div,{...r,ref:e})});YS.displayName=XM;var JM="ToastDescription",QS=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx($e.div,{...r,ref:e})});QS.displayName=JM;var XS="ToastAction",JS=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(tC,{altText:n,asChild:!0,children:m.jsx(v_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XS}\`. Expected non-empty \`string\`.`),null)});JS.displayName=XS;var eC="ToastClose",v_=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=ZM(eC,n);return m.jsx(tC,{asChild:!0,children:m.jsx($e.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,i.onClose)})})});v_.displayName=eC;var tC=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function nC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...nC(r))}}),e}function Lh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?FS(i,s):i.dispatchEvent(s)}var zx=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function eO(t=()=>{}){const e=Zr(t);dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tO(t){return t.nodeType===t.ELEMENT_NODE}function nO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rO=WS,rC=KS,iC=ZS,sC=YS,oC=QS,aC=JS,lC=v_;function uC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uC(t))&&(r&&(r+=" "),r+=e);return r}const $x=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ux=cC,Dp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ux(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(d=>{const p=n==null?void 0:n[d],g=s==null?void 0:s[d];if(p===null)return null;const y=$x(p)||$x(g);return i[d][y]}),l=n&&Object.entries(n).reduce((d,p)=>{let[g,y]=p;return y===void 0||(d[g]=y),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:g,className:y,..._}=p;return Object.entries(_).every(S=>{let[x,C]=S;return Array.isArray(C)?C.includes({...s,...l}[x]):{...s,...l}[x]===C})?[...d,g,y]:d},[]);return Ux(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>b.createElement("svg",{ref:c,...sO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dC("lucide",i),...l},[...a.map(([d,p])=>b.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(oO,{ref:s,iconNode:e,className:dC(`lucide-${iO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Dt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Dt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Dt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),__="-",_O=t=>{const e=xO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(__);return l[0]===""&&l.length!==1&&l.shift(),gC(l,e)||wO(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},gC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?gC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(__);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Wx=/^\[(.+)\]$/,wO=t=>{if(Wx.test(t)){const e=Wx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return EO(Object.entries(t.classGroups),n).forEach(([s,a])=>{Sv(a,r,s,e)}),r},Sv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:qx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(bO(i)){Sv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Sv(a,qx(e,s),n,r)})})},qx=(t,e)=>{let n=t;return e.split(__).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bO=t=>t.isThemeGetter,EO=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,TO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},vC="!",SO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let d=0,p=0,g;for(let C=0;C<l.length;C++){let N=l[C];if(d===0){if(N===i&&(r||l.slice(C,C+s)===e)){c.push(l.slice(p,C)),p=C+s;continue}if(N==="/"){g=C;continue}}N==="["?d++:N==="]"&&d--}const y=c.length===0?l:l.substring(p),_=y.startsWith(vC),S=_?y.substring(1):y,x=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},CO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PO=t=>({cache:TO(t.cacheSize),parseClassName:SO(t),..._O(t)}),IO=/\s+/,NO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(IO);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:p,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:_}=n(d);let S=!!_,x=r(S?y.substring(0,_):y);if(!x){if(!S){l=d+(l.length>0?" "+l:l);continue}if(x=r(y),!x){l=d+(l.length>0?" "+l:l);continue}S=!1}const C=CO(p).join(":"),N=g?C+vC:C,T=N+x;if(s.includes(T))continue;s.push(T);const I=i(x,S);for(let O=0;O<I.length;++O){const z=I[O];s.push(N+z)}l=d+(l.length>0?" "+l:l)}return l};function AO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yC(e))&&(r&&(r+=" "),r+=n);return r}const yC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yC(t[r]))&&(n&&(n+=" "),n+=e);return n};function kO(t,...e){let n,r,i,s=a;function a(c){const d=e.reduce((p,g)=>g(p),t());return n=PO(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const p=NO(c,n);return i(c,p),p}return function(){return s(AO.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_C=/^\[(?:([a-z-]+):)?(.+)\]$/i,RO=/^\d+\/\d+$/,LO=new Set(["px","full","screen"]),MO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zi=t=>Il(t)||LO.has(t)||RO.test(t),Rs=t=>du(t,"length",qO),Il=t=>!!t&&!Number.isNaN(Number(t)),eg=t=>du(t,"number",Il),ic=t=>!!t&&Number.isInteger(Number(t)),FO=t=>t.endsWith("%")&&Il(t.slice(0,-1)),De=t=>_C.test(t),Ls=t=>MO.test(t),BO=new Set(["length","size","percentage"]),zO=t=>du(t,BO,wC),$O=t=>du(t,"position",wC),UO=new Set(["image","url"]),HO=t=>du(t,UO,GO),WO=t=>du(t,"",KO),sc=()=>!0,du=(t,e,n)=>{const r=_C.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qO=t=>OO.test(t)&&!DO.test(t),wC=()=>!1,KO=t=>jO.test(t),GO=t=>VO.test(t),ZO=()=>{const t=mt("colors"),e=mt("spacing"),n=mt("blur"),r=mt("brightness"),i=mt("borderColor"),s=mt("borderRadius"),a=mt("borderSpacing"),l=mt("borderWidth"),c=mt("contrast"),d=mt("grayscale"),p=mt("hueRotate"),g=mt("invert"),y=mt("gap"),_=mt("gradientColorStops"),S=mt("gradientColorStopPositions"),x=mt("inset"),C=mt("margin"),N=mt("opacity"),T=mt("padding"),I=mt("saturate"),O=mt("scale"),z=mt("sepia"),H=mt("skew"),R=mt("space"),A=mt("translate"),D=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",De,e],B=()=>[De,e],V=()=>["",Zi,Rs],X=()=>["auto",Il,De],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",De],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Il,De];return{cacheSize:500,separator:":",theme:{colors:[sc],spacing:[Zi,Rs],blur:["none","",Ls,De],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Ls,De],borderSpacing:B(),borderWidth:V(),contrast:ie(),grayscale:Z(),hueRotate:ie(),invert:Z(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[FO,Rs],inset:F(),margin:F(),opacity:ie(),padding:B(),saturate:ie(),scale:ie(),sepia:Z(),skew:ie(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Ls]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),De]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ic,De]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",ic,De]}],"grid-cols":[{"grid-cols":[sc]}],"col-start-end":[{col:["auto",{span:["full",ic,De]},De]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[sc]}],"row-start-end":[{row:["auto",{span:[ic,De]},De]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[Ls]},Ls]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ls,Rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eg]}],"font-family":[{font:[sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Il,eg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zi,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zi,Rs]}],"underline-offset":[{"underline-offset":["auto",Zi,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),$O]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Zi,De]}],"outline-w":[{outline:[Zi,Rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Zi,Rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ls,WO]}],"shadow-color":[{shadow:[sc]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ls,De]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[I]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[ic,De]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zi,Rs,eg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YO=kO(ZO);function Ae(...t){return YO(cC(t))}const QO=rO,xC=b.forwardRef(({className:t,...e},n)=>m.jsx(rC,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xC.displayName=rC.displayName;const XO=Dp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bC=b.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(iC,{ref:r,className:Ae(XO({variant:e}),t),...n}));bC.displayName=iC.displayName;const JO=b.forwardRef(({className:t,...e},n)=>m.jsx(aC,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));JO.displayName=aC.displayName;const EC=b.forwardRef(({className:t,...e},n)=>m.jsx(lC,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(jp,{className:"h-4 w-4"})}));EC.displayName=lC.displayName;const TC=b.forwardRef(({className:t,...e},n)=>m.jsx(sC,{ref:n,className:Ae("text-sm font-semibold",t),...e}));TC.displayName=sC.displayName;const SC=b.forwardRef(({className:t,...e},n)=>m.jsx(oC,{ref:n,className:Ae("text-sm opacity-90",t),...e}));SC.displayName=oC.displayName;function eD(){const{toasts:t}=Lp();return m.jsxs(QO,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(bC,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(TC,{children:n}),r&&m.jsx(SC,{children:r})]}),i,m.jsx(EC,{})]},e)}),m.jsx(xC,{})]})}var Kx=["light","dark"],tD="(prefers-color-scheme: dark)",nD=b.createContext(void 0),rD={setTheme:t=>{},themes:[]},iD=()=>{var t;return(t=b.useContext(nD))!=null?t:rD};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let d=s==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=i?Kx.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(S,x=!1,C=!0)=>{let N=a?a[S]:S,T=x?S+"|| ''":`'${N}'`,I="";return i&&C&&!x&&Kx.includes(S)&&(I+=`d.style.colorScheme = '${S}';`),n==="class"?x||N?I+=`c.add(${T})`:I+="null":N&&(I+=`d[s](n,${T})`),I},_=t?`!function(){${p}${y(t)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${tD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}${d?"":"else{"+y(s,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}else{${y(s,!1,!1)};}${g}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:_}})});var sD=t=>{switch(t){case"success":return lD;case"info":return cD;case"warning":return uD;case"error":return dD;default:return null}},oD=Array(12).fill(0),aD=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},oD.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lD=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uD=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cD=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dD=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hD=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fD=()=>{let[t,e]=le.useState(document.hidden);return le.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Cv=1,pD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Cv++,a=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,a,l=i.then(async d=>{if(a=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(gD(d)&&!d.ok){s=!1;let p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:p,description:g})}else if(n.success!==void 0){s=!1;let p=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:p,description:g})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;let p=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:p,description:g})}}).finally(()=>{var d;s&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),c=()=>new Promise((d,p)=>l.then(()=>a[0]==="reject"?p(a[1]):d(a[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Cv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fn=new pD,mD=(t,e)=>{let n=(e==null?void 0:e.id)||Cv++;return Fn.addToast({title:t,...e,id:n}),n},gD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vD=mD,yD=()=>Fn.toasts,_D=()=>Fn.getActiveToasts();Object.assign(vD,{success:Fn.success,info:Fn.info,warning:Fn.warning,error:Fn.error,custom:Fn.custom,message:Fn.message,promise:Fn.promise,dismiss:Fn.dismiss,loading:Fn.loading},{getHistory:yD,getToasts:_D});function wD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}wD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mh(t){return t.label!==void 0}var xD=3,bD="32px",ED="16px",Gx=4e3,TD=356,SD=14,CD=20,PD=200;function Dr(...t){return t.filter(Boolean).join(" ")}function ID(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var ND=t=>{var e,n,r,i,s,a,l,c,d,p,g;let{invert:y,toast:_,unstyled:S,interacting:x,setHeights:C,visibleToasts:N,heights:T,index:I,toasts:O,expanded:z,removeToast:H,defaultRichColors:R,closeButton:A,style:D,cancelButtonStyle:j,actionButtonStyle:F,className:B="",descriptionClassName:V="",duration:X,position:ve,gap:se,loadingIcon:Q,expandByDefault:$,classNames:Z,icons:Y,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:oe}=t,[ce,he]=le.useState(null),[ge,ye]=le.useState(null),[ae,je]=le.useState(!1),[ut,Ve]=le.useState(!1),[Re,Oe]=le.useState(!1),[_t,Yt]=le.useState(!1),[Ln,Mn]=le.useState(!1),[Gn,ur]=le.useState(0),[Ir,Mi]=le.useState(0),cr=le.useRef(_.duration||X||Gx),Io=le.useRef(null),On=le.useRef(null),No=I===0,Aa=I+1<=N,Qe=_.type,pt=_.dismissible!==!1,Oi=_.className||"",ka=_.descriptionClassName||"",ni=le.useMemo(()=>T.findIndex(Te=>Te.toastId===_.id)||0,[T,_.id]),Ra=le.useMemo(()=>{var Te;return(Te=_.closeButton)!=null?Te:A},[_.closeButton,A]),ri=le.useMemo(()=>_.duration||X||Gx,[_.duration,X]),Di=le.useRef(0),Zn=le.useRef(0),ji=le.useRef(0),ii=le.useRef(null),[Vi,Ao]=ve.split("-"),ko=le.useMemo(()=>T.reduce((Te,Ke,rt)=>rt>=ni?Te:Te+Ke.height,0),[T,ni]),bs=fD(),si=_.invert||y,oi=Qe==="loading";Zn.current=le.useMemo(()=>ni*se+ko,[ni,ko]),le.useEffect(()=>{cr.current=ri},[ri]),le.useEffect(()=>{je(!0)},[]),le.useEffect(()=>{let Te=On.current;if(Te){let Ke=Te.getBoundingClientRect().height;return Mi(Ke),C(rt=>[{toastId:_.id,height:Ke,position:_.position},...rt]),()=>C(rt=>rt.filter(Ht=>Ht.toastId!==_.id))}},[C,_.id]),le.useLayoutEffect(()=>{if(!ae)return;let Te=On.current,Ke=Te.style.height;Te.style.height="auto";let rt=Te.getBoundingClientRect().height;Te.style.height=Ke,Mi(rt),C(Ht=>Ht.find(Qt=>Qt.toastId===_.id)?Ht.map(Qt=>Qt.toastId===_.id?{...Qt,height:rt}:Qt):[{toastId:_.id,height:rt,position:_.position},...Ht])},[ae,_.title,_.description,C,_.id]);let Dn=le.useCallback(()=>{Ve(!0),ur(Zn.current),C(Te=>Te.filter(Ke=>Ke.toastId!==_.id)),setTimeout(()=>{H(_)},PD)},[_,H,C,Zn]);le.useEffect(()=>{if(_.promise&&Qe==="loading"||_.duration===1/0||_.type==="loading")return;let Te;return z||x||oe&&bs?(()=>{if(ji.current<Di.current){let Ke=new Date().getTime()-Di.current;cr.current=cr.current-Ke}ji.current=new Date().getTime()})():cr.current!==1/0&&(Di.current=new Date().getTime(),Te=setTimeout(()=>{var Ke;(Ke=_.onAutoClose)==null||Ke.call(_,_),Dn()},cr.current)),()=>clearTimeout(Te)},[z,x,_,Qe,oe,bs,Dn]),le.useEffect(()=>{_.delete&&Dn()},[Dn,_.delete]);function Nr(){var Te,Ke,rt;return Y!=null&&Y.loading?le.createElement("div",{className:Dr(Z==null?void 0:Z.loader,(Te=_==null?void 0:_.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Qe==="loading"},Y.loading):Q?le.createElement("div",{className:Dr(Z==null?void 0:Z.loader,(Ke=_==null?void 0:_.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":Qe==="loading"},Q):le.createElement(aD,{className:Dr(Z==null?void 0:Z.loader,(rt=_==null?void 0:_.classNames)==null?void 0:rt.loader),visible:Qe==="loading"})}return le.createElement("li",{tabIndex:0,ref:On,className:Dr(B,Oi,Z==null?void 0:Z.toast,(e=_==null?void 0:_.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[Qe],(n=_==null?void 0:_.classNames)==null?void 0:n[Qe]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:R,"data-styled":!(_.jsx||_.unstyled||S),"data-mounted":ae,"data-promise":!!_.promise,"data-swiped":Ln,"data-removed":ut,"data-visible":Aa,"data-y-position":Vi,"data-x-position":Ao,"data-index":I,"data-front":No,"data-swiping":Re,"data-dismissible":pt,"data-type":Qe,"data-invert":si,"data-swipe-out":_t,"data-swipe-direction":ge,"data-expanded":!!(z||$&&ae),style:{"--index":I,"--toasts-before":I,"--z-index":O.length-I,"--offset":`${ut?Gn:Zn.current}px`,"--initial-height":$?"auto":`${Ir}px`,...D,..._.style},onDragEnd:()=>{Oe(!1),he(null),ii.current=null},onPointerDown:Te=>{oi||!pt||(Io.current=new Date,ur(Zn.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Oe(!0),ii.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,Ke,rt,Ht;if(_t||!pt)return;ii.current=null;let Qt=Number(((Te=On.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dt=Number(((Ke=On.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dr=new Date().getTime()-((rt=Io.current)==null?void 0:rt.getTime()),Wt=ce==="x"?Qt:dt,fn=Math.abs(Wt)/dr;if(Math.abs(Wt)>=CD||fn>.11){ur(Zn.current),(Ht=_.onDismiss)==null||Ht.call(_,_),ye(ce==="x"?Qt>0?"right":"left":dt>0?"down":"up"),Dn(),Yt(!0),Mn(!1);return}Oe(!1),he(null)},onPointerMove:Te=>{var Ke,rt,Ht,Qt;if(!ii.current||!pt||((Ke=window.getSelection())==null?void 0:Ke.toString().length)>0)return;let dt=Te.clientY-ii.current.y,dr=Te.clientX-ii.current.x,Wt=(rt=t.swipeDirections)!=null?rt:ID(ve);!ce&&(Math.abs(dr)>1||Math.abs(dt)>1)&&he(Math.abs(dr)>Math.abs(dt)?"x":"y");let fn={x:0,y:0};ce==="y"?(Wt.includes("top")||Wt.includes("bottom"))&&(Wt.includes("top")&&dt<0||Wt.includes("bottom")&&dt>0)&&(fn.y=dt):ce==="x"&&(Wt.includes("left")||Wt.includes("right"))&&(Wt.includes("left")&&dr<0||Wt.includes("right")&&dr>0)&&(fn.x=dr),(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&Mn(!0),(Ht=On.current)==null||Ht.style.setProperty("--swipe-amount-x",`${fn.x}px`),(Qt=On.current)==null||Qt.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},Ra&&!_.jsx?le.createElement("button",{"aria-label":ie,"data-disabled":oi,"data-close-button":!0,onClick:oi||!pt?()=>{}:()=>{var Te;Dn(),(Te=_.onDismiss)==null||Te.call(_,_)},className:Dr(Z==null?void 0:Z.closeButton,(i=_==null?void 0:_.classNames)==null?void 0:i.closeButton)},(s=Y==null?void 0:Y.close)!=null?s:hD):null,_.jsx||b.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:le.createElement(le.Fragment,null,Qe||_.icon||_.promise?le.createElement("div",{"data-icon":"",className:Dr(Z==null?void 0:Z.icon,(a=_==null?void 0:_.classNames)==null?void 0:a.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Nr():null,_.type!=="loading"?_.icon||(Y==null?void 0:Y[Qe])||sD(Qe):null):null,le.createElement("div",{"data-content":"",className:Dr(Z==null?void 0:Z.content,(l=_==null?void 0:_.classNames)==null?void 0:l.content)},le.createElement("div",{"data-title":"",className:Dr(Z==null?void 0:Z.title,(c=_==null?void 0:_.classNames)==null?void 0:c.title)},typeof _.title=="function"?_.title():_.title),_.description?le.createElement("div",{"data-description":"",className:Dr(V,ka,Z==null?void 0:Z.description,(d=_==null?void 0:_.classNames)==null?void 0:d.description)},typeof _.description=="function"?_.description():_.description):null),b.isValidElement(_.cancel)?_.cancel:_.cancel&&Mh(_.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||j,onClick:Te=>{var Ke,rt;Mh(_.cancel)&&pt&&((rt=(Ke=_.cancel).onClick)==null||rt.call(Ke,Te),Dn())},className:Dr(Z==null?void 0:Z.cancelButton,(p=_==null?void 0:_.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,b.isValidElement(_.action)?_.action:_.action&&Mh(_.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||F,onClick:Te=>{var Ke,rt;Mh(_.action)&&((rt=(Ke=_.action).onClick)==null||rt.call(Ke,Te),!Te.defaultPrevented&&Dn())},className:Dr(Z==null?void 0:Z.actionButton,(g=_==null?void 0:_.classNames)==null?void 0:g.actionButton)},_.action.label):null))};function Zx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function AD(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?ED:bD;function c(d){["top","right","bottom","left"].forEach(p=>{n[`${a}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var kD=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:d,theme:p="light",richColors:g,duration:y,style:_,visibleToasts:S=xD,toastOptions:x,dir:C=Zx(),gap:N=SD,loadingIcon:T,icons:I,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:z}=t,[H,R]=le.useState([]),A=le.useMemo(()=>Array.from(new Set([r].concat(H.filter(oe=>oe.position).map(oe=>oe.position)))),[H,r]),[D,j]=le.useState([]),[F,B]=le.useState(!1),[V,X]=le.useState(!1),[ve,se]=le.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=le.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=le.useRef(null),Y=le.useRef(!1),ie=le.useCallback(oe=>{R(ce=>{var he;return(he=ce.find(ge=>ge.id===oe.id))!=null&&he.delete||Fn.dismiss(oe.id),ce.filter(({id:ge})=>ge!==oe.id)})},[]);return le.useEffect(()=>Fn.subscribe(oe=>{if(oe.dismiss){R(ce=>ce.map(he=>he.id===oe.id?{...he,delete:!0}:he));return}setTimeout(()=>{LS.flushSync(()=>{R(ce=>{let he=ce.findIndex(ge=>ge.id===oe.id);return he!==-1?[...ce.slice(0,he),{...ce[he],...oe},...ce.slice(he+1)]:[oe,...ce]})})})}),[]),le.useEffect(()=>{if(p!=="system"){se(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ce})=>{se(ce?"dark":"light")})}catch{oe.addListener(({matches:he})=>{try{se(he?"dark":"light")}catch(ge){console.error(ge)}})}},[p]),le.useEffect(()=>{H.length<=1&&B(!1)},[H]),le.useEffect(()=>{let oe=ce=>{var he,ge;i.every(ye=>ce[ye]||ce.code===ye)&&(B(!0),(he=Q.current)==null||he.focus()),ce.code==="Escape"&&(document.activeElement===Q.current||(ge=Q.current)!=null&&ge.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[i]),le.useEffect(()=>{if(Q.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,Y.current=!1)}},[Q.current]),le.createElement("section",{ref:e,"aria-label":`${O} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((oe,ce)=>{var he;let[ge,ye]=oe.split("-");return H.length?le.createElement("ol",{key:oe,dir:C==="auto"?Zx():C,tabIndex:-1,ref:Q,className:l,"data-sonner-toaster":!0,"data-theme":ve,"data-y-position":ge,"data-lifted":F&&H.length>1&&!s,"data-x-position":ye,style:{"--front-toast-height":`${((he=D[0])==null?void 0:he.height)||0}px`,"--width":`${TD}px`,"--gap":`${N}px`,..._,...AD(c,d)},onBlur:ae=>{Y.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(Y.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,Z.current=ae.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{V||B(!1)},onDragEnd:()=>B(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},H.filter(ae=>!ae.position&&ce===0||ae.position===oe).map((ae,je)=>{var ut,Ve;return le.createElement(ND,{key:ae.id,icons:I,index:je,toast:ae,defaultRichColors:g,duration:(ut=x==null?void 0:x.duration)!=null?ut:y,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Ve=x==null?void 0:x.closeButton)!=null?Ve:a,interacting:V,position:oe,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ie,toasts:H.filter(Re=>Re.position==ae.position),heights:D.filter(Re=>Re.position==ae.position),setHeights:j,expandByDefault:s,gap:N,loadingIcon:T,expanded:F,pauseWhenPageIsHidden:z,swipeDirections:t.swipeDirections})})):null}))});const RD=({...t})=>{const{theme:e="system"}=iD();return m.jsx(kD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var LD=Ty[" useId ".trim().toString()]||(()=>{}),MD=0;function ra(t){const[e,n]=b.useState(LD());return dn(()=>{n(r=>r??String(MD++))},[t]),e?`radix-${e}`:""}const OD=["top","right","bottom","left"],fo=Math.min,er=Math.max,$f=Math.round,Oh=Math.floor,Si=t=>({x:t,y:t}),DD={left:"right",right:"left",bottom:"top",top:"bottom"},jD={start:"end",end:"start"};function Pv(t,e,n){return er(t,fo(e,n))}function cs(t,e){return typeof t=="function"?t(e):t}function ds(t){return t.split("-")[0]}function hu(t){return t.split("-")[1]}function w_(t){return t==="x"?"y":"x"}function x_(t){return t==="y"?"height":"width"}function wi(t){return["top","bottom"].includes(ds(t))?"y":"x"}function b_(t){return w_(wi(t))}function VD(t,e,n){n===void 0&&(n=!1);const r=hu(t),i=b_(t),s=x_(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Uf(a)),[a,Uf(a)]}function FD(t){const e=Uf(t);return[Iv(t),e,Iv(e)]}function Iv(t){return t.replace(/start|end/g,e=>jD[e])}function BD(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function zD(t,e,n,r){const i=hu(t);let s=BD(ds(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Iv)))),s}function Uf(t){return t.replace(/left|right|bottom|top/g,e=>DD[e])}function $D(t){return{top:0,right:0,bottom:0,left:0,...t}}function CC(t){return typeof t!="number"?$D(t):{top:t,right:t,bottom:t,left:t}}function Hf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Yx(t,e,n){let{reference:r,floating:i}=t;const s=wi(e),a=b_(e),l=x_(a),c=ds(e),d=s==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,y=r[l]/2-i[l]/2;let _;switch(c){case"top":_={x:p,y:r.y-i.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(hu(e)){case"start":_[a]-=y*(n&&d?-1:1);break;case"end":_[a]+=y*(n&&d?-1:1);break}return _}const UD=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=Yx(d,r,c),y=r,_={},S=0;for(let x=0;x<l.length;x++){const{name:C,fn:N}=l[x],{x:T,y:I,data:O,reset:z}=await N({x:p,y:g,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:d,platform:a,elements:{reference:t,floating:e}});p=T??p,g=I??g,_={..._,[C]:{..._[C],...O}},z&&S<=50&&(S++,typeof z=="object"&&(z.placement&&(y=z.placement),z.rects&&(d=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):z.rects),{x:p,y:g}=Yx(d,y,c)),x=-1)}return{x:p,y:g,placement:y,strategy:i,middlewareData:_}};async function Qc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:_=0}=cs(e,t),S=CC(_),C=l[y?g==="floating"?"reference":"floating":g],N=Hf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:c})),T=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),O=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},z=Hf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:I,strategy:c}):T);return{top:(N.top-z.top+S.top)/O.y,bottom:(z.bottom-N.bottom+S.bottom)/O.y,left:(N.left-z.left+S.left)/O.x,right:(z.right-N.right+S.right)/O.x}}const HD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:p=0}=cs(t,e)||{};if(d==null)return{};const g=CC(p),y={x:n,y:r},_=b_(i),S=x_(_),x=await a.getDimensions(d),C=_==="y",N=C?"top":"left",T=C?"bottom":"right",I=C?"clientHeight":"clientWidth",O=s.reference[S]+s.reference[_]-y[_]-s.floating[S],z=y[_]-s.reference[_],H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let R=H?H[I]:0;(!R||!await(a.isElement==null?void 0:a.isElement(H)))&&(R=l.floating[I]||s.floating[S]);const A=O/2-z/2,D=R/2-x[S]/2-1,j=fo(g[N],D),F=fo(g[T],D),B=j,V=R-x[S]-F,X=R/2-x[S]/2+A,ve=Pv(B,X,V),se=!c.arrow&&hu(i)!=null&&X!==ve&&s.reference[S]/2-(X<B?j:F)-x[S]/2<0,Q=se?X<B?X-B:X-V:0;return{[_]:y[_]+Q,data:{[_]:ve,centerOffset:X-ve-Q,...se&&{alignmentOffset:Q}},reset:se}}}),WD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...C}=cs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=ds(i),T=wi(l),I=ds(l)===l,O=await(c.isRTL==null?void 0:c.isRTL(d.floating)),z=y||(I||!x?[Uf(l)]:FD(l)),H=S!=="none";!y&&H&&z.push(...zD(l,x,S,O));const R=[l,...z],A=await Qc(e,C),D=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&D.push(A[N]),g){const X=VD(i,a,O);D.push(A[X[0]],A[X[1]])}if(j=[...j,{placement:i,overflows:D}],!D.every(X=>X<=0)){var F,B;const X=(((F=s.flip)==null?void 0:F.index)||0)+1,ve=R[X];if(ve&&(!(g==="alignment"?T!==wi(ve):!1)||j.every($=>$.overflows[0]>0&&wi($.placement)===T)))return{data:{index:X,overflows:j},reset:{placement:ve}};let se=(B=j.filter(Q=>Q.overflows[0]<=0).sort((Q,$)=>Q.overflows[1]-$.overflows[1])[0])==null?void 0:B.placement;if(!se)switch(_){case"bestFit":{var V;const Q=(V=j.filter($=>{if(H){const Z=wi($.placement);return Z===T||Z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Z=>Z>0).reduce((Z,Y)=>Z+Y,0)]).sort(($,Z)=>$[1]-Z[1])[0])==null?void 0:V[0];Q&&(se=Q);break}case"initialPlacement":se=l;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function Qx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xx(t){return OD.some(e=>t[e]>=0)}const qD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=cs(t,e);switch(r){case"referenceHidden":{const s=await Qc(e,{...i,elementContext:"reference"}),a=Qx(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Xx(a)}}}case"escaped":{const s=await Qc(e,{...i,altBoundary:!0}),a=Qx(s,n.floating);return{data:{escapedOffsets:a,escaped:Xx(a)}}}default:return{}}}}};async function KD(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ds(n),l=hu(n),c=wi(n)==="y",d=["left","top"].includes(a)?-1:1,p=s&&c?-1:1,g=cs(e,t);let{mainAxis:y,crossAxis:_,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof S=="number"&&(_=l==="end"?S*-1:S),c?{x:_*p,y:y*d}:{x:y*d,y:_*p}}const GD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await KD(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},ZD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:C=>{let{x:N,y:T}=C;return{x:N,y:T}}},...c}=cs(t,e),d={x:n,y:r},p=await Qc(e,c),g=wi(ds(i)),y=w_(g);let _=d[y],S=d[g];if(s){const C=y==="y"?"top":"left",N=y==="y"?"bottom":"right",T=_+p[C],I=_-p[N];_=Pv(T,_,I)}if(a){const C=g==="y"?"top":"left",N=g==="y"?"bottom":"right",T=S+p[C],I=S-p[N];S=Pv(T,S,I)}const x=l.fn({...e,[y]:_,[g]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[y]:s,[g]:a}}}}}},YD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=cs(t,e),p={x:n,y:r},g=wi(i),y=w_(g);let _=p[y],S=p[g];const x=cs(l,e),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const I=y==="y"?"height":"width",O=s.reference[y]-s.floating[I]+C.mainAxis,z=s.reference[y]+s.reference[I]-C.mainAxis;_<O?_=O:_>z&&(_=z)}if(d){var N,T;const I=y==="y"?"width":"height",O=["top","left"].includes(ds(i)),z=s.reference[g]-s.floating[I]+(O&&((N=a.offset)==null?void 0:N[g])||0)+(O?0:C.crossAxis),H=s.reference[g]+s.reference[I]+(O?0:((T=a.offset)==null?void 0:T[g])||0)-(O?C.crossAxis:0);S<z?S=z:S>H&&(S=H)}return{[y]:_,[g]:S}}}},QD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...d}=cs(t,e),p=await Qc(e,d),g=ds(i),y=hu(i),_=wi(i)==="y",{width:S,height:x}=s.floating;let C,N;g==="top"||g==="bottom"?(C=g,N=y===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(N=g,C=y==="end"?"top":"bottom");const T=x-p.top-p.bottom,I=S-p.left-p.right,O=fo(x-p[C],T),z=fo(S-p[N],I),H=!e.middlewareData.shift;let R=O,A=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=T),H&&!y){const j=er(p.left,0),F=er(p.right,0),B=er(p.top,0),V=er(p.bottom,0);_?A=S-2*(j!==0||F!==0?j+F:er(p.left,p.right)):R=x-2*(B!==0||V!==0?B+V:er(p.top,p.bottom))}await c({...e,availableWidth:A,availableHeight:R});const D=await a.getDimensions(l.floating);return S!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function Vp(){return typeof window<"u"}function fu(t){return PC(t)?(t.nodeName||"").toLowerCase():"#document"}function rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Li(t){var e;return(e=(PC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PC(t){return Vp()?t instanceof Node||t instanceof rr(t).Node:!1}function Yr(t){return Vp()?t instanceof Element||t instanceof rr(t).Element:!1}function Ii(t){return Vp()?t instanceof HTMLElement||t instanceof rr(t).HTMLElement:!1}function Jx(t){return!Vp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rr(t).ShadowRoot}function Nd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function XD(t){return["table","td","th"].includes(fu(t))}function Fp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function E_(t){const e=T_(),n=Yr(t)?Qr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function JD(t){let e=po(t);for(;Ii(e)&&!Yl(e);){if(E_(e))return e;if(Fp(e))return null;e=po(e)}return null}function T_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yl(t){return["html","body","#document"].includes(fu(t))}function Qr(t){return rr(t).getComputedStyle(t)}function Bp(t){return Yr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function po(t){if(fu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jx(t)&&t.host||Li(t);return Jx(e)?e.host:e}function IC(t){const e=po(t);return Yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ii(e)&&Nd(e)?e:IC(e)}function Xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=IC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=rr(i);if(s){const l=Nv(a);return e.concat(a,a.visualViewport||[],Nd(i)?i:[],l&&n?Xc(l):[])}return e.concat(i,Xc(i,[],n))}function Nv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NC(t){const e=Qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ii(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=$f(n)!==s||$f(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function S_(t){return Yr(t)?t:t.contextElement}function Nl(t){const e=S_(t);if(!Ii(e))return Si(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=NC(e);let a=(s?$f(n.width):n.width)/r,l=(s?$f(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const ej=Si(0);function AC(t){const e=rr(t);return!T_()||!e.visualViewport?ej:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rr(t)?!1:e}function fa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=S_(t);let a=Si(1);e&&(r?Yr(r)&&(a=Nl(r)):a=Nl(t));const l=tj(s,n,r)?AC(s):Si(0);let c=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,p=i.width/a.x,g=i.height/a.y;if(s){const y=rr(s),_=r&&Yr(r)?rr(r):r;let S=y,x=Nv(S);for(;x&&r&&_!==S;){const C=Nl(x),N=x.getBoundingClientRect(),T=Qr(x),I=N.left+(x.clientLeft+parseFloat(T.paddingLeft))*C.x,O=N.top+(x.clientTop+parseFloat(T.paddingTop))*C.y;c*=C.x,d*=C.y,p*=C.x,g*=C.y,c+=I,d+=O,S=rr(x),x=Nv(S)}}return Hf({width:p,height:g,x:c,y:d})}function C_(t,e){const n=Bp(t).scrollLeft;return e?e.left+n:fa(Li(t)).left+n}function kC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:C_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function nj(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Li(r),l=e?Fp(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Si(1);const p=Si(0),g=Ii(r);if((g||!g&&!s)&&((fu(r)!=="body"||Nd(a))&&(c=Bp(r)),Ii(r))){const _=fa(r);d=Nl(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const y=a&&!g&&!s?kC(a,c,!0):Si(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+y.x,y:n.y*d.y-c.scrollTop*d.y+p.y+y.y}}function rj(t){return Array.from(t.getClientRects())}function ij(t){const e=Li(t),n=Bp(t),r=t.ownerDocument.body,i=er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+C_(t);const l=-n.scrollTop;return Qr(r).direction==="rtl"&&(a+=er(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function sj(t,e){const n=rr(t),r=Li(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=T_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}function oj(t,e){const n=fa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ii(t)?Nl(t):Si(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:a,height:l,x:c,y:d}}function eb(t,e,n){let r;if(e==="viewport")r=sj(t,n);else if(e==="document")r=ij(Li(t));else if(Yr(e))r=oj(e,n);else{const i=AC(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hf(r)}function RC(t,e){const n=po(t);return n===e||!Yr(n)||Yl(n)?!1:Qr(n).position==="fixed"||RC(n,e)}function aj(t,e){const n=e.get(t);if(n)return n;let r=Xc(t,[],!1).filter(l=>Yr(l)&&fu(l)!=="body"),i=null;const s=Qr(t).position==="fixed";let a=s?po(t):t;for(;Yr(a)&&!Yl(a);){const l=Qr(a),c=E_(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Nd(a)&&!c&&RC(t,a))?r=r.filter(p=>p!==a):i=l,a=po(a)}return e.set(t,r),r}function lj(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Fp(e)?[]:aj(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,p)=>{const g=eb(e,p,i);return d.top=er(g.top,d.top),d.right=fo(g.right,d.right),d.bottom=fo(g.bottom,d.bottom),d.left=er(g.left,d.left),d},eb(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uj(t){const{width:e,height:n}=NC(t);return{width:e,height:n}}function cj(t,e,n){const r=Ii(e),i=Li(e),s=n==="fixed",a=fa(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Si(0);function d(){c.x=C_(i)}if(r||!r&&!s)if((fu(e)!=="body"||Nd(i))&&(l=Bp(e)),r){const _=fa(e,!0,s,e);c.x=_.x+e.clientLeft,c.y=_.y+e.clientTop}else i&&d();s&&!r&&i&&d();const p=i&&!r&&!s?kC(i,l):Si(0),g=a.left+l.scrollLeft-c.x-p.x,y=a.top+l.scrollTop-c.y-p.y;return{x:g,y,width:a.width,height:a.height}}function tg(t){return Qr(t).position==="static"}function tb(t,e){if(!Ii(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Li(t)===n&&(n=n.ownerDocument.body),n}function LC(t,e){const n=rr(t);if(Fp(t))return n;if(!Ii(t)){let i=po(t);for(;i&&!Yl(i);){if(Yr(i)&&!tg(i))return i;i=po(i)}return n}let r=tb(t,e);for(;r&&XD(r)&&tg(r);)r=tb(r,e);return r&&Yl(r)&&tg(r)&&!E_(r)?n:r||JD(t)||n}const dj=async function(t){const e=this.getOffsetParent||LC,n=this.getDimensions,r=await n(t.floating);return{reference:cj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hj(t){return Qr(t).direction==="rtl"}const fj={convertOffsetParentRelativeRectToViewportRelativeRect:nj,getDocumentElement:Li,getClippingRect:lj,getOffsetParent:LC,getElementRects:dj,getClientRects:rj,getDimensions:uj,getScale:Nl,isElement:Yr,isRTL:hj};function MC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pj(t,e){let n=null,r;const i=Li(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:p,top:g,width:y,height:_}=d;if(l||e(),!y||!_)return;const S=Oh(g),x=Oh(i.clientWidth-(p+y)),C=Oh(i.clientHeight-(g+_)),N=Oh(p),I={rootMargin:-S+"px "+-x+"px "+-C+"px "+-N+"px",threshold:er(0,fo(1,c))||1};let O=!0;function z(H){const R=H[0].intersectionRatio;if(R!==c){if(!O)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!MC(d,t.getBoundingClientRect())&&a(),O=!1}try{n=new IntersectionObserver(z,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(z,I)}n.observe(t)}return a(!0),s}function mj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=S_(t),p=i||s?[...d?Xc(d):[],...Xc(e)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const g=d&&l?pj(d,n):null;let y=-1,_=null;a&&(_=new ResizeObserver(N=>{let[T]=N;T&&T.target===d&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=_)==null||I.observe(e)})),n()}),d&&!c&&_.observe(d),_.observe(e));let S,x=c?fa(t):null;c&&C();function C(){const N=fa(t);x&&!MC(x,N)&&n(),x=N,S=requestAnimationFrame(C)}return n(),()=>{var N;p.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),g==null||g(),(N=_)==null||N.disconnect(),_=null,c&&cancelAnimationFrame(S)}}const gj=GD,vj=ZD,yj=WD,_j=QD,wj=qD,nb=HD,xj=YD,bj=(t,e,n)=>{const r=new Map,i={platform:fj,...n},s={...i.platform,_c:r};return UD(t,e,{...i,platform:s})};var Ej=typeof document<"u",Tj=function(){},lf=Ej?b.useLayoutEffect:Tj;function Wf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Wf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function OC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rb(t,e){const n=OC(t);return Math.round(e*n)/n}function ng(t){const e=b.useRef(t);return lf(()=>{e.current=t}),e}function Sj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[p,g]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=b.useState(r);Wf(y,r)||_(r);const[S,x]=b.useState(null),[C,N]=b.useState(null),T=b.useCallback($=>{$!==H.current&&(H.current=$,x($))},[]),I=b.useCallback($=>{$!==R.current&&(R.current=$,N($))},[]),O=s||S,z=a||C,H=b.useRef(null),R=b.useRef(null),A=b.useRef(p),D=c!=null,j=ng(c),F=ng(i),B=ng(d),V=b.useCallback(()=>{if(!H.current||!R.current)return;const $={placement:e,strategy:n,middleware:y};F.current&&($.platform=F.current),bj(H.current,R.current,$).then(Z=>{const Y={...Z,isPositioned:B.current!==!1};X.current&&!Wf(A.current,Y)&&(A.current=Y,Ea.flushSync(()=>{g(Y)}))})},[y,e,n,F,B]);lf(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[d]);const X=b.useRef(!1);lf(()=>(X.current=!0,()=>{X.current=!1}),[]),lf(()=>{if(O&&(H.current=O),z&&(R.current=z),O&&z){if(j.current)return j.current(O,z,V);V()}},[O,z,V,j,D]);const ve=b.useMemo(()=>({reference:H,floating:R,setReference:T,setFloating:I}),[T,I]),se=b.useMemo(()=>({reference:O,floating:z}),[O,z]),Q=b.useMemo(()=>{const $={position:n,left:0,top:0};if(!se.floating)return $;const Z=rb(se.floating,p.x),Y=rb(se.floating,p.y);return l?{...$,transform:"translate("+Z+"px, "+Y+"px)",...OC(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:Y}},[n,l,se.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:V,refs:ve,elements:se,floatingStyles:Q}),[p,V,ve,se,Q])}const Cj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?nb({element:r.current,padding:i}).fn(n):{}:r?nb({element:r,padding:i}).fn(n):{}}}},Pj=(t,e)=>({...gj(t),options:[t,e]}),Ij=(t,e)=>({...vj(t),options:[t,e]}),Nj=(t,e)=>({...xj(t),options:[t,e]}),Aj=(t,e)=>({...yj(t),options:[t,e]}),kj=(t,e)=>({..._j(t),options:[t,e]}),Rj=(t,e)=>({...wj(t),options:[t,e]}),Lj=(t,e)=>({...Cj(t),options:[t,e]});var Mj="Arrow",DC=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx($e.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});DC.displayName=Mj;var Oj=DC;function jC(t){const[e,n]=b.useState(void 0);return dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var P_="Popper",[VC,pu]=ys(P_),[Dj,FC]=VC(P_),BC=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return m.jsx(Dj,{scope:e,anchor:r,onAnchorChange:i,children:n})};BC.displayName=P_;var zC="PopperAnchor",$C=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=FC(zC,n),a=b.useRef(null),l=tt(e,a);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:m.jsx($e.div,{...i,ref:l})});$C.displayName=zC;var I_="PopperContent",[jj,Vj]=VC(I_),UC=b.forwardRef((t,e)=>{var ae,je,ut,Ve,Re,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:S,...x}=t,C=FC(I_,n),[N,T]=b.useState(null),I=tt(e,_t=>T(_t)),[O,z]=b.useState(null),H=jC(O),R=(H==null?void 0:H.width)??0,A=(H==null?void 0:H.height)??0,D=r+(s!=="center"?"-"+s:""),j=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},F=Array.isArray(d)?d:[d],B=F.length>0,V={padding:j,boundary:F.filter(Bj),altBoundary:B},{refs:X,floatingStyles:ve,placement:se,isPositioned:Q,middlewareData:$}=Sj({strategy:"fixed",placement:D,whileElementsMounted:(..._t)=>mj(..._t,{animationFrame:_==="always"}),elements:{reference:C.anchor},middleware:[Pj({mainAxis:i+A,alignmentAxis:a}),c&&Ij({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Nj():void 0,...V}),c&&Aj({...V}),kj({...V,apply:({elements:_t,rects:Yt,availableWidth:Ln,availableHeight:Mn})=>{const{width:Gn,height:ur}=Yt.reference,Ir=_t.floating.style;Ir.setProperty("--radix-popper-available-width",`${Ln}px`),Ir.setProperty("--radix-popper-available-height",`${Mn}px`),Ir.setProperty("--radix-popper-anchor-width",`${Gn}px`),Ir.setProperty("--radix-popper-anchor-height",`${ur}px`)}}),O&&Lj({element:O,padding:l}),zj({arrowWidth:R,arrowHeight:A}),y&&Rj({strategy:"referenceHidden",...V})]}),[Z,Y]=qC(se),ie=Zr(S);dn(()=>{Q&&(ie==null||ie())},[Q,ie]);const oe=(ae=$.arrow)==null?void 0:ae.x,ce=(je=$.arrow)==null?void 0:je.y,he=((ut=$.arrow)==null?void 0:ut.centerOffset)!==0,[ge,ye]=b.useState();return dn(()=>{N&&ye(window.getComputedStyle(N).zIndex)},[N]),m.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:Q?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ve=$.transformOrigin)==null?void 0:Ve.x,(Re=$.transformOrigin)==null?void 0:Re.y].join(" "),...((Oe=$.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(jj,{scope:n,placedSide:Z,onArrowChange:z,arrowX:oe,arrowY:ce,shouldHideArrow:he,children:m.jsx($e.div,{"data-side":Z,"data-align":Y,...x,ref:I,style:{...x.style,animation:Q?void 0:"none"}})})})});UC.displayName=I_;var HC="PopperArrow",Fj={top:"bottom",right:"left",bottom:"top",left:"right"},WC=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Vj(HC,r),a=Fj[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(Oj,{...i,ref:n,style:{...i.style,display:"block"}})})});WC.displayName=HC;function Bj(t){return t!==null}var zj=t=>({name:"transformOrigin",options:t,fn(e){var C,N,T;const{placement:n,rects:r,middlewareData:i}=e,a=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,p]=qC(n),g={start:"0%",center:"50%",end:"100%"}[p],y=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,_=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let S="",x="";return d==="bottom"?(S=a?g:`${y}px`,x=`${-c}px`):d==="top"?(S=a?g:`${y}px`,x=`${r.floating.height+c}px`):d==="right"?(S=`${-c}px`,x=a?g:`${_}px`):d==="left"&&(S=`${r.floating.width+c}px`,x=a?g:`${_}px`),{data:{x:S,y:x}}}});function qC(t){const[e,n="center"]=t.split("-");return[e,n]}var KC=BC,zp=$C,N_=UC,A_=WC,[$p,hH]=ys("Tooltip",[pu]),k_=pu(),GC="TooltipProvider",$j=700,ib="tooltip.open",[Uj,ZC]=$p(GC),YC=t=>{const{__scopeTooltip:e,delayDuration:n=$j,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),m.jsx(Uj,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};YC.displayName=GC;var QC="Tooltip",[fH,Up]=$p(QC),Av="TooltipTrigger",Hj=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Up(Av,n),s=ZC(Av,n),a=k_(n),l=b.useRef(null),c=tt(e,l,i.onTriggerChange),d=b.useRef(!1),p=b.useRef(!1),g=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),m.jsx(zp,{asChild:!0,...a,children:m.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ce(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ce(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ce(t.onBlur,i.onClose),onClick:Ce(t.onClick,i.onClose)})})});Hj.displayName=Av;var Wj="TooltipPortal",[pH,qj]=$p(Wj,{forceMount:void 0}),Ql="TooltipContent",XC=b.forwardRef((t,e)=>{const n=qj(Ql,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Up(Ql,t.__scopeTooltip);return m.jsx(To,{present:r||a.open,children:a.disableHoverableContent?m.jsx(JC,{side:i,...s,ref:e}):m.jsx(Kj,{side:i,...s,ref:e})})}),Kj=b.forwardRef((t,e)=>{const n=Up(Ql,t.__scopeTooltip),r=ZC(Ql,t.__scopeTooltip),i=b.useRef(null),s=tt(e,i),[a,l]=b.useState(null),{trigger:c,onClose:d}=n,p=i.current,{onPointerInTransitChange:g}=r,y=b.useCallback(()=>{l(null),g(!1)},[g]),_=b.useCallback((S,x)=>{const C=S.currentTarget,N={x:S.clientX,y:S.clientY},T=Xj(N,C.getBoundingClientRect()),I=Jj(N,T),O=e4(x.getBoundingClientRect()),z=n4([...I,...O]);l(z),g(!0)},[g]);return b.useEffect(()=>()=>y(),[y]),b.useEffect(()=>{if(c&&p){const S=C=>_(C,p),x=C=>_(C,c);return c.addEventListener("pointerleave",S),p.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",x)}}},[c,p,_,y]),b.useEffect(()=>{if(a){const S=x=>{const C=x.target,N={x:x.clientX,y:x.clientY},T=(c==null?void 0:c.contains(C))||(p==null?void 0:p.contains(C)),I=!t4(N,a);T?y():I&&(y(),d())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,p,a,d,y]),m.jsx(JC,{...t,ref:s})}),[Gj,Zj]=$p(QC,{isInside:!1}),Yj=jS("TooltipContent"),JC=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,c=Up(Ql,n),d=k_(n),{onClose:p}=c;return b.useEffect(()=>(document.addEventListener(ib,p),()=>document.removeEventListener(ib,p)),[p]),b.useEffect(()=>{if(c.trigger){const g=y=>{const _=y.target;_!=null&&_.contains(c.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,p]),m.jsx(cu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:m.jsxs(N_,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(Yj,{children:r}),m.jsx(Gj,{scope:n,isInside:!0,children:m.jsx(FM,{id:c.contentId,role:"tooltip",children:i||r})})]})})});XC.displayName=Ql;var eP="TooltipArrow",Qj=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=k_(n);return Zj(eP,n).isInside?null:m.jsx(A_,{...i,...r,ref:e})});Qj.displayName=eP;function Xj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Jj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function e4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function t4(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],c=e[a],d=l.x,p=l.y,g=c.x,y=c.y;p>r!=y>r&&n<(g-d)*(r-p)/(y-p)+d&&(i=!i)}return i}function n4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),r4(e)}function r4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var i4=YC,tP=XC;const s4=i4,o4=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(tP,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));o4.displayName=tP.displayName;var Hp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wp=typeof window>"u"||"Deno"in globalThis;function Fr(){}function a4(t,e){return typeof t=="function"?t(e):t}function l4(t){return typeof t=="number"&&t>=0&&t!==1/0}function u4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kv(t,e){return typeof t=="function"?t(e):t}function c4(t,e){return typeof t=="function"?t(e):t}function sb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==R_(a,e.options))return!1}else if(!ed(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function ob(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Jc(e.options.mutationKey)!==Jc(s))return!1}else if(!ed(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function R_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,n)=>Rv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ed(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ed(t[n],e[n])):!1}function nP(t,e){if(t===e)return t;const n=ab(t)&&ab(e);if(n||Rv(t)&&Rv(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,l=n?[]:{},c=new Set(r);let d=0;for(let p=0;p<a;p++){const g=n?p:s[p];(!n&&c.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(l[g]=void 0,d++):(l[g]=nP(t[g],e[g]),l[g]===t[g]&&t[g]!==void 0&&d++)}return i===a&&d===i?t:l}return e}function ab(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rv(t){if(!lb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lb(t){return Object.prototype.toString.call(t)==="[object Object]"}function d4(t){return new Promise(e=>{setTimeout(e,t)})}function h4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nP(t,e):e}function f4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function p4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var L_=Symbol();function rP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===L_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zo,zs,Ml,fE,m4=(fE=class extends Hp{constructor(){super();et(this,Zo);et(this,zs);et(this,Ml);Me(this,Ml,e=>{if(!Wp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,zs)||this.setEventListener(J(this,Ml))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,zs))==null||e.call(this),Me(this,zs,void 0))}setEventListener(e){var n;Me(this,Ml,e),(n=J(this,zs))==null||n.call(this),Me(this,zs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,Zo)!==e&&(Me(this,Zo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,Zo)=="boolean"?J(this,Zo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zo=new WeakMap,zs=new WeakMap,Ml=new WeakMap,fE),iP=new m4,Ol,$s,Dl,pE,g4=(pE=class extends Hp{constructor(){super();et(this,Ol,!0);et(this,$s);et(this,Dl);Me(this,Dl,e=>{if(!Wp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,$s)||this.setEventListener(J(this,Dl))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,$s))==null||e.call(this),Me(this,$s,void 0))}setEventListener(e){var n;Me(this,Dl,e),(n=J(this,$s))==null||n.call(this),Me(this,$s,e(this.setOnline.bind(this)))}setOnline(e){J(this,Ol)!==e&&(Me(this,Ol,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,Ol)}},Ol=new WeakMap,$s=new WeakMap,Dl=new WeakMap,pE),qf=new g4;function v4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function y4(t){return Math.min(1e3*2**t,3e4)}function sP(t){return(t??"online")==="online"?qf.isOnline():!0}var oP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function rg(t){return t instanceof oP}function aP(t){let e=!1,n=0,r=!1,i;const s=v4(),a=x=>{var C;r||(y(new oP(x)),(C=t.abort)==null||C.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>iP.isFocused()&&(t.networkMode==="always"||qf.isOnline())&&t.canRun(),p=()=>sP(t.networkMode)&&t.canRun(),g=x=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,x),i==null||i(),s.resolve(x))},y=x=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,x),i==null||i(),s.reject(x))},_=()=>new Promise(x=>{var C;i=N=>{(r||d())&&x(N)},(C=t.onPause)==null||C.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),S=()=>{if(r)return;let x;const C=n===0?t.initialPromise:void 0;try{x=C??t.fn()}catch(N){x=Promise.reject(N)}Promise.resolve(x).then(g).catch(N=>{var H;if(r)return;const T=t.retry??(Wp?0:3),I=t.retryDelay??y4,O=typeof I=="function"?I(n,N):I,z=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,N);if(e||!z){y(N);return}n++,(H=t.onFail)==null||H.call(t,n,N),d4(O).then(()=>d()?void 0:_()).then(()=>{e?y(N):S()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?S():_().then(S),s)}}var _4=t=>setTimeout(t,0);function w4(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=_4;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Nn=w4(),Yo,mE,lP=(mE=class{constructor(){et(this,Yo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l4(this.gcTime)&&Me(this,Yo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wp?1/0:5*60*1e3))}clearGcTimeout(){J(this,Yo)&&(clearTimeout(J(this,Yo)),Me(this,Yo,void 0))}},Yo=new WeakMap,mE),jl,Qo,wr,Xo,yn,wd,Jo,Br,Qi,gE,x4=(gE=class extends lP{constructor(n){super();et(this,Br);et(this,jl);et(this,Qo);et(this,wr);et(this,Xo);et(this,yn);et(this,wd);et(this,Jo);Me(this,Jo,!1),Me(this,wd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Me(this,Xo,n.client),Me(this,wr,J(this,Xo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Me(this,jl,E4(this.options)),this.state=n.state??J(this,jl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=J(this,yn))==null?void 0:n.promise}setOptions(n){this.options={...J(this,wd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,wr).remove(this)}setData(n,r){const i=h4(this.state.data,n,this.options);return pn(this,Br,Qi).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){pn(this,Br,Qi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=J(this,yn))==null?void 0:i.promise;return(s=J(this,yn))==null||s.cancel(n),r?r.then(Fr).catch(Fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,jl))}isActive(){return this.observers.some(n=>c4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===L_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>kv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!u4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=J(this,yn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=J(this,yn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),J(this,wr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(J(this,yn)&&(J(this,Jo)?J(this,yn).cancel({revert:!0}):J(this,yn).cancelRetry()),this.scheduleGc()),J(this,wr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pn(this,Br,Qi).call(this,{type:"invalidate"})}fetch(n,r){var p,g,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(J(this,yn))return J(this,yn).continueRetry(),J(this,yn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const i=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Me(this,Jo,!0),i.signal)})},a=()=>{const _=rP(this.options,r),x=(()=>{const C={client:J(this,Xo),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return Me(this,Jo,!1),this.options.persister?this.options.persister(_,x,this):_(x)},c=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:J(this,Xo),state:this.state,fetchFn:a};return s(_),_})();(p=this.options.behavior)==null||p.onFetch(c,this),Me(this,Qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&pn(this,Br,Qi).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const d=_=>{var S,x,C,N;rg(_)&&_.silent||pn(this,Br,Qi).call(this,{type:"error",error:_}),rg(_)||((x=(S=J(this,wr).config).onError)==null||x.call(S,_,this),(N=(C=J(this,wr).config).onSettled)==null||N.call(C,this.state.data,_,this)),this.scheduleGc()};return Me(this,yn,aP({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:_=>{var S,x,C,N;if(_===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(T){d(T);return}(x=(S=J(this,wr).config).onSuccess)==null||x.call(S,_,this),(N=(C=J(this,wr).config).onSettled)==null||N.call(C,_,this.state.error,this),this.scheduleGc()},onError:d,onFail:(_,S)=>{pn(this,Br,Qi).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{pn(this,Br,Qi).call(this,{type:"pause"})},onContinue:()=>{pn(this,Br,Qi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),J(this,yn).start()}},jl=new WeakMap,Qo=new WeakMap,wr=new WeakMap,Xo=new WeakMap,yn=new WeakMap,wd=new WeakMap,Jo=new WeakMap,Br=new WeakSet,Qi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...b4(i.data,this.options),fetchMeta:n.meta??null};case"success":return Me(this,Qo,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return rg(s)&&s.revert&&J(this,Qo)?{...J(this,Qo),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Nn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),J(this,wr).notify({query:this,type:"updated",action:n})})},gE);function b4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function E4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mi,vE,T4=(vE=class extends Hp{constructor(e={}){super();et(this,mi);this.config=e,Me(this,mi,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??R_(i,n);let a=this.get(s);return a||(a=new x4({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){J(this,mi).has(e.queryHash)||(J(this,mi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,mi).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,mi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,mi).get(e)}getAll(){return[...J(this,mi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sb(e,r)):n}notify(e){Nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mi=new WeakMap,vE),gi,Cn,ea,vi,Os,yE,S4=(yE=class extends lP{constructor(n){super();et(this,vi);et(this,gi);et(this,Cn);et(this,ea);this.mutationId=n.mutationId,Me(this,Cn,n.mutationCache),Me(this,gi,[]),this.state=n.state||C4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){J(this,gi).includes(n)||(J(this,gi).push(n),this.clearGcTimeout(),J(this,Cn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Me(this,gi,J(this,gi).filter(r=>r!==n)),this.scheduleGc(),J(this,Cn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){J(this,gi).length||(this.state.status==="pending"?this.scheduleGc():J(this,Cn).remove(this))}continue(){var n;return((n=J(this,ea))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,p,g,y,_,S,x,C,N,T,I,O,z,H,R,A,D;const r=()=>{pn(this,vi,Os).call(this,{type:"continue"})};Me(this,ea,aP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(j,F)=>{pn(this,vi,Os).call(this,{type:"failed",failureCount:j,error:F})},onPause:()=>{pn(this,vi,Os).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Cn).canRun(this)}));const i=this.state.status==="pending",s=!J(this,ea).canStart();try{if(i)r();else{pn(this,vi,Os).call(this,{type:"pending",variables:n,isPaused:s}),await((l=(a=J(this,Cn).config).onMutate)==null?void 0:l.call(a,n,this));const F=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n));F!==this.state.context&&pn(this,vi,Os).call(this,{type:"pending",context:F,variables:n,isPaused:s})}const j=await J(this,ea).start();return await((g=(p=J(this,Cn).config).onSuccess)==null?void 0:g.call(p,j,n,this.state.context,this)),await((_=(y=this.options).onSuccess)==null?void 0:_.call(y,j,n,this.state.context)),await((x=(S=J(this,Cn).config).onSettled)==null?void 0:x.call(S,j,null,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,j,null,n,this.state.context)),pn(this,vi,Os).call(this,{type:"success",data:j}),j}catch(j){try{throw await((I=(T=J(this,Cn).config).onError)==null?void 0:I.call(T,j,n,this.state.context,this)),await((z=(O=this.options).onError)==null?void 0:z.call(O,j,n,this.state.context)),await((R=(H=J(this,Cn).config).onSettled)==null?void 0:R.call(H,void 0,j,this.state.variables,this.state.context,this)),await((D=(A=this.options).onSettled)==null?void 0:D.call(A,void 0,j,n,this.state.context)),j}finally{pn(this,vi,Os).call(this,{type:"error",error:j})}}finally{J(this,Cn).runNext(this)}}},gi=new WeakMap,Cn=new WeakMap,ea=new WeakMap,vi=new WeakSet,Os=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nn.batch(()=>{J(this,gi).forEach(i=>{i.onMutationUpdate(n)}),J(this,Cn).notify({mutation:this,type:"updated",action:n})})},yE);function C4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var es,zr,xd,_E,P4=(_E=class extends Hp{constructor(e={}){super();et(this,es);et(this,zr);et(this,xd);this.config=e,Me(this,es,new Set),Me(this,zr,new Map),Me(this,xd,0)}build(e,n,r){const i=new S4({mutationCache:this,mutationId:++ph(this,xd)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){J(this,es).add(e);const n=Dh(e);if(typeof n=="string"){const r=J(this,zr).get(n);r?r.push(e):J(this,zr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,es).delete(e)){const n=Dh(e);if(typeof n=="string"){const r=J(this,zr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&J(this,zr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Dh(e);if(typeof n=="string"){const r=J(this,zr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Dh(e);if(typeof n=="string"){const i=(r=J(this,zr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nn.batch(()=>{J(this,es).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,es).clear(),J(this,zr).clear()})}getAll(){return Array.from(J(this,es))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ob(n,r))}findAll(e={}){return this.getAll().filter(n=>ob(e,n))}notify(e){Nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fr))))}},es=new WeakMap,zr=new WeakMap,xd=new WeakMap,_E);function Dh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function ub(t){return{onFetch:(e,n)=>{var p,g,y,_,S;const r=e.options,i=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,s=((_=e.state.data)==null?void 0:_.pages)||[],a=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const C=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},N=rP(e.options,e.fetchOptions),T=async(I,O,z)=>{if(x)return Promise.reject();if(O==null&&I.pages.length)return Promise.resolve(I);const R=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:O,direction:z?"backward":"forward",meta:e.options.meta};return C(F),F})(),A=await N(R),{maxPages:D}=e.options,j=z?p4:f4;return{pages:j(I.pages,A,D),pageParams:j(I.pageParams,O,D)}};if(i&&s.length){const I=i==="backward",O=I?I4:cb,z={pages:s,pageParams:a},H=O(r,z);l=await T(z,H,I)}else{const I=t??s.length;do{const O=c===0?a[0]??r.initialPageParam:cb(r,l);if(c>0&&O==null)break;l=await T(l,O),c++}while(c<I)}return l};e.options.persister?e.fetchFn=()=>{var x,C;return(C=(x=e.options).persister)==null?void 0:C.call(x,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function cb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function I4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var At,Us,Hs,Vl,Fl,Ws,Bl,zl,wE,N4=(wE=class{constructor(t={}){et(this,At);et(this,Us);et(this,Hs);et(this,Vl);et(this,Fl);et(this,Ws);et(this,Bl);et(this,zl);Me(this,At,t.queryCache||new T4),Me(this,Us,t.mutationCache||new P4),Me(this,Hs,t.defaultOptions||{}),Me(this,Vl,new Map),Me(this,Fl,new Map),Me(this,Ws,0)}mount(){ph(this,Ws)._++,J(this,Ws)===1&&(Me(this,Bl,iP.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,At).onFocus())})),Me(this,zl,qf.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,At).onOnline())})))}unmount(){var t,e;ph(this,Ws)._--,J(this,Ws)===0&&((t=J(this,Bl))==null||t.call(this),Me(this,Bl,void 0),(e=J(this,zl))==null||e.call(this),Me(this,zl,void 0))}isFetching(t){return J(this,At).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,Us).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,At).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=J(this,At).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(kv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return J(this,At).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,At).get(r.queryHash),s=i==null?void 0:i.state.data,a=a4(e,s);if(a!==void 0)return J(this,At).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Nn.batch(()=>J(this,At).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,At).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,At);Nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,At);return Nn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nn.batch(()=>J(this,At).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Fr).catch(Fr)}invalidateQueries(t,e={}){return Nn.batch(()=>(J(this,At).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nn.batch(()=>J(this,At).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Fr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Fr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,At).build(this,e);return n.isStaleByTime(kv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fr).catch(Fr)}fetchInfiniteQuery(t){return t.behavior=ub(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fr).catch(Fr)}ensureInfiniteQueryData(t){return t.behavior=ub(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qf.isOnline()?J(this,Us).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,At)}getMutationCache(){return J(this,Us)}getDefaultOptions(){return J(this,Hs)}setDefaultOptions(t){Me(this,Hs,t)}setQueryDefaults(t,e){J(this,Vl).set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,Vl).values()],n={};return e.forEach(r=>{ed(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){J(this,Fl).set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,Fl).values()],n={};return e.forEach(r=>{ed(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=R_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===L_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,At).clear(),J(this,Us).clear()}},At=new WeakMap,Us=new WeakMap,Hs=new WeakMap,Vl=new WeakMap,Fl=new WeakMap,Ws=new WeakMap,Bl=new WeakMap,zl=new WeakMap,wE),A4=b.createContext(void 0),k4=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(A4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}var Gs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gs||(Gs={}));const db="popstate";function R4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return Lv("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Kf(i)}return M4(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L4(){return Math.random().toString(36).substr(2,8)}function hb(t,e){return{usr:t.state,key:t.key,idx:e}}function Lv(t,e,n,r){return n===void 0&&(n=null),td({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mu(e):e,{state:n,key:e&&e.key||r||L4()})}function Kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function M4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Gs.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(td({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function g(){l=Gs.Pop;let C=p(),N=C==null?null:C-d;d=C,c&&c({action:l,location:x.location,delta:N})}function y(C,N){l=Gs.Push;let T=Lv(x.location,C,N);d=p()+1;let I=hb(T,d),O=x.createHref(T);try{a.pushState(I,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(O)}s&&c&&c({action:l,location:x.location,delta:1})}function _(C,N){l=Gs.Replace;let T=Lv(x.location,C,N);d=p();let I=hb(T,d),O=x.createHref(T);a.replaceState(I,"",O),s&&c&&c({action:l,location:x.location,delta:0})}function S(C){let N=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:Kf(C);return T=T.replace(/ $/,"%20"),Ut(N,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,N)}let x={get action(){return l},get location(){return t(i,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(db,g),c=C,()=>{i.removeEventListener(db,g),c=null}},createHref(C){return e(i,C)},createURL:S,encodeLocation(C){let N=S(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:_,go(C){return a.go(C)}};return x}var fb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fb||(fb={}));function O4(t,e,n){return n===void 0&&(n="/"),D4(t,e,n)}function D4(t,e,n,r){let i=typeof e=="string"?mu(e):e,s=M_(i.pathname||"/",n);if(s==null)return null;let a=cP(t);j4(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=Z4(s);l=q4(a[c],d)}return l}function cP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=io([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),cP(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:H4(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of dP(s.path))i(s,a,c)}),e}function dP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=dP(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function j4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V4=/^:[\w-]+$/,F4=3,B4=2,z4=1,$4=10,U4=-2,pb=t=>t==="*";function H4(t,e){let n=t.split("/"),r=n.length;return n.some(pb)&&(r+=U4),e&&(r+=B4),n.filter(i=>!pb(i)).reduce((i,s)=>i+(V4.test(s)?F4:s===""?z4:$4),r)}function W4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function q4(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=K4({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:io([s,g.pathname]),pathnameBase:J4(io([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=io([s,g.pathnameBase]))}return a}function K4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:y,isOptional:_}=p;if(y==="*"){let x=l[g]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const S=l[g];return _&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function G4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Z4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function M_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Y4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mu(t):t;return{pathname:n?n.startsWith("/")?n:Q4(n,e):e,search:e3(r),hash:t3(i)}}function Q4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hP(t,e){let n=X4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mu(t):(i=td({},t),Ut(!i.pathname||!i.pathname.includes("?"),ig("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),ig("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),ig("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let c=Y4(i,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const io=t=>t.join("/").replace(/\/\/+/g,"/"),J4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pP=["post","put","patch","delete"];new Set(pP);const r3=["get",...pP];new Set(r3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}const O_=b.createContext(null),i3=b.createContext(null),Ta=b.createContext(null),qp=b.createContext(null),Sa=b.createContext({outlet:null,matches:[],isDataRoute:!1}),mP=b.createContext(null);function s3(t,e){let{relative:n}=e===void 0?{}:e;Ad()||Ut(!1);let{basename:r,navigator:i}=b.useContext(Ta),{hash:s,pathname:a,search:l}=vP(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:io([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Ad(){return b.useContext(qp)!=null}function kd(){return Ad()||Ut(!1),b.useContext(qp).location}function gP(t){b.useContext(Ta).static||b.useLayoutEffect(t)}function D_(){let{isDataRoute:t}=b.useContext(Sa);return t?y3():o3()}function o3(){Ad()||Ut(!1);let t=b.useContext(O_),{basename:e,future:n,navigator:r}=b.useContext(Ta),{matches:i}=b.useContext(Sa),{pathname:s}=kd(),a=JSON.stringify(hP(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return gP(()=>{l.current=!0}),b.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=fP(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:io([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,a,s,t])}function vP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Ta),{matches:i}=b.useContext(Sa),{pathname:s}=kd(),a=JSON.stringify(hP(i,r.v7_relativeSplatPath));return b.useMemo(()=>fP(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function a3(t,e){return l3(t,e)}function l3(t,e,n,r){Ad()||Ut(!1);let{navigator:i}=b.useContext(Ta),{matches:s}=b.useContext(Sa),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=kd(),p;if(e){var g;let C=typeof e=="string"?mu(e):e;c==="/"||(g=C.pathname)!=null&&g.startsWith(c)||Ut(!1),p=C}else p=d;let y=p.pathname||"/",_=y;if(c!=="/"){let C=c.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=O4(t,{pathname:_}),x=f3(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:io([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:io([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&x?b.createElement(qp.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Gs.Pop}},x):x}function u3(){let t=v3(),e=n3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const c3=b.createElement(u3,null);class d3 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Sa.Provider,{value:this.props.routeContext},b.createElement(mP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h3(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(O_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Sa.Provider,{value:e},r)}function f3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);p>=0||Ut(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:y,errors:_}=n,S=g.route.loader&&y[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,y)=>{let _,S=!1,x=null,C=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||c3,c&&(d<0&&y===0?(_3("route-fallback"),S=!0,C=null):d===y&&(S=!0,C=g.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,y+1)),T=()=>{let I;return _?I=x:S?I=C:g.route.Component?I=b.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=p,b.createElement(h3,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:I})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?b.createElement(d3,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):T()},null)}var yP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yP||{}),_P=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_P||{});function p3(t){let e=b.useContext(O_);return e||Ut(!1),e}function m3(t){let e=b.useContext(i3);return e||Ut(!1),e}function g3(t){let e=b.useContext(Sa);return e||Ut(!1),e}function wP(t){let e=g3(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function v3(){var t;let e=b.useContext(mP),n=m3(),r=wP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function y3(){let{router:t}=p3(yP.UseNavigateStable),e=wP(_P.UseNavigateStable),n=b.useRef(!1);return gP(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nd({fromRouteId:e},s)))},[t,e])}const mb={};function _3(t,e,n){mb[t]||(mb[t]=!0)}function w3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zo(t){Ut(!1)}function x3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gs.Pop,navigator:s,static:a=!1,future:l}=t;Ad()&&Ut(!1);let c=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:s,static:a,future:nd({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=mu(r));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:S="default"}=r,x=b.useMemo(()=>{let C=M_(p,c);return C==null?null:{location:{pathname:C,search:g,hash:y,state:_,key:S},navigationType:i}},[c,p,g,y,_,S,i]);return x==null?null:b.createElement(Ta.Provider,{value:d},b.createElement(qp.Provider,{children:n,value:x}))}function b3(t){let{children:e,location:n}=t;return a3(Mv(e),n)}new Promise(()=>{});function Mv(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Mv(r.props.children,s));return}r.type!==zo&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mv(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function E3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function T3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S3(t,e){return t.button===0&&(!e||e==="_self")&&!T3(t)}const C3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P3="6";try{window.__reactRouterVersion=P3}catch{}const I3="startTransition",gb=Ty[I3];function N3(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=R4({window:i,v5Compat:!0}));let a=s.current,[l,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=b.useCallback(g=>{d&&gb?gb(()=>c(g)):c(g)},[c,d]);return b.useLayoutEffect(()=>a.listen(p),[a,p]),b.useEffect(()=>w3(r),[r]),b.createElement(x3,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const A3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:d,preventScrollReset:p,viewTransition:g}=e,y=E3(e,C3),{basename:_}=b.useContext(Ta),S,x=!1;if(typeof d=="string"&&k3.test(d)&&(S=d,A3))try{let I=new URL(window.location.href),O=d.startsWith("//")?new URL(I.protocol+d):new URL(d),z=M_(O.pathname,_);O.origin===I.origin&&z!=null?d=z+O.search+O.hash:x=!0}catch{}let C=s3(d,{relative:i}),N=R3(d,{replace:a,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:g});function T(I){r&&r(I),I.defaultPrevented||N(I)}return b.createElement("a",Ov({},y,{href:S||C,onClick:x||s?r:T,ref:n,target:c}))});var vb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vb||(vb={}));var yb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yb||(yb={}));function R3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,c=D_(),d=kd(),p=vP(t,{relative:a});return b.useCallback(g=>{if(S3(g,n)){g.preventDefault();let y=r!==void 0?r:Kf(d)===Kf(p);c(t,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,p,r,i,n,t,s,a,l])}const L3=(t,e,n,r)=>{var s,a,l,c;const i=[n,{code:e,...r||{}}];if((a=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);ia(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},_b={},Dv=(t,e,n,r)=>{ia(n)&&_b[n]||(ia(n)&&(_b[n]=new Date),L3(t,e,n,r))},xP=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},jv=(t,e,n)=>{t.loadNamespaces(e,xP(t,n))},wb=(t,e,n,r)=>{if(ia(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return jv(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,xP(t,r))},M3=(t,e,n={})=>!e.languages||!e.languages.length?(Dv(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),ia=t=>typeof t=="string",O3=t=>typeof t=="object"&&t!==null,D3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,j3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},V3=t=>j3[t],F3=t=>t.replace(D3,V3);let Vv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:F3};const B3=(t={})=>{Vv={...Vv,...t}},z3=()=>Vv;let bP;const $3=t=>{bP=t},U3=()=>bP,H3={type:"3rdParty",init(t){B3(t.options.react),$3(t)}},EP=b.createContext();class W3{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const q3=(t,e)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t},[t,e]),n.current},TP=(t,e,n,r)=>t.getFixedT(e,n,r),K3=(t,e,n,r)=>b.useCallback(TP(t,e,n,r),[t,e,n,r]),_s=(t,e={})=>{var O,z,H,R;const{i18n:n}=e,{i18n:r,defaultNS:i}=b.useContext(EP)||{},s=n||r||U3();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new W3),!s){Dv(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(j,F)=>ia(F)?F:O3(F)&&ia(F.defaultValue)?F.defaultValue:Array.isArray(j)?j[j.length-1]:j,D=[A,{},!1];return D.t=A,D.i18n={},D.ready=!1,D}(O=s.options.react)!=null&&O.wait&&Dv(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...z3(),...s.options.react,...e},{useSuspense:l,keyPrefix:c}=a;let d=i||((z=s.options)==null?void 0:z.defaultNS);d=ia(d)?[d]:d||["translation"],(R=(H=s.reportNamespaces).addUsedNamespaces)==null||R.call(H,d);const p=(s.isInitialized||s.initializedStoreOnce)&&d.every(A=>M3(A,s,a)),g=K3(s,e.lng||null,a.nsMode==="fallback"?d:d[0],c),y=()=>g,_=()=>TP(s,e.lng||null,a.nsMode==="fallback"?d:d[0],c),[S,x]=b.useState(y);let C=d.join();e.lng&&(C=`${e.lng}${C}`);const N=q3(C),T=b.useRef(!0);b.useEffect(()=>{const{bindI18n:A,bindI18nStore:D}=a;T.current=!0,!p&&!l&&(e.lng?wb(s,e.lng,d,()=>{T.current&&x(_)}):jv(s,d,()=>{T.current&&x(_)})),p&&N&&N!==C&&T.current&&x(_);const j=()=>{T.current&&x(_)};return A&&(s==null||s.on(A,j)),D&&(s==null||s.store.on(D,j)),()=>{T.current=!1,s&&(A==null||A.split(" ").forEach(F=>s.off(F,j))),D&&s&&D.split(" ").forEach(F=>s.store.off(F,j))}},[s,C]),b.useEffect(()=>{T.current&&p&&x(y)},[s,c,p]);const I=[S,s,p];if(I.t=S,I.i18n=s,I.ready=p,p||!p&&!l)return I;throw new Promise(A=>{e.lng?wb(s,e.lng,d,()=>A()):jv(s,d,()=>A())})};function G3({i18n:t,defaultNS:e,children:n}){const r=b.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return b.createElement(EP.Provider,{value:r},n)}const Ie=t=>typeof t=="string",oc=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},xb=t=>t==null?"":""+t,Z3=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Y3=/###/g,bb=t=>t&&t.indexOf("###")>-1?t.replace(Y3,"."):t,Eb=t=>!t||Ie(t),Ic=(t,e,n)=>{const r=Ie(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Eb(t))return{};const s=bb(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Eb(t)?{}:{obj:t,k:bb(r[i])}},Tb=(t,e,n)=>{const{obj:r,k:i}=Ic(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=Ic(t,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=Ic(t,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},Q3=(t,e,n,r)=>{const{obj:i,k:s}=Ic(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Gf=(t,e)=>{const{obj:n,k:r}=Ic(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},X3=(t,e,n)=>{const r=Gf(t,n);return r!==void 0?r:Gf(e,n)},SP=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ie(t[r])||t[r]instanceof String||Ie(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):SP(t[r],e[r],n):t[r]=e[r]);return t},tl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var J3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const eV=t=>Ie(t)?t.replace(/[&<>"'\/]/g,e=>J3[e]):t;class tV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const nV=[" ",",","?","!",";"],rV=new tV(20),iV=(t,e,n)=>{e=e||"",n=n||"";const r=nV.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=rV.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},Fv=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let c=s;c<r.length;++c)if(c!==s&&(l+=n),l+=r[c],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=a}return i},rd=t=>t==null?void 0:t.replace("_","-"),sV={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let oV=class Bv{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||sV,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Ie(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Bv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Bv(this.logger,e)}};var xi=new oV;class Kp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...n])})}}class Sb extends Kp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var d,p;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):Ie(r)&&s?l.push(...r.split(s)):l.push(r)));const c=Gf(this.data,l);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),c||!a||!Ie(r)?c:Fv((p=(d=this.data)==null?void 0:d[e])==null?void 0:p[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),Tb(this.data,l,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(Ie(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,a={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=Gf(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?SP(c,r,s):c={...c,...r},Tb(this.data,l,c),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var CP={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,n,r,i))??e}),e}};const Cb={},Pb=t=>!Ie(t)&&typeof t!="boolean"&&typeof t!="number";class Zf extends Kp{constructor(e,n={}){super(),Z3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!iV(e,r,i);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Ie(s)?[s]:s};const d=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(d[0])>-1)&&(s=d.shift()),e=d.join(i)}return{key:e,namespaces:Ie(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),d=c[c.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return y?s?{res:`${d}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:`${d}${p}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:l;const _=this.resolve(e,i);let S=_==null?void 0:_.res;const x=(_==null?void 0:_.usedKey)||l,C=(_==null?void 0:_.exactUsedKey)||l,N=["[object Number]","[object Function]","[object RegExp]"],T=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,I=!this.i18nFormat||this.i18nFormat.handleAsObject,O=i.count!==void 0&&!Ie(i.count),z=Zf.hasDefaultValue(i),H=O?this.pluralResolver.getSuffix(g,i.count,i):"",R=i.ordinal&&O?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",A=O&&!i.ordinal&&i.count===0,D=A&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${H}`]||i[`defaultValue${R}`]||i.defaultValue;let j=S;I&&!S&&z&&(j=D);const F=Pb(j),B=Object.prototype.toString.apply(j);if(I&&j&&F&&N.indexOf(B)<0&&!(Ie(T)&&Array.isArray(j))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,j,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(_.res=V,_.usedParams=this.getUsedParamsDetails(i),_):V}if(a){const V=Array.isArray(j),X=V?[]:{},ve=V?C:x;for(const se in j)if(Object.prototype.hasOwnProperty.call(j,se)){const Q=`${ve}${a}${se}`;z&&!S?X[se]=this.translate(Q,{...i,defaultValue:Pb(D)?D[se]:void 0,joinArrays:!1,ns:c}):X[se]=this.translate(Q,{...i,joinArrays:!1,ns:c}),X[se]===Q&&(X[se]=j[se])}S=X}}else if(I&&Ie(T)&&Array.isArray(S))S=S.join(T),S&&(S=this.extendTranslation(S,e,i,r));else{let V=!1,X=!1;!this.isValidLookup(S)&&z&&(V=!0,S=D),this.isValidLookup(S)||(X=!0,S=l);const se=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:S,Q=z&&D!==S&&this.options.updateMissing;if(X||V||Q){if(this.logger.log(Q?"updateKey":"missingKey",g,d,l,Q?D:S),a){const ie=this.resolve(l,{...i,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let ie=0;ie<Z.length;ie++)$.push(Z[ie]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(i.lng||this.language):$.push(i.lng||this.language);const Y=(ie,oe,ce)=>{var ge;const he=z&&ce!==S?ce:se;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,d,oe,he,Q,i):(ge=this.backendConnector)!=null&&ge.saveMissing&&this.backendConnector.saveMissing(ie,d,oe,he,Q,i),this.emit("missingKey",ie,d,oe,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?$.forEach(ie=>{const oe=this.pluralResolver.getSuffixes(ie,i);A&&i[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(ce=>{Y([ie],l+ce,i[`defaultValue${ce}`]||D)})}):Y($,l,D))}S=this.extendTranslation(S,e,i,_,r),X&&S===l&&this.options.appendNamespaceToMissingKey&&(S=`${d}${p}${l}`),(X||V)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${p}${l}`:l,V?S:void 0,i))}return s?(_.res=S,_.usedParams=this.getUsedParamsDetails(i),_):S}extendTranslation(e,n,r,i,s){var c,d;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Ie(e)&&(((d=r==null?void 0:r.interpolation)==null?void 0:d.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const _=e.match(this.interpolator.nestingRegexp);g=_&&_.length}let y=r.replace&&!Ie(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,r.lng||this.language||i.usedLng,r),p){const _=e.match(this.interpolator.nestingRegexp),S=_&&_.length;g<S&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(..._)=>(s==null?void 0:s[0])===_[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${_[0]} in key: ${n[0]}`),null):this.translate(..._,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=Ie(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=CP.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,a,l;return Ie(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,n),p=d.key;i=p;let g=d.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const y=n.count!==void 0&&!Ie(n.count),_=y&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(Ie(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(C=>{var N,T;this.isValidLookup(r)||(l=C,!Cb[`${x[0]}-${C}`]&&((N=this.utils)!=null&&N.hasLoadedNamespace)&&!((T=this.utils)!=null&&T.hasLoadedNamespace(l))&&(Cb[`${x[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(I=>{var H;if(this.isValidLookup(r))return;a=I;const O=[p];if((H=this.i18nFormat)!=null&&H.addLookupKeys)this.i18nFormat.addLookupKeys(O,p,I,C,n);else{let R;y&&(R=this.pluralResolver.getSuffix(I,n.count,n));const A=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(O.push(p+R),n.ordinal&&R.indexOf(D)===0&&O.push(p+R.replace(D,this.options.pluralSeparator)),_&&O.push(p+A)),S){const j=`${p}${this.options.contextSeparator}${n.context}`;O.push(j),y&&(O.push(j+R),n.ordinal&&R.indexOf(D)===0&&O.push(j+R.replace(D,this.options.pluralSeparator)),_&&O.push(j+A))}}let z;for(;z=O.pop();)this.isValidLookup(r)||(s=z,r=this.getResource(I,C,z,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ie(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Ib{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xi.create("languageUtils")}getScriptPartFromCode(e){if(e=rd(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=rd(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ie(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ie(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ie(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Ie(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const Nb={zero:0,one:1,two:2,few:3,many:4,other:5},Ab={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class aV{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=xi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=rd(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ab;if(!e.match(/-|_/))return Ab;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>Nb[i]-Nb[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const kb=(t,e,n,r=".",i=!0)=>{let s=X3(t,e,n);return!s&&i&&Ie(n)&&(s=Fv(t,n,r),s===void 0&&(s=Fv(e,n,r))),s},sg=t=>t.replace(/\$/g,"$$$$");class lV{constructor(e={}){var n;this.logger=xi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:_,nestingSuffix:S,nestingSuffixEscaped:x,nestingOptionsSeparator:C,maxReplaces:N,alwaysFormat:T}=e.interpolation;this.escape=n!==void 0?n:eV,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?tl(s):a||"{{",this.suffix=l?tl(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?tl(y):_||tl("$t("),this.nestingSuffix=S?tl(S):x||tl(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=N||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var _;let s,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=S=>{if(S.indexOf(this.formatSeparator)<0){const T=kb(n,c,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...i,...n,interpolationkey:S}):T}const x=S.split(this.formatSeparator),C=x.shift().trim(),N=x.join(this.formatSeparator).trim();return this.format(kb(n,c,C,this.options.keySeparator,this.options.ignoreJSONStructure),N,r,{...i,...n,interpolationkey:C})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((_=i==null?void 0:i.interpolation)==null?void 0:_.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>sg(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?sg(this.escape(S)):sg(S)}].forEach(S=>{for(l=0;s=S.regex.exec(e);){const x=s[1].trim();if(a=d(x),a===void 0)if(typeof p=="function"){const N=p(e,s,i);a=Ie(N)?N:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))a="";else if(g){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),a="";else!Ie(a)&&!this.useRawValueToEscape&&(a=xb(a));const C=S.safeValue(a);if(e=e.replace(s[0],C),g?(S.regex.lastIndex+=a.length,S.regex.lastIndex-=s[0].length):S.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,a;const l=(c,d)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const g=c.split(new RegExp(`${p}[ ]*{`));let y=`{${g[1]}`;c=g[0],y=this.interpolate(y,a);const _=y.match(/'/g),S=y.match(/"/g);(((_==null?void 0:_.length)??0)%2===0&&!S||S.length%2!==0)&&(y=y.replace(/'/g,'"'));try{a=JSON.parse(y),d&&(a={...d,...a})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${p}${y}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...r},a=a.replace&&!Ie(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const p=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=p.shift(),c=p,d=!0}if(s=n(l.call(this,i[1].trim(),a),a),s&&i[0]===e&&!Ie(s))return s;Ie(s)||(s=xb(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),d&&(s=c.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const uV=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();n[p]||(n[p]=d),d==="false"&&(n[p]=!1),d==="true"&&(n[p]=!0),isNaN(d)||(n[p]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},Rb=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let l=e[a];return l||(l=t(rd(r),i),e[a]=l),l(n)}},cV=t=>(e,n,r)=>t(rd(n),r)(e);class dV{constructor(e={}){this.logger=xi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Rb:cV;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return l=>a.format(l)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return l=>a.format(l)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return l=>a.format(l,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return l=>a.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Rb(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var g;const{formatName:d,formatOptions:p}=uV(c);if(this.formats[d]){let y=l;try{const _=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},S=_.locale||_.lng||i.locale||i.lng||r;y=this.formats[d](l,S,{...p,...i,..._})}catch(_){this.logger.warn(_)}return y}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const hV=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class fV extends Kp{constructor(e,n,r,i={}){var s,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=xi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},l={},c={};return e.forEach(d=>{let p=!0;n.forEach(g=>{const y=`${d}|${g}`;!r.reload&&this.store.hasResourceBundle(d,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?a[y]===void 0&&(a[y]=!0):(this.state[y]=1,p=!1,a[y]===void 0&&(a[y]=!0),s[y]===void 0&&(s[y]=!0),c[g]===void 0&&(c[g]=!0)))}),p||(l[d]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Q3(c.loaded,[s],a),hV(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const p=c.loaded[d];p.length&&p.forEach(g=>{l[d][g]===void 0&&(l[d][g]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const l=(d,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(d&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(d,p)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,n);d&&typeof d.then=="function"?d.then(p=>l(null,p)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,n,l)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ie(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ie(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,l),this.loaded(e,a,l)})}saveMissing(e,n,r,i,s,a={},l=()=>{}){var c,d,p,g,y;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((y=this.backend)!=null&&y.create){const _={...a,isUpdate:s},S=this.backend.create.bind(this.backend);if(S.length<6)try{let x;S.length===5?x=S(e,n,r,i,_):x=S(e,n,r,i),x&&typeof x.then=="function"?x.then(C=>l(null,C)).catch(l):l(null,x)}catch(x){l(x)}else S(e,n,r,i,l,_)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Lb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ie(t[1])&&(e.defaultValue=t[1]),Ie(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Mb=t=>{var e,n;return Ie(t.ns)&&(t.ns=[t.ns]),Ie(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ie(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},jh=()=>{},pV=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class id extends Kp{constructor(e={},n){if(super(),this.options=Mb(e),this.services={},this.logger=xi,this.modules={external:[]},pV(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ie(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Lb();this.options={...r,...this.options,...Mb(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?xi.init(i(this.modules.logger),this.options):xi.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=dV;const p=new Ib(this.options);this.store=new Sb(this.options.resources,this.options);const g=this.services;g.logger=xi,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new aV(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(d),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new lV(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new fV(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(y,..._)=>{this.emit(y,..._)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Zf(this.services,this.options),this.translator.on("*",(y,..._)=>{this.emit(y,..._)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=jh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...p)=>this.store[d](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...p)=>(this.store[d](...p),this)});const l=oc(),c=()=>{const d=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,n=jh){var s,a;let r=n;const i=Ie(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,n,r){const i=oc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=jh),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=oc();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(l,(...d)=>this.t(...d))},a=l=>{var p,g;!e&&!l&&this.services.languageDetector&&(l=[]);const c=Ie(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Ie(l)?[l]:l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,d)),this.loadResources(d,y=>{s(y,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const i=(s,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(l)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const d=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(s)?p=s.map(g=>`${c.keyPrefix}${d}${g}`):p=c.keyPrefix?`${c.keyPrefix}${d}${s}`:s,this.t(p,c)};return Ie(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=oc();return this.options.ns?(Ie(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=oc();Ie(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new Ib(Lb());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new id(e,n)}cloneInstance(e={},n=jh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new id(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((p,g)=>(p[g]={...c[d][g]},p),c[d]),c),{});s.store=new Sb(l,i),s.services.resourceStore=s.store}return s.translator=new Zf(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ot=id.createInstance();Ot.createInstance=id.createInstance;Ot.createInstance;Ot.dir;Ot.init;Ot.loadResources;Ot.reloadResources;Ot.use;Ot.changeLanguage;Ot.getFixedT;Ot.t;Ot.exists;Ot.setDefaultNamespace;Ot.hasLoadedNamespace;Ot.loadNamespaces;Ot.loadLanguages;const mV={es:{translation:{title:"Comunidad Segura",description:"Una plataforma para reportar actividad de ICE, ver alertas en tiempo real, y acceder a recursos legales para nuestra comunidad inmigrante en Los Ángeles.",report:"Reportar Actividad ICE",map:"Ver Mapa de Reportes",rights:"Conoce Tus Derechos",rightsButtonText:"Conoce Tus Derechos",reportTitle:"Reportar Actividad de ICE",location:"Ubicación o dirección (opcional pero útil)",activityType:"Tipo de actividad",timeSeen:"Hora aproximada (si sabes)",notes:"Comentarios (opcional)",selectOne:"Selecciona uno",submit:"Enviar Reporte",thankYou:"¡Gracias! Tu reporte ha sido recibido.",back:"← Volver",patrol:"Patrulla",checkpoint:"Punto de control",raid:"Redada",other:"Otra",emergencyContacts:"Contactos de Emergencia",addContacts:"Agrega hasta 3 contactos de emergencia para ser notificados en una emergencia.",name:"Nombre",phone:"Número de Teléfono",saveContacts:"Guardar Contactos",panicAlert:"EMERGENCIA: Contactando a tus contactos de emergencia y mostrando tus derechos legales...",configure:"Configurar Contactos de Emergencia",trigger:"Activar Emergencia",yourRights:"Tus Derechos",rightsText:"Tienes derecho a guardar silencio. No tienes que dejar entrar a ICE sin una orden firmada. Pide hablar con un abogado.",cancel:"Cancelar",timeFilter:"Filtro de tiempo",typeFilter:"Filtro de tipo",allTime:"Todo el tiempo",lastHour:"Última hora",last24Hours:"Últimas 24 horas",last7Days:"Últimos 7 días",last30Days:"Últimos 30 días",allTypes:"Todos los tipos",showMap:"Mostrar Mapa",quickHide:"Ocultar Rápido"}},en:{translation:{title:"Comunidad Segura",description:"A platform to report ICE activity, view real-time alerts, and access legal resources for immigrant communities in Los Angeles.",report:"Report ICE Activity",map:"View ICE Activity Map",rights:"Know Your Rights",rightsButtonText:"Know Your Rights",reportTitle:"Report ICE Activity",location:"Location or address (optional but helpful)",activityType:"Type of activity",timeSeen:"Approximate time (if known)",notes:"Comments (optional)",selectOne:"Select one",submit:"Submit Report",thankYou:"Thank you! Your report has been received.",back:"← Back",patrol:"Patrol",checkpoint:"Checkpoint",raid:"Raid",other:"Other",emergencyContacts:"Emergency Contacts",addContacts:"Add up to 3 emergency contacts to be notified in an emergency.",name:"Name",phone:"Phone Number",saveContacts:"Save Contacts",panicAlert:"EMERGENCY: Contacting your emergency contacts and showing your legal rights...",configure:"Configure Emergency Contacts",trigger:"Trigger Emergency",yourRights:"Your Rights",rightsText:"You have the right to remain silent. You do not have to let ICE into your home unless they have a signed warrant. Ask to speak with a lawyer.",cancel:"Cancel",timeFilter:"Time filter",typeFilter:"Type filter",allTime:"All time",lastHour:"Last hour",last24Hours:"Last 24 hours",last7Days:"Last 7 days",last30Days:"Last 30 days",allTypes:"All types",showMap:"Show Map",quickHide:"Quick Hide"}},zh:{translation:{title:"Comunidad Segura",description:"一个用于报告ICE活动、查看实时警报和访问法律资源的平台，为洛杉矶的移民社区服务。",report:"报告 ICE 活动",map:"查看 ICE 地图",rights:"了解你的权利",rightsButtonText:"了解你的权利",reportTitle:"报告 ICE 活动",location:"地址或位置（可选但有帮助）",activityType:"活动类型",timeSeen:"大致时间（如已知）",notes:"备注（可选）",selectOne:"请选择",submit:"提交报告",thankYou:"谢谢！我们已收到您的报告。",back:"← 返回",patrol:"巡逻",checkpoint:"检查站",raid:"突袭",other:"其他",emergencyContacts:"紧急联系人",addContacts:"添加最多 3 个紧急联系人以在紧急情况下通知他们。",name:"姓名",phone:"电话号码",saveContacts:"保存联系人",panicAlert:"紧急情况：正在联系您的紧急联系人并显示您的法律权利...",configure:"配置紧急联系人",trigger:"启动紧急模式",yourRights:"您的权利",rightsText:"您有权保持沉默。除非他们有签署的搜查令，否则您不必让ICE进入您的家。要求与律师交谈。",cancel:"取消",timeFilter:"时间筛选",typeFilter:"类型筛选",allTime:"所有时间",lastHour:"最后一小时",last24Hours:"最后24小时",last7Days:"最后7天",last30Days:"最后30天",allTypes:"所有类型",showMap:"显示地图",quickHide:"快速隐藏"}},vi:{translation:{title:"Comunidad Segura",description:"Nền tảng báo cáo hoạt động ICE, cập nhật cảnh báo theo thời gian thực, và truy cập tài nguyên pháp lý cho các cộng đồng nhập cư ở Los Angeles.",report:"Báo Cáo Hoạt Động ICE",map:"Xem Bản Đồ ICE",rights:"Biết Quyền Của Bạn",rightsButtonText:"Biết Quyền Của Bạn",reportTitle:"Báo Cáo Hoạt Động ICE",location:"Địa điểm hoặc địa chỉ (tùy chọn nhưng hữu ích)",activityType:"Loại hoạt động",timeSeen:"Thời gian gần đúng (nếu biết)",notes:"Ghi chú (tùy chọn)",selectOne:"Chọn một",submit:"Gửi Báo Cáo",thankYou:"Cảm ơn bạn! Báo cáo của bạn đã được gửi.",back:"← Quay lại",patrol:"Tuần tra",checkpoint:"Trạm kiểm soát",raid:"Cuộc truy quét",other:"Khác",emergencyContacts:"Liên Hệ Khẩn Cấp",addContacts:"Thêm tối đa 3 liên hệ khẩn cấp để được thông báo trong trường hợp khẩn cấp.",name:"Tên",phone:"Số điện thoại",saveContacts:"Lưu liên hệ",panicAlert:"KHẨN CẤP: Đang liên hệ với các liên hệ khẩn cấp của bạn và hiển thị quyền hợp pháp của bạn...",configure:"Cấu hình liên hệ khẩn cấp",trigger:"Kích hoạt khẩn cấp",yourRights:"Quyền Của Bạn",rightsText:"Bạn có quyền giữ im lặng. Bạn không phải để ICE vào nhà trừ khi họ có lệnh khám xét đã ký. Yêu cầu nói chuyện với luật sư.",cancel:"Hủy",timeFilter:"Bộ lọc thời gian",typeFilter:"Bộ lọc loại",allTime:"Tất cả thời gian",lastHour:"Giờ qua",last24Hours:"24 giờ qua",last7Days:"7 ngày qua",last30Days:"30 ngày qua",allTypes:"Tất cả loại",showMap:"Hiển thị bản đồ",quickHide:"Ẩn nhanh"}},tl:{translation:{title:"Comunidad Segura",description:"Isang plataporma para i-report ang aktibidad ng ICE, makakita ng mga alerto sa tunay na oras, at makakuha ng legal na tulong para sa mga immigrant sa Los Angeles.",report:"I-report ang Aktibidad ng ICE",map:"Tingnan ang Mapa ng ICE",rights:"Alamin ang Inyong mga Karapatan",rightsButtonText:"Alamin ang Inyong mga Karapatan",reportTitle:"I-report ang Aktibidad ng ICE",location:"Lokasyon o address (opsyonal ngunit kapaki-pakinabang)",activityType:"Uri ng aktibidad",timeSeen:"Tinatayang oras (kung alam)",notes:"Mga Komento (opsyonal)",selectOne:"Pumili ng isa",submit:"Isumite ang Ulat",thankYou:"Salamat! Natanggap na ang inyong ulat.",back:"← Bumalik",patrol:"Patrulya",checkpoint:"Checkpoint",raid:"Ratsya",other:"Iba pa",emergencyContacts:"Mga Emergency Contact",addContacts:"Magdagdag ng hanggang 3 emergency contact na tatawagan sa oras ng emergency.",name:"Pangalan",phone:"Numero ng Telepono",saveContacts:"I-save ang Mga Contact",panicAlert:"EMERGENCY: Nakikipag-ugnayan sa inyong mga emergency contact at ipinapakita ang inyong mga legal na karapatan...",configure:"I-configure ang Mga Emergency Contact",trigger:"I-trigger ang Emergency",yourRights:"Inyong mga Karapatan",rightsText:"May karapatan kayong manahimik. Hindi ninyo kailangang papasukin ang ICE sa inyong bahay maliban kung may pirirmadong warrant sila. Humingi ng makakausap na abogado.",cancel:"Kanselahin",timeFilter:"Filter ng oras",typeFilter:"Filter ng uri",allTime:"Lahat ng oras",lastHour:"Huling oras",last24Hours:"Huling 24 oras",last7Days:"Huling 7 araw",last30Days:"Huling 30 araw",allTypes:"Lahat ng uri",showMap:"Ipakita ang Mapa",quickHide:"Mabilis na Itago"}},ar:{translation:{title:"Comunidad Segura",description:"منصة لإبلاغ عن نشاط ICE، وعرض التنبيهات في الوقت الفعلي، والوصول إلى الموارد القانونية للمجتمعات المهاجرة في لوس أنجلوس.",report:"إبلاغ عن نشاط ICE",map:"عرض خريطة ICE",rights:"اعرف حقوقك",rightsButtonText:"اعرف حقوقك",reportTitle:"إبلاغ عن نشاط ICE",location:"الموقع أو العنوان (اختياري ولكن مفيد)",activityType:"نوع النشاط",timeSeen:"الوقت التقريبي (إذا كنت تعرفه)",notes:"تعليقات (اختياري)",selectOne:"اختر واحدًا",submit:"إرسال التقرير",thankYou:"شكرًا لك! تم استلام تقريرك.",back:"← رجوع",patrol:"دورية",checkpoint:"نقطة تفتيش",raid:"مداهمة",other:"أخرى",emergencyContacts:"جهات الاتصال في حالات الطوارئ",addContacts:"أضف ما يصل إلى 3 جهات اتصال للطوارئ ليتم إخطارهم في حالة الطوارئ.",name:"الاسم",phone:"رقم الهاتف",saveContacts:"احفظ جهات الاتصال",panicAlert:"طارئ: يتم الاتصال بجهات الاتصال الخاصة بك في حالات الطوارئ وعرض حقوقك القانونية...",configure:"إعداد جهات الاتصال في حالات الطوارئ",trigger:"تفعيل الطوارئ",yourRights:"حقوقك",rightsText:"لك الحق في التزام الصمت. لا يجب عليك السماح لـ ICE بدخول منزلك إلا إذا كان لديهم مذكرة موقعة. اطلب التحدث مع محامٍ.",cancel:"إلغاء",timeFilter:"مرشح الوقت",typeFilter:"مرشح النوع",allTime:"كل الأوقات",lastHour:"الساعة الماضية",last24Hours:"آخر 24 ساعة",last7Days:"آخر 7 أيام",last30Days:"آخر 30 يوم",allTypes:"جميع الأنواع",showMap:"إظهار الخريطة",quickHide:"إخفاء سريع"}}},gV=()=>{var r;const e=(navigator.language||((r=navigator.languages)==null?void 0:r[0])||"en").split("-")[0];return["es","en","zh","vi","tl","ar"].includes(e)?e:"es"};Ot.use(H3).init({resources:mV,lng:localStorage.getItem("preferred-language")||gV(),fallbackLng:"en",interpolation:{escapeValue:!1}});const PP="comunidad-segura-language",vV=t=>{localStorage.setItem(PP,t)},yV=()=>localStorage.getItem(PP),sd=Dp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?gM:"button";return m.jsx(a,{className:Ae(sd({variant:e,size:n,className:t})),ref:s,...i})});Fe.displayName="Button";const Ni=b.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ni.displayName="Card";const hs=b.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));hs.displayName="CardHeader";const fs=b.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));fs.displayName="CardTitle";const j_=b.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));j_.displayName="CardDescription";const Ai=b.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));Ai.displayName="CardContent";const _V=b.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));_V.displayName="CardFooter";const wV=({onPermissionResponse:t})=>{const{t:e}=_s(),[n,r]=b.useState(!1);b.useEffect(()=>{const a=localStorage.getItem("notification-permission-asked"),l="Notification"in window;if(!a&&l&&Notification.permission==="default"){const c=setTimeout(()=>{r(!0)},2e3);return()=>clearTimeout(c)}},[]);const i=async()=>{try{const l=await Notification.requestPermission()==="granted";localStorage.setItem("notification-permission-asked","true"),localStorage.setItem("notifications-enabled",l.toString()),t(l),r(!1),l&&new Notification("Comunidad Segura",{body:"You will now receive safety alerts for your community",icon:"/favicon.ico"})}catch(a){console.error("Error requesting notification permission:",a),t(!1),r(!1)}},s=()=>{localStorage.setItem("notification-permission-asked","true"),localStorage.setItem("notifications-enabled","false"),t(!1),r(!1)};return n?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:m.jsxs(Ni,{className:"w-full max-w-md shadow-2xl",children:[m.jsx(hs,{className:"text-center pb-4",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx(Tv,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),m.jsx(fs,{className:"text-xl font-bold",children:"Stay Safe with Alerts"})]}),m.jsx(Fe,{variant:"ghost",size:"sm",onClick:s,className:"p-1 h-8 w-8",children:m.jsx(jp,{className:"h-4 w-4"})})]})}),m.jsxs(Ai,{className:"text-center space-y-4",children:[m.jsx("p",{className:"text-gray-600",children:'"Comunidad Segura" would like to send you notifications about ICE activity and safety alerts in your area.'}),m.jsxs("div",{className:"space-y-3 pt-4",children:[m.jsxs(Fe,{onClick:i,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3",children:[m.jsx(Tv,{className:"h-4 w-4 mr-2"}),"Allow Notifications"]}),m.jsxs(Fe,{onClick:s,variant:"outline",className:"w-full py-3",children:[m.jsx(aO,{className:"h-4 w-4 mr-2"}),"Don't Allow"]})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"You can change this in your browser settings later"})]})]})}):null};function IP(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Gp="Switch",[xV,vH]=ys(Gp),[bV,EV]=xV(Gp),NP=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:d,form:p,...g}=t,[y,_]=b.useState(null),S=tt(e,I=>_(I)),x=b.useRef(!1),C=y?p||!!y.closest("form"):!0,[N,T]=Zl({prop:i,defaultProp:s??!1,onChange:d,caller:Gp});return m.jsxs(bV,{scope:n,checked:N,disabled:l,children:[m.jsx($e.button,{type:"button",role:"switch","aria-checked":N,"aria-required":a,"data-state":LP(N),"data-disabled":l?"":void 0,disabled:l,value:c,...g,ref:S,onClick:Ce(t.onClick,I=>{T(O=>!O),C&&(x.current=I.isPropagationStopped(),x.current||I.stopPropagation())})}),C&&m.jsx(RP,{control:y,bubbles:!x.current,name:r,value:c,checked:N,required:a,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});NP.displayName=Gp;var AP="SwitchThumb",kP=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=EV(AP,n);return m.jsx($e.span,{"data-state":LP(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});kP.displayName=AP;var TV="SwitchBubbleInput",RP=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=b.useRef(null),l=tt(a,s),c=IP(n),d=jC(e);return b.useEffect(()=>{const p=a.current;if(!p)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(c!==n&&_){const S=new Event("click",{bubbles:r});_.call(p,n),p.dispatchEvent(S)}},[c,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RP.displayName=TV;function LP(t){return t?"checked":"unchecked"}var MP=NP,SV=kP;const sa=b.forwardRef(({className:t,...e},n)=>m.jsx(MP,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:m.jsx(SV,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sa.displayName=MP.displayName;var CV="Label",OP=b.forwardRef((t,e)=>m.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));OP.displayName=CV;var DP=OP;const PV=Dp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_n=b.forwardRef(({className:t,...e},n)=>m.jsx(DP,{ref:n,className:Ae(PV(),t),...e}));_n.displayName=DP.displayName;const IV=({onSettingsComplete:t})=>{const{t:e}=_s(),[n,r]=b.useState(!1),[i,s]=b.useState(!0),[a,l]=b.useState(!0),[c,d]=b.useState(!1);b.useEffect(()=>{if(!localStorage.getItem("privacy-settings-configured")){const y=setTimeout(()=>{r(!0)},1500);return()=>clearTimeout(y)}},[]);const p=()=>{const g={pushNotifications:i,locationSharing:a,anonymousReporting:c};localStorage.setItem("appSettings",JSON.stringify(g)),localStorage.setItem("privacy-settings-configured","true"),t(g),r(!1)};return n?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:m.jsxs(Ni,{className:"w-full max-w-md shadow-2xl",children:[m.jsxs(hs,{className:"text-center pb-4",children:[m.jsx(mC,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),m.jsx(fs,{className:"text-xl font-bold",children:"🔒 Privacy & Safety"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Control how your information is shared and used for community safety"})]}),m.jsxs(Ai,{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Tv,{className:"h-5 w-5 text-orange-500"}),m.jsxs("div",{children:[m.jsx(_n,{className:"text-sm font-medium",children:"Push Notifications"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Receive alerts about incidents in your area"})]})]}),m.jsx(sa,{checked:i,onCheckedChange:s})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(gO,{className:"h-5 w-5 text-orange-500"}),m.jsxs("div",{children:[m.jsx(_n,{className:"text-sm font-medium",children:"Location Sharing"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Share general location for community safety features"})]})]}),m.jsx(sa,{checked:a,onCheckedChange:l})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(yO,{className:"h-5 w-5 text-orange-500"}),m.jsxs("div",{children:[m.jsx(_n,{className:"text-sm font-medium",children:"Anonymous Reporting"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Submit reports without personal identification"})]})]}),m.jsx(sa,{checked:c,onCheckedChange:d})]}),m.jsx("div",{className:"pt-4",children:m.jsx(Fe,{onClick:p,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3",children:"Save Privacy Settings"})}),m.jsx("p",{className:"text-xs text-gray-500 text-center",children:"You can change these settings anytime in the Settings page"})]})]})}):null};var og="focusScope.autoFocusOnMount",ag="focusScope.autoFocusOnUnmount",Ob={bubbles:!1,cancelable:!0},NV="FocusScope",Zp=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=b.useState(null),d=Zr(i),p=Zr(s),g=b.useRef(null),y=tt(e,x=>c(x)),_=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let x=function(I){if(_.paused||!l)return;const O=I.target;l.contains(O)?g.current=O:Ds(g.current,{select:!0})},C=function(I){if(_.paused||!l)return;const O=I.relatedTarget;O!==null&&(l.contains(O)||Ds(g.current,{select:!0}))},N=function(I){if(document.activeElement===document.body)for(const z of I)z.removedNodes.length>0&&Ds(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",C);const T=new MutationObserver(N);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",C),T.disconnect()}}},[r,l,_.paused]),b.useEffect(()=>{if(l){jb.add(_);const x=document.activeElement;if(!l.contains(x)){const N=new CustomEvent(og,Ob);l.addEventListener(og,d),l.dispatchEvent(N),N.defaultPrevented||(AV(OV(jP(l)),{select:!0}),document.activeElement===x&&Ds(l))}return()=>{l.removeEventListener(og,d),setTimeout(()=>{const N=new CustomEvent(ag,Ob);l.addEventListener(ag,p),l.dispatchEvent(N),N.defaultPrevented||Ds(x??document.body,{select:!0}),l.removeEventListener(ag,p),jb.remove(_)},0)}}},[l,d,p,_]);const S=b.useCallback(x=>{if(!n&&!r||_.paused)return;const C=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,N=document.activeElement;if(C&&N){const T=x.currentTarget,[I,O]=kV(T);I&&O?!x.shiftKey&&N===O?(x.preventDefault(),n&&Ds(I,{select:!0})):x.shiftKey&&N===I&&(x.preventDefault(),n&&Ds(O,{select:!0})):N===T&&x.preventDefault()}},[n,r,_.paused]);return m.jsx($e.div,{tabIndex:-1,...a,ref:y,onKeyDown:S})});Zp.displayName=NV;function AV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ds(r,{select:e}),document.activeElement!==n)return}function kV(t){const e=jP(t),n=Db(e,t),r=Db(e.reverse(),t);return[n,r]}function jP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Db(t,e){for(const n of t)if(!RV(n,{upTo:e}))return n}function RV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LV(t){return t instanceof HTMLInputElement&&"select"in t}function Ds(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&LV(t)&&e&&t.select()}}var jb=MV();function MV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Vb(t,e),t.unshift(e)},remove(e){var n;t=Vb(t,e),(n=t[0])==null||n.resume()}}}function Vb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function OV(t){return t.filter(e=>e.tagName!=="A")}var lg=0;function V_(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Fb()),document.body.insertAdjacentElement("beforeend",t[1]??Fb()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lg--}},[])}function Fb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _i=function(){return _i=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_i.apply(this,arguments)};function VP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var uf="right-scroll-bar-position",cf="width-before-scroll-bar",jV="with-scroll-bars-hidden",VV="--removed-body-scroll-bar-size";function ug(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FV(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var BV=typeof window<"u"?b.useLayoutEffect:b.useEffect,Bb=new WeakMap;function zV(t,e){var n=FV(null,function(r){return t.forEach(function(i){return ug(i,r)})});return BV(function(){var r=Bb.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||ug(l,null)}),s.forEach(function(l){i.has(l)||ug(l,a)})}Bb.set(n,t)},[t]),n}function $V(t){return t}function UV(t,e){e===void 0&&(e=$V);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var p=a;a=[],p.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(p){a.push(p),d()},filter:function(p){return a=a.filter(p),n}}}};return i}function HV(t){t===void 0&&(t={});var e=UV(null);return e.options=_i({async:!0,ssr:!1},t),e}var FP=function(t){var e=t.sideCar,n=VP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,_i({},n))};FP.isSideCarExport=!0;function WV(t,e){return t.useMedium(e),FP}var BP=HV(),cg=function(){},Yp=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:cg,onWheelCapture:cg,onTouchMoveCapture:cg}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,_=t.noRelative,S=t.noIsolation,x=t.inert,C=t.allowPinchZoom,N=t.as,T=N===void 0?"div":N,I=t.gapMode,O=VP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=y,H=zV([n,e]),R=_i(_i({},O),i);return b.createElement(b.Fragment,null,p&&b.createElement(z,{sideCar:BP,removeScrollBar:d,shards:g,noRelative:_,noIsolation:S,inert:x,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:I}),a?b.cloneElement(b.Children.only(l),_i(_i({},R),{ref:H})):b.createElement(T,_i({},R,{className:c,ref:H}),l))});Yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yp.classNames={fullWidth:cf,zeroRight:uf};var qV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qV();return e&&t.setAttribute("nonce",e),t}function GV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var YV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=KV())&&(GV(e,n),ZV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QV=function(){var t=YV();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zP=function(){var t=QV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},XV={left:0,top:0,right:0,gap:0},dg=function(t){return parseInt(t||"",10)||0},JV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[dg(n),dg(r),dg(i)]},eF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return XV;var e=JV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tF=zP(),Al="data-scroll-locked",nF=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Al,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uf," .").concat(uf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cf," .").concat(cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Al,`] {
    `).concat(VV,": ").concat(l,`px;
  }
`)},zb=function(){var t=parseInt(document.body.getAttribute(Al)||"0",10);return isFinite(t)?t:0},rF=function(){b.useEffect(function(){return document.body.setAttribute(Al,(zb()+1).toString()),function(){var t=zb()-1;t<=0?document.body.removeAttribute(Al):document.body.setAttribute(Al,t.toString())}},[])},iF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;rF();var s=b.useMemo(function(){return eF(i)},[i]);return b.createElement(tF,{styles:nF(s,!e,i,n?"":"!important")})},zv=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{zv=!1}var nl=zv?{passive:!1}:!1,sF=function(t){return t.tagName==="TEXTAREA"},$P=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sF(t)&&n[e]==="visible")},oF=function(t){return $P(t,"overflowY")},aF=function(t){return $P(t,"overflowX")},$b=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UP(t,r);if(i){var s=HP(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},uF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UP=function(t,e){return t==="v"?oF(e):aF(e)},HP=function(t,e){return t==="v"?lF(e):uF(e)},cF=function(t,e){return t==="h"&&e==="rtl"?-1:1},dF=function(t,e,n,r,i){var s=cF(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),d=!1,p=a>0,g=0,y=0;do{if(!l)break;var _=HP(t,l),S=_[0],x=_[1],C=_[2],N=x-C-s*S;(S||N)&&UP(t,l)&&(g+=N,y+=S);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(d=!0),d},Fh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ub=function(t){return[t.deltaX,t.deltaY]},Hb=function(t){return t&&"current"in t?t.current:t},hF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pF=0,rl=[];function mF(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(pF++)[0],s=b.useState(zP)[0],a=b.useRef(t);b.useEffect(function(){a.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=DV([t.lockRef.current],(t.shards||[]).map(Hb),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var N=Fh(x),T=n.current,I="deltaX"in x?x.deltaX:T[0]-N[0],O="deltaY"in x?x.deltaY:T[1]-N[1],z,H=x.target,R=Math.abs(I)>Math.abs(O)?"h":"v";if("touches"in x&&R==="h"&&H.type==="range")return!1;var A=$b(R,H);if(!A)return!0;if(A?z=R:(z=R==="v"?"h":"v",A=$b(R,H)),!A)return!1;if(!r.current&&"changedTouches"in x&&(I||O)&&(r.current=z),!z)return!0;var D=r.current||z;return dF(D,C,x,D==="h"?I:O)},[]),c=b.useCallback(function(x){var C=x;if(!(!rl.length||rl[rl.length-1]!==s)){var N="deltaY"in C?Ub(C):Fh(C),T=e.current.filter(function(z){return z.name===C.type&&(z.target===C.target||C.target===z.shadowParent)&&hF(z.delta,N)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var I=(a.current.shards||[]).map(Hb).filter(Boolean).filter(function(z){return z.contains(C.target)}),O=I.length>0?l(C,I[0]):!a.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),d=b.useCallback(function(x,C,N,T){var I={name:x,delta:C,target:N,should:T,shadowParent:gF(N)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(O){return O!==I})},1)},[]),p=b.useCallback(function(x){n.current=Fh(x),r.current=void 0},[]),g=b.useCallback(function(x){d(x.type,Ub(x),x.target,l(x,t.lockRef.current))},[]),y=b.useCallback(function(x){d(x.type,Fh(x),x.target,l(x,t.lockRef.current))},[]);b.useEffect(function(){return rl.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",c,nl),document.addEventListener("touchmove",c,nl),document.addEventListener("touchstart",p,nl),function(){rl=rl.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,nl),document.removeEventListener("touchmove",c,nl),document.removeEventListener("touchstart",p,nl)}},[]);var _=t.removeScrollBar,S=t.inert;return b.createElement(b.Fragment,null,S?b.createElement(s,{styles:fF(i)}):null,_?b.createElement(iF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function gF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vF=WV(BP,mF);var Qp=b.forwardRef(function(t,e){return b.createElement(Yp,_i({},t,{ref:e,sideCar:vF}))});Qp.classNames=Yp.classNames;var yF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},il=new WeakMap,Bh=new WeakMap,zh={},hg=0,WP=function(t){return t&&(t.host||WP(t.parentNode))},_F=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=WP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},wF=function(t,e,n,r){var i=_F(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var s=zh[n],a=[],l=new Set,c=new Set(i),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};i.forEach(d);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(y){if(l.has(y))p(y);else try{var _=y.getAttribute(r),S=_!==null&&_!=="false",x=(il.get(y)||0)+1,C=(s.get(y)||0)+1;il.set(y,x),s.set(y,C),a.push(y),x===1&&S&&Bh.set(y,!0),C===1&&y.setAttribute(n,"true"),S||y.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(e),l.clear(),hg++,function(){a.forEach(function(g){var y=il.get(g)-1,_=s.get(g)-1;il.set(g,y),s.set(g,_),y||(Bh.has(g)||g.removeAttribute(r),Bh.delete(g)),_||g.removeAttribute(n)}),hg--,hg||(il=new WeakMap,il=new WeakMap,Bh=new WeakMap,zh={})}},F_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=yF(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),wF(r,i,n,"aria-hidden")):function(){return null}},Xp="Dialog",[qP,KP]=ys(Xp),[xF,ti]=qP(Xp),GP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=b.useRef(null),c=b.useRef(null),[d,p]=Zl({prop:r,defaultProp:i??!1,onChange:s,caller:Xp});return m.jsx(xF,{scope:e,triggerRef:l,contentRef:c,contentId:ra(),titleId:ra(),descriptionId:ra(),open:d,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(g=>!g),[p]),modal:a,children:n})};GP.displayName=Xp;var ZP="DialogTrigger",YP=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ti(ZP,n),s=tt(e,i.triggerRef);return m.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$_(i.open),...r,ref:s,onClick:Ce(t.onClick,i.onOpenToggle)})});YP.displayName=ZP;var B_="DialogPortal",[bF,QP]=qP(B_,{forceMount:void 0}),XP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ti(B_,e);return m.jsx(bF,{scope:e,forceMount:n,children:b.Children.map(r,a=>m.jsx(To,{present:n||s.open,children:m.jsx(Pd,{asChild:!0,container:i,children:a})}))})};XP.displayName=B_;var Yf="DialogOverlay",JP=b.forwardRef((t,e)=>{const n=QP(Yf,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ti(Yf,t.__scopeDialog);return s.modal?m.jsx(To,{present:r||s.open,children:m.jsx(TF,{...i,ref:e})}):null});JP.displayName=Yf;var EF=ha("DialogOverlay.RemoveScroll"),TF=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ti(Yf,n);return m.jsx(Qp,{as:EF,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx($e.div,{"data-state":$_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),pa="DialogContent",eI=b.forwardRef((t,e)=>{const n=QP(pa,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ti(pa,t.__scopeDialog);return m.jsx(To,{present:r||s.open,children:s.modal?m.jsx(SF,{...i,ref:e}):m.jsx(CF,{...i,ref:e})})});eI.displayName=pa;var SF=b.forwardRef((t,e)=>{const n=ti(pa,t.__scopeDialog),r=b.useRef(null),i=tt(e,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return F_(s)},[]),m.jsx(tI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault())})}),CF=b.forwardRef((t,e)=>{const n=ti(pa,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return m.jsx(tI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),tI=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=ti(pa,n),c=b.useRef(null),d=tt(e,c);return V_(),m.jsxs(m.Fragment,{children:[m.jsx(Zp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(cu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$_(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(IF,{titleId:l.titleId}),m.jsx(AF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),z_="DialogTitle",nI=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ti(z_,n);return m.jsx($e.h2,{id:i.titleId,...r,ref:e})});nI.displayName=z_;var rI="DialogDescription",iI=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ti(rI,n);return m.jsx($e.p,{id:i.descriptionId,...r,ref:e})});iI.displayName=rI;var sI="DialogClose",oI=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ti(sI,n);return m.jsx($e.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});oI.displayName=sI;function $_(t){return t?"open":"closed"}var aI="DialogTitleWarning",[PF,lI]=pM(aI,{contentName:pa,titleName:z_,docsSlug:"dialog"}),IF=({titleId:t})=>{const e=lI(aI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},NF="DialogDescriptionWarning",AF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lI(NF).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},uI=GP,cI=YP,dI=XP,U_=JP,H_=eI,W_=nI,q_=iI,K_=oI;const hI=uI,fI=cI,kF=dI,pI=b.forwardRef(({className:t,...e},n)=>m.jsx(U_,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));pI.displayName=U_.displayName;const RF=Dp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),G_=b.forwardRef(({side:t="right",className:e,children:n,...r},i)=>m.jsxs(kF,{children:[m.jsx(pI,{}),m.jsxs(H_,{ref:i,className:Ae(RF({side:t}),e),...r,children:[n,m.jsxs(K_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[m.jsx(jp,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));G_.displayName=H_.displayName;const Z_=({className:t,...e})=>m.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});Z_.displayName="SheetHeader";const Y_=b.forwardRef(({className:t,...e},n)=>m.jsx(W_,{ref:n,className:Ae("text-lg font-semibold text-foreground",t),...e}));Y_.displayName=W_.displayName;const Q_=b.forwardRef(({className:t,...e},n)=>m.jsx(q_,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));Q_.displayName=q_.displayName;var mI="AlertDialog",[LF,yH]=ys(mI,[KP]),ws=KP(),gI=t=>{const{__scopeAlertDialog:e,...n}=t,r=ws(e);return m.jsx(uI,{...r,...n,modal:!0})};gI.displayName=mI;var MF="AlertDialogTrigger",vI=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ws(n);return m.jsx(cI,{...i,...r,ref:e})});vI.displayName=MF;var OF="AlertDialogPortal",yI=t=>{const{__scopeAlertDialog:e,...n}=t,r=ws(e);return m.jsx(dI,{...r,...n})};yI.displayName=OF;var DF="AlertDialogOverlay",_I=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ws(n);return m.jsx(U_,{...i,...r,ref:e})});_I.displayName=DF;var kl="AlertDialogContent",[jF,VF]=LF(kl),FF=jS("AlertDialogContent"),wI=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=ws(n),a=b.useRef(null),l=tt(e,a),c=b.useRef(null);return m.jsx(PF,{contentName:kl,titleName:xI,docsSlug:"alert-dialog",children:m.jsx(jF,{scope:n,cancelRef:c,children:m.jsxs(H_,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ce(i.onOpenAutoFocus,d=>{var p;d.preventDefault(),(p=c.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[m.jsx(FF,{children:r}),m.jsx(zF,{contentRef:a})]})})})});wI.displayName=kl;var xI="AlertDialogTitle",bI=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ws(n);return m.jsx(W_,{...i,...r,ref:e})});bI.displayName=xI;var EI="AlertDialogDescription",TI=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ws(n);return m.jsx(q_,{...i,...r,ref:e})});TI.displayName=EI;var BF="AlertDialogAction",SI=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ws(n);return m.jsx(K_,{...i,...r,ref:e})});SI.displayName=BF;var CI="AlertDialogCancel",PI=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=VF(CI,n),s=ws(n),a=tt(e,i);return m.jsx(K_,{...s,...r,ref:a})});PI.displayName=CI;var zF=({contentRef:t})=>{const e=`\`${kl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${kl}\` by passing a \`${EI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${kl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},$F=gI,UF=vI,HF=yI,II=_I,NI=wI,AI=SI,kI=PI,RI=bI,LI=TI;const WF=$F,qF=UF,KF=HF,MI=b.forwardRef(({className:t,...e},n)=>m.jsx(II,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));MI.displayName=II.displayName;const OI=b.forwardRef(({className:t,...e},n)=>m.jsxs(KF,{children:[m.jsx(MI,{}),m.jsx(NI,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));OI.displayName=NI.displayName;const DI=({className:t,...e})=>m.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});DI.displayName="AlertDialogHeader";const jI=({className:t,...e})=>m.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});jI.displayName="AlertDialogFooter";const VI=b.forwardRef(({className:t,...e},n)=>m.jsx(RI,{ref:n,className:Ae("text-lg font-semibold",t),...e}));VI.displayName=RI.displayName;const FI=b.forwardRef(({className:t,...e},n)=>m.jsx(LI,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));FI.displayName=LI.displayName;const BI=b.forwardRef(({className:t,...e},n)=>m.jsx(AI,{ref:n,className:Ae(sd(),t),...e}));BI.displayName=AI.displayName;const zI=b.forwardRef(({className:t,...e},n)=>m.jsx(kI,{ref:n,className:Ae(sd({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));zI.displayName=kI.displayName;class Rd{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const GF=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},an={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:GF()},X_=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},ZF=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=X_(t);an.publicKey=n.publicKey,an.blockHeadless=n.blockHeadless,an.storageProvider=n.storageProvider,an.blockList=n.blockList,an.limitRate=n.limitRate,an.origin=n.origin||e},$I=async(t,e,n={})=>{const r=await fetch(an.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Rd(r.status,i);if(r.ok)return s;throw s},UI=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},YF=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},HI=t=>t.webdriver||!t.languages||t.languages.length===0,WI=()=>new Rd(451,"Unavailable For Headless Browser"),QF=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},XF=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},JF=(t,e)=>t instanceof FormData?t.get(e):t[e],qI=(t,e)=>{if(XF(t))return!1;QF(t.list,t.watchVariable);const n=JF(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},KI=()=>new Rd(403,"Forbidden"),e5=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},t5=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},GI=async(t,e,n)=>{if(!e.throttle||!n)return!1;e5(e.throttle,e.id);const r=e.id||t;return await t5(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},ZI=()=>new Rd(429,"Too Many Requests"),n5=async(t,e,n,r)=>{const i=X_(r),s=i.publicKey||an.publicKey,a=i.blockHeadless||an.blockHeadless,l=i.storageProvider||an.storageProvider,c={...an.blockList,...i.blockList},d={...an.limitRate,...i.limitRate};return a&&HI(navigator)?Promise.reject(WI()):(UI(s,t,e),YF(n),n&&qI(c,n)?Promise.reject(KI()):await GI(location.pathname,d,l)?Promise.reject(ZI()):$I("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},r5=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},i5=t=>typeof t=="string"?document.querySelector(t):t,s5=async(t,e,n,r)=>{const i=X_(r),s=i.publicKey||an.publicKey,a=i.blockHeadless||an.blockHeadless,l=an.storageProvider||i.storageProvider,c={...an.blockList,...i.blockList},d={...an.limitRate,...i.limitRate};if(a&&HI(navigator))return Promise.reject(WI());const p=i5(n);UI(s,t,e),r5(p);const g=new FormData(p);return qI(c,g)?Promise.reject(KI()):await GI(location.pathname,d,l)?Promise.reject(ZI()):(g.append("lib_version","4.4.1"),g.append("service_id",t),g.append("template_id",e),g.append("user_id",s),$I("/api/v1.0/email/send-form",g))},o5={init:ZF,send:n5,sendForm:s5,EmailJSResponseStatus:Rd},a5=t=>{if(!("Notification"in window))return console.log("Browser does not support notifications"),!1;if(Notification.permission==="granted"){const e=new Notification(t.title,{body:t.body,icon:t.icon||"/favicon.ico",tag:t.tag,requireInteraction:!0});return e.onclick=()=>{window.focus(),e.close()},!0}else Notification.permission==="default"&&Notification.requestPermission().then(e=>{if(e==="granted"){const n=new Notification(t.title,{body:t.body,icon:t.icon||"/favicon.ico",tag:t.tag,requireInteraction:!0});n.onclick=()=>{window.focus(),n.close()}}});return!1},l5=async(t,e)=>{const n="service_k9w1vq5",r="template_r9g0kxl",i="VyWWfwtzPPiYSaxTd",s=t.filter(c=>c.email).map(async c=>{try{const d={to_name:c.name,to_email:c.email,from_name:"Comunidad Segura",from_email:"comunidadsegura25@gmail.com",subject:"🚨 EMERGENCY ALERT - Immediate Assistance Needed",message:`EMERGENCY ALERT

Your emergency contact has activated an emergency alert and may need immediate assistance.

Contact Details:
- Name: ${c.name}
- Phone: ${c.phone}
- Time: ${new Date().toLocaleString()}
${e?`- Location: ${e}`:""}

Please contact them immediately or call emergency services if needed.

This is an automated emergency notification from Comunidad Segura.`};return await o5.send(n,r,d,i),console.log(`Emergency email sent successfully to ${c.name} (${c.email})`),!0}catch(d){return console.error(`Failed to send email to ${c.name}:`,d),!1}});return(await Promise.allSettled(s)).filter(c=>c.status==="fulfilled"&&c.value).length},YI=async t=>{const e=t.filter(i=>i.phone.trim()),n=e.map(i=>`${i.name}: ${i.phone}`).join(", ");a5({title:"🚨 Emergency Alert Sent",body:`Alert sent to ${t.length} contacts. Call immediately: ${n}. Emails also sent to available addresses.`,tag:"emergency-sent"});const r=await l5(t);return console.log("Emergency contacts to notify:",t),console.log(`Successfully sent ${r} emergency emails`),{totalContacts:t.length,emailsSent:r,phoneContacts:e}},u5=({contacts:t,isVisible:e,onClose:n})=>{const[r,i]=b.useState(0);if(b.useEffect(()=>{if(!e)return;const c=setInterval(()=>{i(d=>d+1)},1e3);return()=>clearInterval(c)},[e]),!e)return null;const s=c=>{const d=Math.floor(c/60),p=c%60;return`${d}:${p.toString().padStart(2,"0")}`},a=c=>{window.location.href=`tel:${c}`},l=c=>{window.location.href=`mailto:${c}`};return m.jsx("div",{className:"fixed inset-0 bg-red-900/95 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[80vh] overflow-y-auto",children:[m.jsxs("div",{className:"bg-red-500 text-white p-4 rounded-t-lg flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold",children:"🚨 Emergency Active"}),m.jsxs("p",{className:"text-sm opacity-90",children:["Time elapsed: ",s(r)]})]}),m.jsx(Fe,{onClick:n,variant:"ghost",size:"icon",className:"text-white hover:bg-red-600",children:m.jsx(jp,{className:"h-4 w-4"})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("p",{className:"text-gray-700 mb-4 text-sm",children:"Emergency alert sent! Contact your emergency contacts immediately:"}),m.jsx("div",{className:"space-y-3",children:t.map((c,d)=>m.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:c.name}),c.relationship&&m.jsx("p",{className:"text-xs text-gray-500",children:c.relationship})]})}),m.jsxs("div",{className:"flex gap-2",children:[c.phone&&m.jsxs(Fe,{onClick:()=>a(c.phone),className:"flex-1 bg-green-500 hover:bg-green-600",size:"sm",children:[m.jsx(is,{className:"h-4 w-4 mr-1"}),"Call ",c.phone]}),c.email&&m.jsx(Fe,{onClick:()=>l(c.email),variant:"outline",size:"sm",children:m.jsx(mO,{className:"h-4 w-4"})})]})]},d))}),m.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:m.jsxs("p",{className:"text-xs text-blue-700",children:["💡 ",m.jsx("strong",{children:"Tip:"})," Tap phone numbers to call directly. Emails have been sent automatically to contacts with email addresses."]})})]})]})})},$v=()=>{const{t}=_s(),[e,n]=b.useState(!1),[r,i]=b.useState(!1),[s,a]=b.useState([]),l=D_(),{toast:c}=Lp(),d=async()=>{const p=JSON.parse(localStorage.getItem("emergencyContacts")||"[]");if(!p.length){c({title:"⚠️ No Emergency Contacts Set Up",description:"You need to set up emergency contacts first. Redirecting you to Settings...",variant:"destructive"}),n(!1),setTimeout(()=>{c({title:"📋 Set Up Emergency Contacts",description:"Go to Settings to add emergency contacts with names, phone numbers, and email addresses for alerts."}),l("/settings")},1e3);return}const g=p.filter(y=>y.name&&(y.phone||y.email));if(g.length===0){c({title:"⚠️ Incomplete Emergency Contacts",description:"Your emergency contacts are missing required information. Please update them in Settings.",variant:"destructive"}),l("/settings");return}try{const y=await YI(g),_=g.filter(x=>x.email).length,S=y.phoneContacts.length;c({title:"🚨 Emergency Alert Activated!",description:`Alert sent to ${g.length} contacts. ${y.emailsSent}/${_} emails sent. ${S} phone contacts ready to call.`}),a(g),i(!0),n(!1)}catch(y){console.error("Emergency alert failed:",y),c({title:"❌ Emergency Alert Failed",description:"There was an issue sending your emergency alert. Please try again or call 911 directly.",variant:"destructive"})}};return m.jsxs(m.Fragment,{children:[m.jsx(u5,{contacts:s,isVisible:r,onClose:()=>i(!1)}),m.jsx("div",{className:"fixed bottom-3 left-3 z-50",children:m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(Fe,{onClick:()=>l("/settings"),className:"bg-gray-600 hover:bg-gray-700 text-white p-2 rounded-full shadow-lg",size:"icon",children:m.jsx(vO,{className:"h-4 w-4"})}),m.jsxs(WF,{open:e,onOpenChange:n,children:[m.jsx(qF,{asChild:!0,children:m.jsxs(Fe,{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-1 text-sm font-semibold",children:[m.jsx(is,{className:"h-4 w-4"}),"SOS"]})}),m.jsxs(OI,{className:"max-w-md mx-4",children:[m.jsxs(DI,{children:[m.jsx(VI,{className:"text-center text-lg text-red-600",children:"🚨 Emergency Alert"}),m.jsxs(FI,{className:"text-center",children:["Are you sure you want to send an emergency alert? This will:",m.jsx("br",{}),m.jsx("br",{}),"• Show emergency contact phone numbers for immediate calling",m.jsx("br",{}),"• Send email alerts to contacts with email addresses",m.jsx("br",{}),"• Display a contact screen to help you reach help quickly",m.jsx("br",{}),m.jsx("br",{}),m.jsx("strong",{children:"Make sure you have set up your emergency contacts in Settings first."}),m.jsx("br",{}),m.jsx("br",{}),"This action cannot be undone."]})]}),m.jsxs(jI,{className:"flex flex-col gap-2 sm:flex-row",children:[m.jsx(zI,{className:"w-full sm:w-auto",children:"Cancel"}),m.jsx(BI,{onClick:d,className:"w-full sm:w-auto bg-red-500 hover:bg-red-600",children:"Yes, Send Alert"})]})]})]})]})})]})},c5=()=>{};var Wb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},d5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},XI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,_=d&63;c||(_=64,a||(y=64)),r.push(n[p],n[g],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||g==null)throw new h5;const y=s<<2|l>>4;if(r.push(y),d!==64){const _=l<<4&240|d>>2;if(r.push(_),g!==64){const S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f5=function(t){const e=QI(t);return XI.encodeByteArray(e,!0)},Qf=function(t){return f5(t).replace(/\./g,"")},p5=function(t){try{return XI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=()=>m5().__FIREBASE_DEFAULTS__,v5=()=>{if(typeof process>"u"||typeof Wb>"u")return;const t=Wb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p5(t[1]);return e&&JSON.parse(e)},J_=()=>{try{return c5()||g5()||v5()||y5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_5=t=>{var e,n;return(n=(e=J_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w5=t=>{const e=_5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JI=()=>{var t;return(t=J_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){return t.endsWith(".cloudworkstations.dev")}async function b5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qf(JSON.stringify(n)),Qf(JSON.stringify(a)),""].join(".")}const Nc={};function T5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nc))Nc[e]?t.emulator.push(e):t.prod.push(e);return t}function S5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qb=!1;function C5(t,e){if(typeof window>"u"||typeof document>"u"||!ew(window.location.host)||Nc[t]===e||Nc[t]||qb)return;Nc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=T5().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{qb=!0,a()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=S5(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),N=n("preprendIcon"),T=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;l(I),p(C,x);const O=d();c(T,N),I.append(T,S,C,O),document.body.appendChild(I)}s?(S.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I5(){var t;const e=(t=J_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N5(){return!I5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A5(){try{return typeof indexedDB=="object"}catch{return!1}}function k5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="FirebaseError";class gu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R5,Object.setPrototypeOf(this,gu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eN.prototype.create)}}class eN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?L5(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new gu(i,l,r)}}function L5(t,e){return t.replace(M5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const M5=/\{\$([^}]+)}/g;function Xf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Kb(s)&&Kb(a)){if(!Xf(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return t&&t._delegate?t._delegate:t}class od{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j5(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D5(t){return t===$o?void 0:t}function j5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const F5={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},B5=Ye.INFO,z5={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},$5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tN{constructor(e){this.name=e,this._logLevel=B5,this._logHandler=$5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const U5=(t,e)=>e.some(n=>t instanceof n);let Gb,Zb;function H5(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W5(){return Zb||(Zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nN=new WeakMap,Uv=new WeakMap,rN=new WeakMap,fg=new WeakMap,tw=new WeakMap;function q5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(so(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&nN.set(n,t)}).catch(()=>{}),tw.set(e,t),e}function K5(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Uv.set(t,e)}let Hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G5(t){Hv=t(Hv)}function Z5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pg(this),e,...n);return rN.set(r,e.sort?e.sort():[e]),so(r)}:W5().includes(t)?function(...e){return t.apply(pg(this),e),so(nN.get(this))}:function(...e){return so(t.apply(pg(this),e))}}function Y5(t){return typeof t=="function"?Z5(t):(t instanceof IDBTransaction&&K5(t),U5(t,H5())?new Proxy(t,Hv):t)}function so(t){if(t instanceof IDBRequest)return q5(t);if(fg.has(t))return fg.get(t);const e=Y5(t);return e!==t&&(fg.set(t,e),tw.set(e,t)),e}const pg=t=>tw.get(t);function Q5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=so(a);return r&&a.addEventListener("upgradeneeded",c=>{r(so(a.result),c.oldVersion,c.newVersion,so(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const X5=["get","getKey","getAll","getAllKeys","count"],J5=["put","add","delete","clear"],mg=new Map;function Yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X5.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return mg.set(e,s),s}G5(t=>({...t,get:(e,n,r)=>Yb(e,n)||t.get(e,n,r),has:(e,n)=>!!Yb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",Qb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new tN("@firebase/app"),n6="@firebase/app-compat",r6="@firebase/analytics-compat",i6="@firebase/analytics",s6="@firebase/app-check-compat",o6="@firebase/app-check",a6="@firebase/auth",l6="@firebase/auth-compat",u6="@firebase/database",c6="@firebase/data-connect",d6="@firebase/database-compat",h6="@firebase/functions",f6="@firebase/functions-compat",p6="@firebase/installations",m6="@firebase/installations-compat",g6="@firebase/messaging",v6="@firebase/messaging-compat",y6="@firebase/performance",_6="@firebase/performance-compat",w6="@firebase/remote-config",x6="@firebase/remote-config-compat",b6="@firebase/storage",E6="@firebase/storage-compat",T6="@firebase/firestore",S6="@firebase/ai",C6="@firebase/firestore-compat",P6="firebase",I6="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="[DEFAULT]",N6={[Wv]:"fire-core",[n6]:"fire-core-compat",[i6]:"fire-analytics",[r6]:"fire-analytics-compat",[o6]:"fire-app-check",[s6]:"fire-app-check-compat",[a6]:"fire-auth",[l6]:"fire-auth-compat",[u6]:"fire-rtdb",[c6]:"fire-data-connect",[d6]:"fire-rtdb-compat",[h6]:"fire-fn",[f6]:"fire-fn-compat",[p6]:"fire-iid",[m6]:"fire-iid-compat",[g6]:"fire-fcm",[v6]:"fire-fcm-compat",[y6]:"fire-perf",[_6]:"fire-perf-compat",[w6]:"fire-rc",[x6]:"fire-rc-compat",[b6]:"fire-gcs",[E6]:"fire-gcs-compat",[T6]:"fire-fst",[C6]:"fire-fst-compat",[S6]:"fire-vertex","fire-js":"fire-js",[P6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,A6=new Map,Kv=new Map;function Xb(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ep(t){const e=t.name;if(Kv.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,t);for(const n of Jf.values())Xb(n,t);for(const n of A6.values())Xb(n,t);return!0}function k6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function R6(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new eN("app","Firebase",L6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new od("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=I6;function iN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=JI()),!n)throw oo.create("no-options");const s=Jf.get(i);if(s){if(Xf(n,s.options)&&Xf(r,s.config))return s;throw oo.create("duplicate-app",{appName:i})}const a=new V5(i);for(const c of Kv.values())a.addComponent(c);const l=new M6(n,r,a);return Jf.set(i,l),l}function D6(t=qv){const e=Jf.get(t);if(!e&&t===qv&&JI())return iN();if(!e)throw oo.create("no-app",{appName:t});return e}function Rl(t,e,n){var r;let i=(r=N6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}ep(new od(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebase-heartbeat-database",V6=1,ad="firebase-heartbeat-store";let gg=null;function sN(){return gg||(gg=Q5(j6,V6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ad)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),gg}async function F6(t){try{const n=(await sN()).transaction(ad),r=await n.objectStore(ad).get(oN(t));return await n.done,r}catch(e){if(e instanceof gu)ps.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function Jb(t,e){try{const r=(await sN()).transaction(ad,"readwrite");await r.objectStore(ad).put(e,oN(t)),await r.done}catch(n){if(n instanceof gu)ps.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function oN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=1024,z6=30;class $6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=e1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>z6){const a=W6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e1(),{heartbeatsToSend:r,unsentEntries:i}=U6(this._heartbeatsCache.heartbeats),s=Qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ps.warn(n),""}}}function e1(){return new Date().toISOString().substring(0,10)}function U6(t,e=B6){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),t1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),t1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A5()?k5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function t1(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}function W6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){ep(new od("platform-logger",e=>new e6(e),"PRIVATE")),ep(new od("heartbeat",e=>new $6(e),"PRIVATE")),Rl(Wv,Qb,t),Rl(Wv,Qb,"esm2017"),Rl("fire-js","")}q6("");var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,aN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function D(){}D.prototype=A.prototype,R.D=A.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(j,F,B){for(var V=Array(arguments.length-2),X=2;X<arguments.length;X++)V[X-2]=arguments[X];return A.prototype[F].apply(j,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,D){D||(D=0);var j=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)j[F]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(F=0;16>F;++F)j[F]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=R.g[0],D=R.g[1],F=R.g[2];var B=R.g[3],V=A+(B^D&(F^B))+j[0]+3614090360&4294967295;A=D+(V<<7&4294967295|V>>>25),V=B+(F^A&(D^F))+j[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=F+(D^B&(A^D))+j[2]+606105819&4294967295,F=B+(V<<17&4294967295|V>>>15),V=D+(A^F&(B^A))+j[3]+3250441966&4294967295,D=F+(V<<22&4294967295|V>>>10),V=A+(B^D&(F^B))+j[4]+4118548399&4294967295,A=D+(V<<7&4294967295|V>>>25),V=B+(F^A&(D^F))+j[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=F+(D^B&(A^D))+j[6]+2821735955&4294967295,F=B+(V<<17&4294967295|V>>>15),V=D+(A^F&(B^A))+j[7]+4249261313&4294967295,D=F+(V<<22&4294967295|V>>>10),V=A+(B^D&(F^B))+j[8]+1770035416&4294967295,A=D+(V<<7&4294967295|V>>>25),V=B+(F^A&(D^F))+j[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=F+(D^B&(A^D))+j[10]+4294925233&4294967295,F=B+(V<<17&4294967295|V>>>15),V=D+(A^F&(B^A))+j[11]+2304563134&4294967295,D=F+(V<<22&4294967295|V>>>10),V=A+(B^D&(F^B))+j[12]+1804603682&4294967295,A=D+(V<<7&4294967295|V>>>25),V=B+(F^A&(D^F))+j[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=F+(D^B&(A^D))+j[14]+2792965006&4294967295,F=B+(V<<17&4294967295|V>>>15),V=D+(A^F&(B^A))+j[15]+1236535329&4294967295,D=F+(V<<22&4294967295|V>>>10),V=A+(F^B&(D^F))+j[1]+4129170786&4294967295,A=D+(V<<5&4294967295|V>>>27),V=B+(D^F&(A^D))+j[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=F+(A^D&(B^A))+j[11]+643717713&4294967295,F=B+(V<<14&4294967295|V>>>18),V=D+(B^A&(F^B))+j[0]+3921069994&4294967295,D=F+(V<<20&4294967295|V>>>12),V=A+(F^B&(D^F))+j[5]+3593408605&4294967295,A=D+(V<<5&4294967295|V>>>27),V=B+(D^F&(A^D))+j[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=F+(A^D&(B^A))+j[15]+3634488961&4294967295,F=B+(V<<14&4294967295|V>>>18),V=D+(B^A&(F^B))+j[4]+3889429448&4294967295,D=F+(V<<20&4294967295|V>>>12),V=A+(F^B&(D^F))+j[9]+568446438&4294967295,A=D+(V<<5&4294967295|V>>>27),V=B+(D^F&(A^D))+j[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=F+(A^D&(B^A))+j[3]+4107603335&4294967295,F=B+(V<<14&4294967295|V>>>18),V=D+(B^A&(F^B))+j[8]+1163531501&4294967295,D=F+(V<<20&4294967295|V>>>12),V=A+(F^B&(D^F))+j[13]+2850285829&4294967295,A=D+(V<<5&4294967295|V>>>27),V=B+(D^F&(A^D))+j[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=F+(A^D&(B^A))+j[7]+1735328473&4294967295,F=B+(V<<14&4294967295|V>>>18),V=D+(B^A&(F^B))+j[12]+2368359562&4294967295,D=F+(V<<20&4294967295|V>>>12),V=A+(D^F^B)+j[5]+4294588738&4294967295,A=D+(V<<4&4294967295|V>>>28),V=B+(A^D^F)+j[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=F+(B^A^D)+j[11]+1839030562&4294967295,F=B+(V<<16&4294967295|V>>>16),V=D+(F^B^A)+j[14]+4259657740&4294967295,D=F+(V<<23&4294967295|V>>>9),V=A+(D^F^B)+j[1]+2763975236&4294967295,A=D+(V<<4&4294967295|V>>>28),V=B+(A^D^F)+j[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=F+(B^A^D)+j[7]+4139469664&4294967295,F=B+(V<<16&4294967295|V>>>16),V=D+(F^B^A)+j[10]+3200236656&4294967295,D=F+(V<<23&4294967295|V>>>9),V=A+(D^F^B)+j[13]+681279174&4294967295,A=D+(V<<4&4294967295|V>>>28),V=B+(A^D^F)+j[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=F+(B^A^D)+j[3]+3572445317&4294967295,F=B+(V<<16&4294967295|V>>>16),V=D+(F^B^A)+j[6]+76029189&4294967295,D=F+(V<<23&4294967295|V>>>9),V=A+(D^F^B)+j[9]+3654602809&4294967295,A=D+(V<<4&4294967295|V>>>28),V=B+(A^D^F)+j[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=F+(B^A^D)+j[15]+530742520&4294967295,F=B+(V<<16&4294967295|V>>>16),V=D+(F^B^A)+j[2]+3299628645&4294967295,D=F+(V<<23&4294967295|V>>>9),V=A+(F^(D|~B))+j[0]+4096336452&4294967295,A=D+(V<<6&4294967295|V>>>26),V=B+(D^(A|~F))+j[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=F+(A^(B|~D))+j[14]+2878612391&4294967295,F=B+(V<<15&4294967295|V>>>17),V=D+(B^(F|~A))+j[5]+4237533241&4294967295,D=F+(V<<21&4294967295|V>>>11),V=A+(F^(D|~B))+j[12]+1700485571&4294967295,A=D+(V<<6&4294967295|V>>>26),V=B+(D^(A|~F))+j[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=F+(A^(B|~D))+j[10]+4293915773&4294967295,F=B+(V<<15&4294967295|V>>>17),V=D+(B^(F|~A))+j[1]+2240044497&4294967295,D=F+(V<<21&4294967295|V>>>11),V=A+(F^(D|~B))+j[8]+1873313359&4294967295,A=D+(V<<6&4294967295|V>>>26),V=B+(D^(A|~F))+j[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=F+(A^(B|~D))+j[6]+2734768916&4294967295,F=B+(V<<15&4294967295|V>>>17),V=D+(B^(F|~A))+j[13]+1309151649&4294967295,D=F+(V<<21&4294967295|V>>>11),V=A+(F^(D|~B))+j[4]+4149444226&4294967295,A=D+(V<<6&4294967295|V>>>26),V=B+(D^(A|~F))+j[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=F+(A^(B|~D))+j[2]+718787259&4294967295,F=B+(V<<15&4294967295|V>>>17),V=D+(B^(F|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var D=A-this.blockSize,j=this.B,F=this.h,B=0;B<A;){if(F==0)for(;B<=D;)i(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<A;)if(j[F++]=R.charCodeAt(B++),F==this.blockSize){i(this,j),F=0;break}}else for(;B<A;)if(j[F++]=R[B++],F==this.blockSize){i(this,j),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var D=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=D&255,D/=256;for(this.u(R),R=Array(16),A=D=0;4>A;++A)for(var j=0;32>j;j+=8)R[D++]=this.g[A]>>>j&255;return R};function s(R,A){var D=l;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=A(R)}function a(R,A){this.h=A;for(var D=[],j=!0,F=R.length-1;0<=F;F--){var B=R[F]|0;j&&B==A||(D[F]=B,j=!1)}this.g=D}var l={};function c(R){return-128<=R&&128>R?s(R,function(A){return new a([A|0],0>A?-1:0)}):new a([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return C(d(-R));for(var A=[],D=1,j=0;R>=D;j++)A[j]=R/D|0,D*=4294967296;return new a(A,0)}function p(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return C(p(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(A,8)),j=g,F=0;F<R.length;F+=8){var B=Math.min(8,R.length-F),V=parseInt(R.substring(F,F+B),A);8>B?(B=d(Math.pow(A,B)),j=j.j(B).add(d(V))):(j=j.j(D),j=j.add(d(V)))}return j}var g=c(0),y=c(1),_=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-C(this).m();for(var R=0,A=1,D=0;D<this.g.length;D++){var j=this.i(D);R+=(0<=j?j:4294967296+j)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(x(this))return"-"+C(this).toString(R);for(var A=d(Math.pow(R,6)),D=this,j="";;){var F=O(D,A).g;D=N(D,F.j(A));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=F,S(D))return B+j;for(;6>B.length;)B="0"+B;j=B+j}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function x(R){return R.h==-1}t.l=function(R){return R=N(this,R),x(R)?-1:S(R)?0:1};function C(R){for(var A=R.g.length,D=[],j=0;j<A;j++)D[j]=~R.g[j];return new a(D,~R.h).add(y)}t.abs=function(){return x(this)?C(this):this},t.add=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],j=0,F=0;F<=A;F++){var B=j+(this.i(F)&65535)+(R.i(F)&65535),V=(B>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);j=V>>>16,B&=65535,V&=65535,D[F]=V<<16|B}return new a(D,D[D.length-1]&-2147483648?-1:0)};function N(R,A){return R.add(C(A))}t.j=function(R){if(S(this)||S(R))return g;if(x(this))return x(R)?C(this).j(C(R)):C(C(this).j(R));if(x(R))return C(this.j(C(R)));if(0>this.l(_)&&0>R.l(_))return d(this.m()*R.m());for(var A=this.g.length+R.g.length,D=[],j=0;j<2*A;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<R.g.length;F++){var B=this.i(j)>>>16,V=this.i(j)&65535,X=R.i(F)>>>16,ve=R.i(F)&65535;D[2*j+2*F]+=V*ve,T(D,2*j+2*F),D[2*j+2*F+1]+=B*ve,T(D,2*j+2*F+1),D[2*j+2*F+1]+=V*X,T(D,2*j+2*F+1),D[2*j+2*F+2]+=B*X,T(D,2*j+2*F+2)}for(j=0;j<A;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=A;j<2*A;j++)D[j]=0;return new a(D,0)};function T(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function I(R,A){this.g=R,this.h=A}function O(R,A){if(S(A))throw Error("division by zero");if(S(R))return new I(g,g);if(x(R))return A=O(C(R),A),new I(C(A.g),C(A.h));if(x(A))return A=O(R,C(A)),new I(C(A.g),A.h);if(30<R.g.length){if(x(R)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var D=y,j=A;0>=j.l(R);)D=z(D),j=z(j);var F=H(D,1),B=H(j,1);for(j=H(j,2),D=H(D,2);!S(j);){var V=B.add(j);0>=V.l(R)&&(F=F.add(D),B=V),j=H(j,1),D=H(D,1)}return A=N(R,F.j(A)),new I(F,A)}for(F=g;0<=R.l(A);){for(D=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),B=d(D),V=B.j(A);x(V)||0<V.l(R);)D-=j,B=d(D),V=B.j(A);S(B)&&(B=y),F=F.add(B),R=N(R,V)}return new I(F,R)}t.A=function(R){return O(this,R).h},t.and=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],j=0;j<A;j++)D[j]=this.i(j)&R.i(j);return new a(D,this.h&R.h)},t.or=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],j=0;j<A;j++)D[j]=this.i(j)|R.i(j);return new a(D,this.h|R.h)},t.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],j=0;j<A;j++)D[j]=this.i(j)^R.i(j);return new a(D,this.h^R.h)};function z(R){for(var A=R.g.length+1,D=[],j=0;j<A;j++)D[j]=R.i(j)<<1|R.i(j-1)>>>31;return new a(D,R.h)}function H(R,A){var D=A>>5;A%=32;for(var j=R.g.length-D,F=[],B=0;B<j;B++)F[B]=0<A?R.i(B+D)>>>A|R.i(B+D+1)<<32-A:R.i(B+D);return new a(F,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,ao=a}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lN,fc,uN,df,Gv,cN,dN,hN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,P){return h==Array.prototype||h==Object.prototype||(h[w]=P.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var w=0;w<h.length;++w){var P=h[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var P=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var W=h[M];if(!(W in P))break e;P=P[W]}h=h[h.length-1],M=P[h],w=w(M),w!=M&&w!=null&&e(P,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var P=0,M=!1,W={next:function(){if(!M&&P<h.length){var G=P++;return{value:w(G,h[G]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function d(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function p(h,w,P){return h.call.apply(h.bind,arguments)}function g(h,w,P){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),h.apply(w,W)}}return function(){return h.apply(w,arguments)}}function y(h,w,P){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function _(h,w){var P=Array.prototype.slice.call(arguments,1);return function(){var M=P.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function S(h,w){function P(){}P.prototype=w.prototype,h.aa=w.prototype,h.prototype=new P,h.prototype.constructor=h,h.Qb=function(M,W,G){for(var ue=Array(arguments.length-2),it=2;it<arguments.length;it++)ue[it-2]=arguments[it];return w.prototype[W].apply(M,ue)}}function x(h){const w=h.length;if(0<w){const P=Array(w);for(let M=0;M<w;M++)P[M]=h[M];return P}return[]}function C(h,w){for(let P=1;P<arguments.length;P++){const M=arguments[P];if(c(M)){const W=h.length||0,G=M.length||0;h.length=W+G;for(let ue=0;ue<G;ue++)h[W+ue]=M[ue]}else h.push(M)}}class N{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(h){return/^[\s\xa0]*$/.test(h)}function I(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function O(h){return O[" "](h),h}O[" "]=function(){};var z=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function H(h,w,P){for(const M in h)w.call(P,h[M],M,h)}function R(h,w){for(const P in h)w.call(void 0,h[P],P,h)}function A(h){const w={};for(const P in h)w[P]=h[P];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(h,w){let P,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(P in M)h[P]=M[P];for(let G=0;G<D.length;G++)P=D[G],Object.prototype.hasOwnProperty.call(M,P)&&(h[P]=M[P])}}function F(h){var w=1;h=h.split(":");const P=[];for(;0<w&&h.length;)P.push(h.shift()),w--;return h.length&&P.push(h.join(":")),P}function B(h){l.setTimeout(()=>{throw h},0)}function V(){var h=Z;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class X{constructor(){this.h=this.g=null}add(w,P){const M=ve.get();M.set(w,P),this.h?this.h.next=M:this.g=M,this.h=M}}var ve=new N(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,$=!1,Z=new X,Y=()=>{const h=l.Promise.resolve(void 0);Q=()=>{h.then(ie)}};var ie=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(P){B(P)}var w=ve;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}$=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};l.addEventListener("test",P,w),l.removeEventListener("test",P,w)}catch{}return h}();function ge(h,w){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var P=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(z){e:{try{O(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else P=="mouseover"?w=h.fromElement:P=="mouseout"&&(w=h.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ye[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ge.aa.h.call(this)}}S(ge,ce);var ye={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),je=0;function ut(h,w,P,M,W){this.listener=h,this.proxy=null,this.src=w,this.type=P,this.capture=!!M,this.ha=W,this.key=++je,this.da=this.fa=!1}function Ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h){this.src=h,this.g={},this.h=0}Re.prototype.add=function(h,w,P,M,W){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var ue=_t(h,w,M,W);return-1<ue?(w=h[ue],P||(w.fa=!1)):(w=new ut(w,this.src,G,!!M,W),w.fa=P,h.push(w)),w};function Oe(h,w){var P=w.type;if(P in h.g){var M=h.g[P],W=Array.prototype.indexOf.call(M,w,void 0),G;(G=0<=W)&&Array.prototype.splice.call(M,W,1),G&&(Ve(w),h.g[P].length==0&&(delete h.g[P],h.h--))}}function _t(h,w,P,M){for(var W=0;W<h.length;++W){var G=h[W];if(!G.da&&G.listener==w&&G.capture==!!P&&G.ha==M)return W}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),Ln={};function Mn(h,w,P,M,W){if(Array.isArray(w)){for(var G=0;G<w.length;G++)Mn(h,w[G],P,M,W);return null}return P=Aa(P),h&&h[ae]?h.K(w,P,d(M)?!!M.capture:!1,W):Gn(h,w,P,!1,M,W)}function Gn(h,w,P,M,W,G){if(!w)throw Error("Invalid event type");var ue=d(W)?!!W.capture:!!W,it=On(h);if(it||(h[Yt]=it=new Re(h)),P=it.add(w,P,M,ue,G),P.proxy)return P;if(M=ur(),P.proxy=M,M.src=h,M.listener=P,h.addEventListener)he||(W=ue),W===void 0&&(W=!1),h.addEventListener(w.toString(),M,W);else if(h.attachEvent)h.attachEvent(cr(w.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ur(){function h(P){return w.call(h.src,h.listener,P)}const w=Io;return h}function Ir(h,w,P,M,W){if(Array.isArray(w))for(var G=0;G<w.length;G++)Ir(h,w[G],P,M,W);else M=d(M)?!!M.capture:!!M,P=Aa(P),h&&h[ae]?(h=h.i,w=String(w).toString(),w in h.g&&(G=h.g[w],P=_t(G,P,M,W),-1<P&&(Ve(G[P]),Array.prototype.splice.call(G,P,1),G.length==0&&(delete h.g[w],h.h--)))):h&&(h=On(h))&&(w=h.g[w.toString()],h=-1,w&&(h=_t(w,P,M,W)),(P=-1<h?w[h]:null)&&Mi(P))}function Mi(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ae])Oe(w.i,h);else{var P=h.type,M=h.proxy;w.removeEventListener?w.removeEventListener(P,M,h.capture):w.detachEvent?w.detachEvent(cr(P),M):w.addListener&&w.removeListener&&w.removeListener(M),(P=On(w))?(Oe(P,h),P.h==0&&(P.src=null,w[Yt]=null)):Ve(h)}}}function cr(h){return h in Ln?Ln[h]:Ln[h]="on"+h}function Io(h,w){if(h.da)h=!0;else{w=new ge(w,this);var P=h.listener,M=h.ha||h.src;h.fa&&Mi(h),h=P.call(M,w)}return h}function On(h){return h=h[Yt],h instanceof Re?h:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(h){return typeof h=="function"?h:(h[No]||(h[No]=function(w){return h.handleEvent(w)}),h[No])}function Qe(){oe.call(this),this.i=new Re(this),this.M=this,this.F=null}S(Qe,oe),Qe.prototype[ae]=!0,Qe.prototype.removeEventListener=function(h,w,P,M){Ir(this,h,w,P,M)};function pt(h,w){var P,M=h.F;if(M)for(P=[];M;M=M.F)P.push(M);if(h=h.M,M=w.type||w,typeof w=="string")w=new ce(w,h);else if(w instanceof ce)w.target=w.target||h;else{var W=w;w=new ce(M,h),j(w,W)}if(W=!0,P)for(var G=P.length-1;0<=G;G--){var ue=w.g=P[G];W=Oi(ue,M,!0,w)&&W}if(ue=w.g=h,W=Oi(ue,M,!0,w)&&W,W=Oi(ue,M,!1,w)&&W,P)for(G=0;G<P.length;G++)ue=w.g=P[G],W=Oi(ue,M,!1,w)&&W}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var P=h.g[w],M=0;M<P.length;M++)Ve(P[M]);delete h.g[w],h.h--}}this.F=null},Qe.prototype.K=function(h,w,P,M){return this.i.add(String(h),w,!1,P,M)},Qe.prototype.L=function(h,w,P,M){return this.i.add(String(h),w,!0,P,M)};function Oi(h,w,P,M){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,G=0;G<w.length;++G){var ue=w[G];if(ue&&!ue.da&&ue.capture==P){var it=ue.listener,jt=ue.ha||ue.src;ue.fa&&Oe(h.i,ue),W=it.call(jt,M)!==!1&&W}}return W&&!M.defaultPrevented}function ka(h,w,P){if(typeof h=="function")P&&(h=y(h,P));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(h,w||0)}function ni(h){h.g=ka(()=>{h.g=null,h.i&&(h.i=!1,ni(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ra extends oe{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(h){oe.call(this),this.h=h,this.g={}}S(ri,oe);var Di=[];function Zn(h){H(h.g,function(w,P){this.g.hasOwnProperty(P)&&Mi(w)},h),h.g={}}ri.prototype.N=function(){ri.aa.N.call(this),Zn(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=l.JSON.stringify,ii=l.JSON.parse,Vi=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Ao(){}Ao.prototype.h=null;function ko(h){return h.h||(h.h=h.i())}function bs(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){ce.call(this,"d")}S(oi,ce);function Dn(){ce.call(this,"c")}S(Dn,ce);var Nr={},Te=null;function Ke(){return Te=Te||new Qe}Nr.La="serverreachability";function rt(h){ce.call(this,Nr.La,h)}S(rt,ce);function Ht(h){const w=Ke();pt(w,new rt(w))}Nr.STAT_EVENT="statevent";function Qt(h,w){ce.call(this,Nr.STAT_EVENT,h),this.stat=w}S(Qt,ce);function dt(h){const w=Ke();pt(w,new Qt(w,h))}Nr.Ma="timingevent";function dr(h,w){ce.call(this,Nr.Ma,h),this.size=w}S(dr,ce);function Wt(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},w)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function hr(h,w,P,M,W,G){h.info(function(){if(h.g)if(G)for(var ue="",it=G.split("&"),jt=0;jt<it.length;jt++){var Ge=it[jt].split("=");if(1<Ge.length){var lt=Ge[0];Ge=Ge[1];var Tt=lt.split("_");ue=2<=Tt.length&&Tt[1]=="type"?ue+(lt+"="+Ge+"&"):ue+(lt+"=redacted&")}}else ue=null;else ue=G;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+w+`
`+P+`
`+ue})}function _e(h,w,P,M,W,G,ue){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+w+`
`+P+`
`+G+" "+ue})}function Fi(h,w,P,M){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ud(h,P)+(M?" "+M:"")})}function $d(h,w){h.info(function(){return"TIMEOUT: "+w})}fn.prototype.info=function(){};function Ud(h,w){if(!h.g)return w;if(!w)return null;try{var P=JSON.parse(w);if(P){for(h=0;h<P.length;h++)if(Array.isArray(P[h])){var M=P[h];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var G=W[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return ji(P)}catch{return w}}var Ro={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},La={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ma;function Ar(){}S(Ar,Ao),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},Ma=new Ar;function kr(h,w,P,M){this.j=h,this.i=w,this.l=P,this.R=M||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hd}function Hd(){this.i=null,this.g="",this.h=!1}var Wd={},Eu={};function Tu(h,w,P){h.L=1,h.v=pr(Nt(w)),h.m=P,h.P=!0,Su(h,null)}function Su(h,w){h.F=Date.now(),Da(h),h.A=Nt(h.v);var P=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),Gd(P.i,"t",M),h.C=0,P=h.j.J,h.h=new Hd,h.g=th(h.j,P?w:null,!h.m),0<h.O&&(h.M=new Ra(y(h.Y,h,h.g),h.O)),w=h.U,P=h.g,M=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Di[0]=W.toString()),W=Di);for(var G=0;G<W.length;G++){var ue=Mn(P,W[G],M||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Ht(),hr(h.i,h.u,h.A,h.l,h.R,h.m)}kr.prototype.ca=function(h){h=h.target;const w=this.M;w&&Tn(h)==3?w.j():this.Y(h)},kr.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=Tn(this.g);var w=this.g.Ba();const Ns=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Tt!=4||w==7||(w==8||0>=Ns?Ht(3):Ht(2)),Cu(this);var P=this.g.Z();this.X=P;t:if(qd(this)){var M=zu(this.g);h="";var W=M.length,G=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),Lo(this);var ue="";break t}this.h.i=new l.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,h+=this.h.i.decode(M[w],{stream:!(G&&w==W-1)});M.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=P==200,_e(this.i,this.u,this.A,this.l,this.R,Tt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var it,jt=this.g;if((it=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(it)){var Ge=it;break t}}Ge=null}if(P=Ge)Fi(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,P);else{this.o=!1,this.s=3,dt(12),Bi(this),Lo(this);break e}}if(this.P){P=!0;let Rt;for(;!this.J&&this.C<ue.length;)if(Rt=Oa(this,ue),Rt==Eu){Tt==4&&(this.s=4,dt(14),P=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Wd){this.s=4,dt(15),Fi(this.i,this.l,ue,"[Invalid Chunk]"),P=!1;break}else Fi(this.i,this.l,Rt,null),Mo(this,Rt);if(qd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ue.length!=0||this.h.h||(this.s=1,dt(16),P=!1),this.o=this.o&&P,!P)Fi(this.i,this.l,ue,"[Invalid Chunked Response]"),Bi(this),Lo(this);else if(0<ue.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Wa(lt),lt.M=!0,dt(11))}}else Fi(this.i,this.l,ue,null),Mo(this,ue);Tt==4&&Bi(this),this.o&&!this.J&&(Tt==4?Uu(this.j,this):(this.o=!1,Da(this)))}else vm(this.g),P==400&&0<ue.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Bi(this),Lo(this)}}}catch{}finally{}};function qd(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Oa(h,w){var P=h.C,M=w.indexOf(`
`,P);return M==-1?Eu:(P=Number(w.substring(P,M)),isNaN(P)?Wd:(M+=1,M+P>w.length?Eu:(w=w.slice(M,M+P),h.C=M+P,w)))}kr.prototype.cancel=function(){this.J=!0,Bi(this)};function Da(h){h.S=Date.now()+h.I,Kd(h,h.I)}function Kd(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Wt(y(h.ba,h),w)}function Cu(h){h.B&&(l.clearTimeout(h.B),h.B=null)}kr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?($d(this.i,this.A),this.L!=2&&(Ht(),dt(17)),Bi(this),this.s=2,Lo(this)):Kd(this,this.S-h)};function Lo(h){h.j.G==0||h.J||Uu(h.j,h)}function Bi(h){Cu(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,Zn(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Mo(h,w){try{var P=h.j;if(P.G!=0&&(P.g==h||We(P.h,h))){if(!h.K&&We(P.h,h)&&P.G==3){try{var M=P.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<h.F)Ka(P),Ua(P);else break e;Ha(P),dt(18)}}else P.za=W[1],0<P.za-P.T&&37500>W[2]&&P.F&&P.v==0&&!P.C&&(P.C=Wt(y(P.Za,P),6e3));if(1>=Es(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Wi(P,11)}else if((h.K||P.g==h)&&Ka(P),!T(w))for(W=P.Da.g.parse(w),w=0;w<W.length;w++){let Ge=W[w];if(P.T=Ge[0],Ge=Ge[1],P.G==2)if(Ge[0]=="c"){P.K=Ge[1],P.ia=Ge[2];const lt=Ge[3];lt!=null&&(P.la=lt,P.j.info("VER="+P.la));const Tt=Ge[4];Tt!=null&&(P.Aa=Tt,P.j.info("SVER="+P.Aa));const Ns=Ge[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(M=1.5*Ns,P.L=M,P.j.info("backChannelRequestTimeoutMs_="+M)),M=P;const Rt=h.g;if(Rt){const Za=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var G=M.h;G.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ct(G,G.h),G.h=null))}if(M.D){const ui=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;ui&&(M.ya=ui,Pe(M.I,M.D,ui))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-h.F,P.j.info("Handshake RTT: "+P.R+"ms")),M=P;var ue=h;if(M.qa=Ga(M,M.J?M.ia:null,M.W),ue.K){Do(M.h,ue);var it=ue,jt=M.L;jt&&(it.I=jt),it.B&&(Cu(it),Da(it)),M.g=ue}else Mr(M);0<P.i.length&&Is(P)}else Ge[0]!="stop"&&Ge[0]!="close"||Wi(P,7);else P.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Wi(P,7):$a(P):Ge[0]!="noop"&&P.l&&P.l.ta(Ge),P.v=0)}}Ht(4)}catch{}}var Oo=class{constructor(h,w){this.g=h,this.map=w}};function Pu(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Es(h){return h.h?1:h.g?h.g.size:0}function We(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function ct(h,w){h.g?h.g.add(w):h.h=w}function Do(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Pu.prototype.cancel=function(){if(this.i=zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zi(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const P of h.g.values())w=w.concat(P.D);return w}return x(h.i)}function Ts(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var w=[],P=h.length,M=0;M<P;M++)w.push(h[M]);return w}w=[],P=0;for(M in h)w[P++]=h[M];return w}function Nu(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var w=[];h=h.length;for(var P=0;P<h;P++)w.push(P);return w}w=[],P=0;for(const M in h)w[P++]=M;return w}}}function Le(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var P=Nu(h),M=Ts(h),W=M.length,G=0;G<W;G++)w.call(void 0,M[G],P&&P[G],h)}var wt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Au(h,w){if(h){h=h.split("&");for(var P=0;P<h.length;P++){var M=h[P].indexOf("="),W=null;if(0<=M){var G=h[P].substring(0,M);W=h[P].substring(M+1)}else G=h[P];w(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function fr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof fr){this.h=h.h,ja(this,h.j),this.o=h.o,this.g=h.g,$i(this,h.s),this.l=h.l;var w=h.i,P=new Ui;P.i=w.i,w.g&&(P.g=new Map(w.g),P.h=w.h),ai(this,P),this.m=h.m}else h&&(w=String(h).match(wt))?(this.h=!1,ja(this,w[1]||"",!0),this.o=Rr(w[2]||""),this.g=Rr(w[3]||"",!0),$i(this,w[4]),this.l=Rr(w[5]||"",!0),ai(this,w[6]||"",!0),this.m=Rr(w[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}fr.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Lr(w,Ss,!0),":");var P=this.g;return(P||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Lr(w,Ss,!0),"@"),h.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&h.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(Lr(P,P.charAt(0)=="/"?Lu:Ru,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",Lr(P,Mu)),h.join("")};function Nt(h){return new fr(h)}function ja(h,w,P){h.j=P?Rr(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function $i(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function ai(h,w,P){w instanceof Ui?(h.i=w,mr(h.i,h.h)):(P||(w=Lr(w,Va)),h.i=new Ui(w,h.h))}function Pe(h,w,P){h.i.set(w,P)}function pr(h){return Pe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Rr(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Lr(h,w,P){return typeof h=="string"?(h=encodeURI(h).replace(w,ku),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ku(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ss=/[#\/\?@]/g,Ru=/[#\?:]/g,Lu=/[#\?]/g,Va=/[#\?@]/g,Mu=/#/g;function Ui(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Au(h.i,function(w,P){h.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}t=Ui.prototype,t.add=function(h,w){Yn(this),this.i=null,h=xe(this,h);var P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(w),this.h+=1,this};function Ou(h,w){Yn(h),w=xe(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Fa(h,w){return Yn(h),w=xe(h,w),h.g.has(w)}t.forEach=function(h,w){Yn(this),this.g.forEach(function(P,M){P.forEach(function(W){h.call(w,W,M,this)},this)},this)},t.na=function(){Yn(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),P=[];for(let M=0;M<w.length;M++){const W=h[M];for(let G=0;G<W.length;G++)P.push(w[M])}return P},t.V=function(h){Yn(this);let w=[];if(typeof h=="string")Fa(this,h)&&(w=w.concat(this.g.get(xe(this,h))));else{h=Array.from(this.g.values());for(let P=0;P<h.length;P++)w=w.concat(h[P])}return w},t.set=function(h,w){return Yn(this),this.i=null,h=xe(this,h),Fa(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Gd(h,w,P){Ou(h,w),0<P.length&&(h.i=null,h.g.set(xe(h,w),x(P)),h.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var P=0;P<w.length;P++){var M=w[P];const G=encodeURIComponent(String(M)),ue=this.V(M);for(M=0;M<ue.length;M++){var W=G;ue[M]!==""&&(W+="="+encodeURIComponent(String(ue[M]))),h.push(W)}}return this.i=h.join("&")};function xe(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function mr(h,w){w&&!h.j&&(Yn(h),h.i=null,h.g.forEach(function(P,M){var W=M.toLowerCase();M!=W&&(Ou(this,M),Gd(this,W,P))},h)),h.j=w}function at(h,w){const P=new fn;if(l.Image){const M=new Image;M.onload=_(gr,P,"TestLoadImage: loaded",!0,w,M),M.onerror=_(gr,P,"TestLoadImage: error",!1,w,M),M.onabort=_(gr,P,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(gr,P,"TestLoadImage: timeout",!1,w,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else w(!1)}function Zd(h,w){const P=new fn,M=new AbortController,W=setTimeout(()=>{M.abort(),gr(P,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:M.signal}).then(G=>{clearTimeout(W),G.ok?gr(P,"TestPingServer: ok",!0,w):gr(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),gr(P,"TestPingServer: error",!1,w)})}function gr(h,w,P,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(P)}catch{}}function Du(){this.g=new Vi}function ju(h,w,P){const M=P||"";try{Le(h,function(W,G){let ue=W;d(W)&&(ue=ji(W)),w.push(M+G+"="+encodeURIComponent(ue))})}catch(W){throw w.push(M+"type="+encodeURIComponent("_badmap")),W}}function vr(h){this.l=h.Ub||null,this.j=h.eb||!1}S(vr,Ao),vr.prototype.g=function(){return new Cs(this.l,this.j)},vr.prototype.i=function(h){return function(){return h}}({});function Cs(h,w){Qe.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Cs,Qe),t=Cs.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Qn(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Et(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Et(this):Qn(this),this.readyState==3&&Ps(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Et(this))},t.Qa=function(h){this.g&&(this.response=h,Et(this))},t.ga=function(){this.g&&Et(this)};function Et(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Qn(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=w.next();return h.join(`\r
`)};function Qn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vu(h){let w="";return H(h,function(P,M){w+=M,w+=":",w+=P,w+=`\r
`}),w}function Ba(h,w,P){e:{for(M in P){var M=!1;break e}M=!0}M||(P=Vu(P),typeof h=="string"?P!=null&&encodeURIComponent(String(P)):Pe(h,w,P))}function xt(h){Qe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xt,Qe);var Yd=/^https?$/i,Fu=["POST","PUT"];t=xt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,P,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ma.g(),this.v=this.o?ko(this.o):ko(Ma),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(G){Qd(this,G);return}if(h=P||"",P=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)P.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const G of M.keys())P.set(G,M.get(G));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(P.keys()).find(G=>G.toLowerCase()=="content-type"),W=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Fu,w,void 0))||M||W||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of P)this.g.setRequestHeader(G,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jn(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Qd(this,G)}};function Qd(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Bu(h),za(h)}function Bu(h){h.A||(h.A=!0,pt(h,"complete"),pt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,pt(this,"complete"),pt(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ue(this):this.bb())},t.bb=function(){Ue(this)};function Ue(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Tn(h)!=4||h.Z()!=2)){if(h.u&&Tn(h)==4)ka(h.Ea,0,h);else if(pt(h,"readystatechange"),Tn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var M;if(M=ue===0){var W=String(h.D).match(wt)[1]||null;!W&&l.self&&l.self.location&&(W=l.self.location.protocol.slice(0,-1)),M=!Yd.test(W?W.toLowerCase():"")}P=M}if(P)pt(h,"complete"),pt(h,"success");else{h.m=6;try{var G=2<Tn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Bu(h)}}finally{za(h)}}}}function za(h,w){if(h.g){jn(h);const P=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||pt(h,"ready");try{P.onreadystatechange=M}catch{}}}function jn(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Tn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),ii(w)}};function zu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function vm(h){const w={};h=(h.g&&2<=Tn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(T(h[M]))continue;var P=F(h[M]);const W=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const G=w[W]||[];w[W]=G,G.push(P)}R(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||w}function Xd(h){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,h),this.cb=Hi("retryDelaySeedMs",1e4,h),this.Wa=Hi("forwardChannelMaxRetries",2,h),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Pu(h&&h.concurrentRequestLimit),this.Da=new Du,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xd.prototype,t.la=8,t.G=1,t.connect=function(h,w,P,M){dt(0),this.W=h,this.H=w||{},P&&M!==void 0&&(this.H.OSID=P,this.H.OAID=M),this.F=this.X,this.I=Ga(this,null,this.W),Is(this)};function $a(h){if(Jd(h),h.G==3){var w=h.U++,P=Nt(h.I);if(Pe(P,"SID",h.K),Pe(P,"RID",w),Pe(P,"TYPE","terminate"),jo(h,P),w=new kr(h,h.j,w),w.L=2,w.v=pr(Nt(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!P&&l.Image&&(new Image().src=w.v,P=!0),P||(w.g=th(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Da(w)}eh(h)}function Ua(h){h.g&&(Wa(h),h.g.cancel(),h.g=null)}function Jd(h){Ua(h),h.u&&(l.clearTimeout(h.u),h.u=null),Ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function Is(h){if(!Iu(h.h)&&!h.s){h.s=!0;var w=h.Ga;Q||Y(),$||(Q(),$=!0),Z.add(w,h),h.B=0}}function ym(h,w){return Es(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Wt(y(h.Ga,h,w),Hu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new kr(this,this.j,h);let G=this.o;if(this.S&&(G?(G=A(G),j(G,this.S)):G=this.S),this.m!==null||this.O||(W.H=G,G=null),this.P)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var M=this.i[P];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=$u(this,W,w),P=Nt(this.I),Pe(P,"RID",h),Pe(P,"CVER",22),this.D&&Pe(P,"X-HTTP-Session-Id",this.D),jo(this,P),G&&(this.O?w="headers="+encodeURIComponent(String(Vu(G)))+"&"+w:this.m&&Ba(P,this.m,G)),ct(this.h,W),this.Ua&&Pe(P,"TYPE","init"),this.P?(Pe(P,"$req",w),Pe(P,"SID","null"),W.T=!0,Tu(W,P,null)):Tu(W,P,w),this.G=2}}else this.G==3&&(h?Xn(this,h):this.i.length==0||Iu(this.h)||Xn(this))};function Xn(h,w){var P;w?P=w.l:P=h.U++;const M=Nt(h.I);Pe(M,"SID",h.K),Pe(M,"RID",P),Pe(M,"AID",h.T),jo(h,M),h.m&&h.o&&Ba(M,h.m,h.o),P=new kr(h,h.j,P,h.B+1),h.m===null&&(P.H=h.o),w&&(h.i=w.D.concat(h.i)),w=$u(h,P,1e3),P.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ct(h.h,P),Tu(P,M,w)}function jo(h,w){h.H&&H(h.H,function(P,M){Pe(w,M,P)}),h.l&&Le({},function(P,M){Pe(w,M,P)})}function $u(h,w,P){P=Math.min(h.i.length,P);var M=h.l?y(h.l.Na,h.l,h):null;e:{var W=h.i;let G=-1;for(;;){const ue=["count="+P];G==-1?0<P?(G=W[0].g,ue.push("ofs="+G)):G=0:ue.push("ofs="+G);let it=!0;for(let jt=0;jt<P;jt++){let Ge=W[jt].g;const lt=W[jt].map;if(Ge-=G,0>Ge)G=Math.max(0,W[jt].g-100),it=!1;else try{ju(lt,ue,"req"+Ge+"_")}catch{M&&M(lt)}}if(it){M=ue.join("&");break e}}}return h=h.i.splice(0,P),w.D=h,M}function Mr(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;Q||Y(),$||(Q(),$=!0),Z.add(w,h),h.v=0}}function Ha(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Wt(y(h.Fa,h),Hu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,qa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Wt(y(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ua(this),qa(this))};function Wa(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function qa(h){h.g=new kr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Nt(h.qa);Pe(w,"RID","rpc"),Pe(w,"SID",h.K),Pe(w,"AID",h.T),Pe(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Pe(w,"TO",h.ja),Pe(w,"TYPE","xmlhttp"),jo(h,w),h.m&&h.o&&Ba(w,h.m,h.o),h.L&&(h.g.I=h.L);var P=h.g;h=h.ia,P.L=1,P.v=pr(Nt(w)),P.m=null,P.P=!0,Su(P,h)}t.Za=function(){this.C!=null&&(this.C=null,Ua(this),Ha(this),dt(19))};function Ka(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Uu(h,w){var P=null;if(h.g==w){Ka(h),Wa(h),h.g=null;var M=2}else if(We(h.h,w))P=w.D,Do(h.h,w),M=1;else return;if(h.G!=0){if(w.o)if(M==1){P=w.m?w.m.length:0,w=Date.now()-w.F;var W=h.B;M=Ke(),pt(M,new dr(M,P)),Is(h)}else Mr(h);else if(W=w.s,W==3||W==0&&0<w.X||!(M==1&&ym(h,w)||M==2&&Ha(h)))switch(P&&0<P.length&&(w=h.h,w.i=w.i.concat(P)),W){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function Hu(h,w){let P=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(P*=2),P*w}function Wi(h,w){if(h.j.info("Error code "+w),w==2){var P=y(h.fb,h),M=h.Xa;const W=!M;M=new fr(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ja(M,"https"),pr(M),W?at(M.toString(),P):Zd(M.toString(),P)}else dt(2);h.G=0,h.l&&h.l.sa(w),eh(h),Jd(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function eh(h){if(h.G=0,h.ka=[],h.l){const w=zi(h.h);(w.length!=0||h.i.length!=0)&&(C(h.ka,w),C(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function Ga(h,w,P){var M=P instanceof fr?Nt(P):new fr(P);if(M.g!="")w&&(M.g=w+"."+M.g),$i(M,M.s);else{var W=l.location;M=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var G=new fr(null);M&&ja(G,M),w&&(G.g=w),W&&$i(G,W),P&&(G.l=P),M=G}return P=h.D,w=h.ya,P&&w&&Pe(M,P,w),Pe(M,"VER",h.la),jo(h,M),M}function th(h,w,P){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new xt(new vr({eb:P})):new xt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}t=Wu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vo(){}Vo.prototype.g=function(h,w){return new Xt(h,w)};function Xt(h,w){Qe.call(this),this.g=new Xd(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!T(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!T(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new yr(this)}S(Xt,Qe),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){$a(this.g)},Xt.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.u&&(P={},P.__data__=ji(h),h=P);w.i.push(new Oo(w.Ya++,h)),w.G==3&&Is(w)},Xt.prototype.N=function(){this.g.l=null,delete this.j,$a(this.g),delete this.g,Xt.aa.N.call(this)};function li(h){oi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const P in w){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}S(li,oi);function nh(){Dn.call(this),this.status=1}S(nh,Dn);function yr(h){this.g=h}S(yr,Wu),yr.prototype.ua=function(){pt(this.g,"a")},yr.prototype.ta=function(h){pt(this.g,new li(h))},yr.prototype.sa=function(h){pt(this.g,new nh)},yr.prototype.ra=function(){pt(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,hN=function(){return new Vo},dN=function(){return Ke()},cN=Nr,Gv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ro.NO_ERROR=0,Ro.TIMEOUT=8,Ro.HTTP_ERROR=6,df=Ro,La.COMPLETE="complete",uN=La,bs.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,fc=bs,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,lN=xt}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const r1="@firebase/firestore",i1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new tN("@firebase/firestore");function ol(){return ga.logLevel}function fe(t,...e){if(ga.logLevel<=Ye.DEBUG){const n=e.map(nw);ga.debug(`Firestore (${vu}): ${t}`,...n)}}function ms(t,...e){if(ga.logLevel<=Ye.ERROR){const n=e.map(nw);ga.error(`Firestore (${vu}): ${t}`,...n)}}function Xl(t,...e){if(ga.logLevel<=Ye.WARN){const n=e.map(nw);ga.warn(`Firestore (${vu}): ${t}`,...n)}}function nw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fN(t,r,n)}function fN(t,e,n){let r=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function nt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fN(e,i,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends gu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class G6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z6{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new pN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class Y6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,R6(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=J6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function Zv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Be(r,i);{const s=mN(),a=e9(s.encode(o1(t,n)),s.encode(o1(e,n)));return a!==0?a:Be(r,i)}}n+=r>65535?2:1}return Be(t.length,e.length)}function o1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function e9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Be(t[n],e[n]);return Be(t.length,e.length)}function Jl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-62135596800,l1=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*l1);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a1)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l1}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-a1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Gt(0,0))}static max(){return new Ne(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="__name__";class pi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=pi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Be(e.length,n.length)}static compareSegments(e,n){const r=pi.isNumericId(e),i=pi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Zv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class vt extends pi{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const t9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends pi{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return t9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u1}static keyField(){return new ln([u1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(vt.fromString(e))}static fromName(e){return new we(vt.fromString(e).popFirst(5))}static empty(){return new we(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function n9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new mo(i,we.empty(),e)}function r9(t){return new mo(t.readTime,t.key,ld)}class mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mo(Ne.min(),we.empty(),ld)}static max(){return new mo(Ne.max(),we.empty(),ld)}}function i9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==s9)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(p=>{a[d]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function a9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=-1;function em(t){return t==null}function tp(t){return t===0&&1/t==-1/0}function l9(t){return typeof t=="number"&&Number.isInteger(t)&&!tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="";function u9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c1(e)),e=c9(t.get(n),e);return c1(e)}function c9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case vN:n+="";break;default:n+=s}}return n}function c1(t){return t+vN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??on.RED,this.left=i??on.EMPTY,this.right=s??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new on(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new Zt(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _N("Invalid base64 string: "+s):s}}(e);return new hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const d9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=d9.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="server_timestamp",xN="__type__",bN="__previous_value__",EN="__local_write_time__";function iw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xN])===null||n===void 0?void 0:n.stringValue)===wN}function tm(t){const e=t.mapValue.fields[bN];return iw(e)?tm(e):e}function ud(t){const e=go(t.mapValue.fields[EN].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,i,s,a,l,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const np="(default)";class cd{constructor(e,n){this.projectId=e,this.database=n||np}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===np}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="__type__",f9="__max__",Hh={mapValue:{}},SN="__vector__",rp="value";function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iw(t)?4:m9(t)?9007199254740991:p9(t)?10:11:Ee(28295,{value:t})}function ki(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ud(t).isEqual(ud(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=go(i.timestampValue),l=go(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vo(i.bytesValue).isEqual(vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Lt(i.geoPointValue.latitude)===Lt(s.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Lt(i.integerValue)===Lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Lt(i.doubleValue),l=Lt(s.doubleValue);return a===l?tp(a)===tp(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(d1(a)!==d1(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!ki(a[c],l[c])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function dd(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function eu(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Lt(s.integerValue||s.doubleValue),c=Lt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return f1(t.timestampValue,e.timestampValue);case 4:return f1(ud(t),ud(e));case 5:return Zv(t.stringValue,e.stringValue);case 6:return function(s,a){const l=vo(s),c=vo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const p=Be(l[d],c[d]);if(p!==0)return p}return Be(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Be(Lt(s.latitude),Lt(a.latitude));return l!==0?l:Be(Lt(s.longitude),Lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,c,d,p;const g=s.fields||{},y=a.fields||{},_=(l=g[rp])===null||l===void 0?void 0:l.arrayValue,S=(c=y[rp])===null||c===void 0?void 0:c.arrayValue,x=Be(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return x!==0?x:p1(_,S)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Hh.mapValue&&a===Hh.mapValue)return 0;if(s===Hh.mapValue)return 1;if(a===Hh.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=Zv(c[g],p[g]);if(y!==0)return y;const _=eu(l[c[g]],d[p[g]]);if(_!==0)return _}return Be(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{Pe:n})}}function f1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=go(t),r=go(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function p1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=eu(n[i],r[i]);if(s)return s}return Be(n.length,r.length)}function tu(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=go(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Yv(n.fields[a])}`;return i+"}"}(t.mapValue):Ee(61005,{value:t})}function hf(t){switch(yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+hf(e):16;case 5:return 2*t.stringValue.length;case 6:return vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+hf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ca(r.fields,(s,a)=>{i+=s.length+hf(a)}),i}(t.mapValue);default:throw Ee(13486,{value:t})}}function m1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qv(t){return!!t&&"integerValue"in t}function sw(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function v1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function p9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TN])===null||n===void 0?void 0:n.stringValue)===SN}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ac(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===f9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Ac(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ca(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Er(Ac(this.value))}}function CN(t){const e=[];return Ca(t.fields,(n,r)=>{const i=new ln([n]);if(ff(r)){const s=CN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new bn(e,0,Ne.min(),Ne.min(),Ne.min(),Er.empty(),0)}static newFoundDocument(e,n,r,i){return new bn(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new bn(e,2,n,Ne.min(),Ne.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ne.min(),Ne.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.position=e,this.inclusive=n}}function y1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=we.comparator(we.fromName(a.referenceValue),n.key):r=eu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function g9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{}class $t extends PN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y9(e,n,r):n==="array-contains"?new x9(e,r):n==="in"?new b9(e,r):n==="not-in"?new E9(e,r):n==="array-contains-any"?new T9(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _9(e,r):new w9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eu(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends PN{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Xr(e,n)}matches(e){return IN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function IN(t){return t.op==="and"}function NN(t){return v9(t)&&IN(t)}function v9(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function Xv(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(NN(t))return t.filters.map(e=>Xv(e)).join(",");{const e=t.filters.map(n=>Xv(n)).join(",");return`${t.op}(${e})`}}function AN(t,e){return t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.field.isEqual(i.field)&&ki(r.value,i.value)}(t,e):t instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&AN(a,i.filters[l]),!0):!1}(t,e):void Ee(19439)}function kN(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`}(t):t instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(kN).join(" ,")+"}"}(t):"Filter"}class y9 extends $t{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class _9 extends $t{constructor(e,n){super(e,"in",n),this.keys=RN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w9 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=RN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class x9 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sw(n)&&dd(n.arrayValue,this.value)}}class b9 extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dd(this.value.arrayValue,n)}}class E9 extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dd(this.value.arrayValue,n)}}class T9 extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function w1(t,e=null,n=[],r=[],i=null,s=null,a=null){return new S9(t,e,n,r,i,s,a)}function ow(t){const e=ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),e.Ie=n}return e.Ie}function aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_1(t.startAt,e.startAt)&&_1(t.endAt,e.endAt)}function Jv(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function C9(t,e,n,r,i,s,a,l){return new wu(t,e,n,r,i,s,a,l)}function lw(t){return new wu(t)}function x1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LN(t){return t.collectionGroup!==null}function kc(t){const e=ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Zt(ln.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new hd(s,r))}),n.has(ln.keyField().canonicalString())||e.Ee.push(new hd(ln.keyField(),r))}return e.Ee}function Ci(t){const e=ke(t);return e.de||(e.de=P9(e,kc(t))),e.de}function P9(t,e){if(t.limitType==="F")return w1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hd(i.field,s)});const n=t.endAt?new ip(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ip(t.startAt.position,t.startAt.inclusive):null;return w1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ey(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sp(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return aw(Ci(t),Ci(e))&&t.limitType===e.limitType}function MN(t){return`${ow(Ci(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kN(i)).join(", ")}]`),em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tu(i)).join(",")),`Target(${r})`}(Ci(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):we.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of kc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const d=y1(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,kc(r),i)||r.endAt&&!function(a,l,c){const d=y1(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,kc(r),i))}(t,e)}function I9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ON(t){return(e,n)=>{let r=!1;for(const i of kc(t)){const s=N9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function N9(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?eu(c,d):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new It(we.comparator);function gs(){return A9}const DN=new It(we.comparator);function pc(...t){let e=DN;for(const n of t)e=e.insert(n.key,n);return e}function jN(t){let e=DN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ko(){return Rc()}function VN(){return Rc()}function Rc(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const k9=new It(we.comparator),R9=new Zt(we.comparator);function qe(...t){let e=R9;for(const n of t)e=e.add(n);return e}const L9=new Zt(Be);function M9(){return L9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function FN(t){return{integerValue:""+t}}function O9(t,e){return l9(e)?FN(e):uw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function D9(t,e,n){return t instanceof fd?function(i,s){const a={fields:{[xN]:{stringValue:wN},[EN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iw(s)&&(s=tm(s)),s&&(a.fields[bN]=s),{mapValue:a}}(n,e):t instanceof pd?zN(t,e):t instanceof md?$N(t,e):function(i,s){const a=BN(i,s),l=b1(a)+b1(i.Re);return Qv(a)&&Qv(i.Re)?FN(l):uw(i.serializer,l)}(t,e)}function j9(t,e,n){return t instanceof pd?zN(t,e):t instanceof md?$N(t,e):n}function BN(t,e){return t instanceof op?function(r){return Qv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fd extends im{}class pd extends im{constructor(e){super(),this.elements=e}}function zN(t,e){const n=UN(e);for(const r of t.elements)n.some(i=>ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class md extends im{constructor(e){super(),this.elements=e}}function $N(t,e){let n=UN(e);for(const r of t.elements)n=n.filter(i=>!ki(i,r));return{arrayValue:{values:n}}}class op extends im{constructor(e,n){super(),this.serializer=e,this.Re=n}}function b1(t){return Lt(t.integerValue||t.doubleValue)}function UN(t){return sw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.field=e,this.transform=n}}function F9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pd&&i instanceof pd||r instanceof md&&i instanceof md?Jl(r.elements,i.elements,ki):r instanceof op&&i instanceof op?ki(r.Re,i.Re):r instanceof fd&&i instanceof fd}(t.transform,e.transform)}class B9{constructor(e,n){this.version=e,this.transformResults=n}}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function HN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qN(t.key,ss.none()):new Ld(t.key,t.data,ss.none());{const n=t.data,r=Er.empty();let i=new Zt(ln.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ia(t.key,r,new Hr(i.toArray()),ss.none())}}function z9(t,e,n){t instanceof Ld?function(i,s,a){const l=i.value.clone(),c=T1(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ia?function(i,s,a){if(!pf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=T1(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(WN(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Lc(t,e,n,r){return t instanceof Ld?function(s,a,l,c){if(!pf(s.precondition,a))return l;const d=s.value.clone(),p=S1(s.fieldTransforms,c,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ia?function(s,a,l,c){if(!pf(s.precondition,a))return l;const d=S1(s.fieldTransforms,c,a),p=a.data;return p.setAll(WN(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,l){return pf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function $9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BN(r.transform,i||null);s!=null&&(n===null&&(n=Er.empty()),n.set(r.field,s))}return n||null}function E1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jl(r,i,(s,a)=>F9(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ld extends sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ia extends sm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T1(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,j9(a,l,n[i]))}return r}function S1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,D9(s,a,e))}return r}class qN extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U9 extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&z9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VN();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=HN(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(n,r)=>E1(n,r))&&Jl(this.baseMutations,e.baseMutations,(n,r)=>E1(n,r))}}class cw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return k9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new cw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ze;function K9(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function KN(t){if(t===void 0)return ms("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ft.OK:return te.OK;case Ft.CANCELLED:return te.CANCELLED;case Ft.UNKNOWN:return te.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return te.INTERNAL;case Ft.UNAVAILABLE:return te.UNAVAILABLE;case Ft.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ft.NOT_FOUND:return te.NOT_FOUND;case Ft.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ft.ABORTED:return te.ABORTED;case Ft.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ft.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(Ze=Ft||(Ft={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new ao([4294967295,4294967295],0);function C1(t){const e=mN().encode(t),n=new aN;return n.update(e),new Uint8Array(n.digest())}function P1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ao([n,r],0),new ao([i,s],0)]}class dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ao.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ao.fromNumber(r)));return i.compare(G9)===1&&(i=new ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=C1(e),[r,i]=P1(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new dw(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=C1(e),[r,i]=P1(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new om(Ne.min(),i,new It(Be),gs(),qe())}}class Md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class GN{constructor(e,n){this.targetId=e,this.Ce=n}}class ZN{constructor(e,n,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class I1{constructor(){this.Fe=0,this.Me=N1(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),n=qe(),r=qe();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:s})}}),new Md(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=N1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Z9{constructor(e){this.ze=e,this.je=new Map,this.He=gs(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new It(Be)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Jv(s))if(r===0){const a=new we(s.path);this.tt(n,a,bn.newNoDocument(a,Ne.min()))}else nt(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=vo(r).toUint8Array()}catch(c){if(c instanceof _N)return Xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new dw(a,i,s)}catch(c){return Xl(c instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Jv(l.target)){const c=new we(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,bn.newNoDocument(c,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let r=qe();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new om(e,n,this.Ze,this.He,r);return this.He=gs(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new It(Be),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new I1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Zt(Be),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Zt(Be),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new I1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Wh(){return new It(we.comparator)}function N1(){return new It(we.comparator)}const Y9={asc:"ASCENDING",desc:"DESCENDING"},Q9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X9={and:"AND",or:"OR"};class J9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||em(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eB(t,e){return ap(t,e.toTimestamp())}function Pi(t){return nt(!!t,49232),Ne.fromTimestamp(function(n){const r=go(n);return new Gt(r.seconds,r.nanos)}(t))}function hw(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QN(t){const e=vt.fromString(t);return nt(nA(e),10190,{key:e.toString()}),e}function ry(t,e){return hw(t.databaseId,e.path)}function vg(t,e){const n=QN(e);if(n.get(1)!==t.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(JN(n))}function XN(t,e){return hw(t.databaseId,e)}function tB(t){const e=QN(t);return e.length===4?vt.emptyPath():JN(e)}function iy(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JN(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A1(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function nB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ee(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(nt(p===void 0||typeof p=="string",58123),hn.fromBase64String(p||"")):(nt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),hn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const p=d.code===void 0?te.UNKNOWN:KN(d.code);return new me(p,d.message||"")}(a);n=new ZN(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vg(t,r.document.name),s=Pi(r.document.updateTime),a=r.document.createTime?Pi(r.document.createTime):Ne.min(),l=new Er({mapValue:{fields:r.document.fields}}),c=bn.newFoundDocument(i,s,a,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new mf(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vg(t,r.document),s=r.readTime?Pi(r.readTime):Ne.min(),a=bn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new mf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vg(t,r.document),s=r.removedTargetIds||[];n=new mf([],s,i,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new q9(i,s),l=r.targetId;n=new GN(l,a)}}return n}function rB(t,e){let n;if(e instanceof Ld)n={update:A1(t,e.key,e.value)};else if(e instanceof qN)n={delete:ry(t,e.key)};else if(e instanceof Ia)n={update:A1(t,e.key,e.data),updateMask:hB(e.fieldMask)};else{if(!(e instanceof U9))return Ee(16599,{ft:e.type});n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof fd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof md)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof op)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Ee(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee(27497)}(t,e.precondition)),n}function iB(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Pi(i.updateTime):Pi(s);return a.isEqual(Ne.min())&&(a=Pi(s)),new B9(a,i.transformResults||[])}(n,e))):[]}function sB(t,e){return{documents:[XN(t,e.path)]}}function oB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XN(t,i);const s=function(d){if(d.length!==0)return tA(Xr.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(y){return{field:ll(y.field),direction:uB(y.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ty(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:i}}function aB(t){let e=tB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const y=eA(g);return y instanceof Xr&&NN(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(y=>function(S){return new hd(ul(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,em(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(g){const y=!!g.before,_=g.values||[];return new ip(_,y)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const y=!g.before,_=g.values||[];return new ip(_,y)}(n.endAt)),C9(e,i,a,s,l,"F",c,d)}function lB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ul(n.unaryFilter.field);return $t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ul(n.unaryFilter.field);return $t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ul(n.unaryFilter.field);return $t.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return $t.create(ul(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(r=>eA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function uB(t){return Y9[t]}function cB(t){return Q9[t]}function dB(t){return X9[t]}function ll(t){return{fieldPath:t.canonicalString()}}function ul(t){return ln.fromServerFormat(t.fieldPath)}function tA(t){return t instanceof $t?function(n){if(n.op==="=="){if(v1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:cB(n.op),value:n.value}}}(t):t instanceof Xr?function(n){const r=n.getFilters().map(i=>tA(i));return r.length===1?r[0]:{compositeFilter:{op:dB(n.op),filters:r}}}(t):Ee(54877,{filter:t})}function hB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,i,s=Ne.min(),a=Ne.min(),l=hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.wt=e}}function pB(t){const e=aB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.Cn=new gB}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(mo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class gB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rA=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(rA,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new nu(0)}static lr(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="LruGarbageCollector",vB=1048576;function L1([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class yB{constructor(e){this.Er=e,this.buffer=new Zt(L1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();L1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _B{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(R1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?fe(R1,"Ignoring IndexedDB error during garbage collection: ",n):await yu(n)}await this.mr(3e5)})}}class wB{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Jp.le);const r=new yB(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(k1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,a,l,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),ol()<=Ye.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function xB(t,e){return new wB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lc(r.mutation,i,Hr.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const i=Ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=pc();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=gs();const a=Rc(),l=function(){return Rc()}();return n.forEach((c,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Ia)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),Lc(p.mutation,d,p.mutation.getFieldMask(),Gt.now())):a.set(d.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var g;return l.set(d,new EB(p,(g=a.get(d))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Rc();let i=new It((a,l)=>a-l),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||Hr.empty();p=l.applyToLocalView(d,p),r.set(c,p);const g=(i.get(l.batchId)||qe()).add(c);i=i.insert(l.batchId,g)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,p=c.value,g=VN();p.forEach(y=>{if(!s.has(y)){const _=HN(n.get(y),r.get(y));_!==null&&g.set(y,_),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return we.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(Ko());let l=ld,c=s;return a.next(d=>ee.forEach(d,(p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(p)?ee.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,qe())).next(p=>({batchId:l,changes:jN(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=pc();return this.indexManager.getCollectionParents(e,s).next(l=>ee.forEach(l,c=>{const d=function(g,y){return new wu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,bn.newInvalidDocument(p)))});let l=pc();return a.forEach((c,d)=>{const p=s.get(c);p!==void 0&&Lc(p.mutation,d,Hr.empty(),Gt.now()),rm(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pi(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:pB(i.bundledQuery),readTime:Pi(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.overlays=new It(we.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ko();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Ko(),s=n.length+1,a=new we(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new It((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Ko(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=Ko(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return ee.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new W9(n,r));let s=this.Qr.get(n);s===void 0&&(s=qe(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.$r=new Zt(en.Ur),this.Kr=new Zt(en.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new en(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new en(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new we(new vt([])),r=new en(n,e),i=new en(n,e+1),s=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new we(new vt([])),r=new en(n,e),i=new en(n,e+1);let s=qe();return this.Kr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new en(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return we.comparator(e.key,n.key)||Be(e.Zr,n.Zr)}static Wr(e,n){return Be(e.Zr,n.Zr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Zt(en.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new H9(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Xr=this.Xr.add(new en(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?rw:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],a=>{const l=this.ei(a.Zr);s.push(l)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Be);return n.forEach(i=>{const s=new en(i,0),a=new en(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{r=r.add(l.Zr)})}),ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;we.isDocumentKey(s)||(s=s.child(""));const a=new en(new we(s),0);let l=new Zt(Be);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Zr)),!0)},a),ee.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ee.forEach(n.mutations,i=>{const s=new en(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new en(n,0),i=this.Xr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.ii=e,this.docs=function(){return new It(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gs();const a=n.path,l=new we(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||i9(r9(p),r)<=0||(i.has(p.key)||rm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee(9500)}si(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AB(this)}getSize(e){return ee.resolve(this.size)}}class AB extends bB{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.persistence=e,this.oi=new Pa(n=>ow(n),aw),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this._i=0,this.ai=new fw,this.targetCount=0,this.ui=nu.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new nu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n){this.ci={},this.overlays={},this.li=new Jp(0),this.hi=!1,this.hi=!0,this.Pi=new PB,this.referenceDelegate=e(this),this.Ti=new kB(this),this.indexManager=new mB,this.remoteDocumentCache=function(i){return new NB(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new fB(n),this.Ei=new SB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new IB(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new RB(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class RB extends o9{constructor(e){super(),this.currentSequenceNumber=e}}class pw{constructor(e){this.persistence=e,this.Vi=new fw,this.mi=null}static fi(e){return new pw(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,r=>{const i=we.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class lp{constructor(e,n){this.persistence=e,this.yi=new Pa(r=>u9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xB(this,n)}static fi(e,n){return new lp(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,Ne.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hf(e.data.value)),n}Dr(e,n,r){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=qe(),i=qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return N5()?8:a9(P5())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new LB;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ol()<=Ye.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(ol()<=Ye.DEBUG&&fe("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ol()<=Ye.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}ws(e,n){if(x1(n))return ee.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sp(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=qe(...s);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,a,c.readTime)?this.ws(e,sp(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,r,i){return x1(n)||i.isEqual(Ne.min())?ee.resolve(null):this.ys.getDocuments(e,r).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,r,i)?ee.resolve(null):(ol()<=Ye.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),al(n)),this.Fs(e,a,n,n9(i,ld)).next(l=>l))})}vs(e,n){let r=new Zt(ON(e));return n.forEach((i,s)=>{rm(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ol()<=Ye.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",al(n)),this.ys.getDocumentsMatchingQuery(e,n,mo.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LocalStore",OB=3e8;class DB{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new It(Be),this.Os=new Pa(s=>ow(s),aw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TB(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function jB(t,e,n,r){return new DB(t,e,n,r)}async function sA(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=qe();for(const d of i){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:l}))})})}function VB(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,p){const g=d.batch,y=g.keys();let _=ee.resolve();return y.forEach(S=>{_=_.next(()=>p.getEntry(c,S)).next(x=>{const C=d.docVersions.get(S);nt(C!==null,48541),x.version.compareTo(C)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),p.addEntry(x)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=qe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oA(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function FB(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;l.push(n.Ti.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,p.addedDocuments,g)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(hn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(x,C,N){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=OB?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(y,_,p)&&l.push(n.Ti.updateTargetData(s,_))});let c=gs(),d=qe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(BB(s,a,e.documentUpdates).next(p=>{c=p.qs,d=p.Qs})),!r.isEqual(Ne.min())){const p=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return ee.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.xs=i,s))}function BB(t,e,n){let r=qe(),i=qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=gs();return n.forEach((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):fe(gw,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:a,Qs:i}})}function zB(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=rw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $B(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Ti.allocateTargetId(r).next(a=>(i=new Zs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function sy(t,e,n){const r=ke(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!_u(a))throw a;fe(gw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function M1(t,e,n){const r=ke(t);let i=Ne.min(),s=qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,p){const g=ke(c),y=g.Os.get(p);return y!==void 0?ee.resolve(g.xs.get(y)):g.Ti.getTargetData(d,p)}(r,a,Ci(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?i:Ne.min(),n?s:qe())).next(l=>(UB(r,I9(e),l),{documents:l,$s:s})))}function UB(t,e,n){let r=t.Ns.get(e)||Ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class O1{constructor(){this.activeTargetIds=M9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HB{constructor(){this.xo=new O1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new O1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="ConnectivityMonitor";class j1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(D1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(D1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function oy(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="RestConnection",qB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KB{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===np?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const a=oy(),l=this.jo(e,n.toUriEncodedString());fe(yg,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:d}=new URL(l),p=ew(d);return this.Jo(e,l,c,r,p).then(g=>(fe(yg,`Received RPC '${e}' ${a}: `,g),g),g=>{throw Xl(yg,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",r),g})}Yo(e,n,r,i,s,a){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=qB[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class ZB extends KB{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=oy();return new Promise((l,c)=>{const d=new lN;d.setWithCredentials(!0),d.listenOnce(uN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case df.NO_ERROR:const g=d.getResponseJson();fe(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case df.TIMEOUT:fe(vn,`RPC '${e}' ${a} timed out`),c(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const y=d.getStatus();if(fe(vn,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const x=function(N){const T=N.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(T)>=0?T:te.UNKNOWN}(S.status);c(new me(x,S.message))}else c(new me(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new me(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{fe(vn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);fe(vn,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",p,r,15)})}I_(e,n,r){const i=oy(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hN(),l=dN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");fe(vn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=a.createWebChannel(p,c);this.E_(g);let y=!1,_=!1;const S=new GB({Zo:C=>{_?fe(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(fe(vn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),fe(vn,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},Xo:()=>g.close()}),x=(C,N,T)=>{C.listen(N,I=>{try{T(I)}catch(O){setTimeout(()=>{throw O},0)}})};return x(g,fc.EventType.OPEN,()=>{_||(fe(vn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),x(g,fc.EventType.CLOSE,()=>{_||(_=!0,fe(vn,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(g))}),x(g,fc.EventType.ERROR,C=>{_||(_=!0,Xl(vn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),S.u_(new me(te.UNAVAILABLE,"The operation could not be completed")))}),x(g,fc.EventType.MESSAGE,C=>{var N;if(!_){const T=C.data[0];nt(!!T,16349);const I=T,O=(I==null?void 0:I.error)||((N=I[0])===null||N===void 0?void 0:N.error);if(O){fe(vn,`RPC '${e}' stream ${i} received error:`,O);const z=O.status;let H=function(D){const j=Ft[D];if(j!==void 0)return KN(j)}(z),R=O.message;H===void 0&&(H=te.INTERNAL,R="Unknown error status: "+z+" with message "+O.message),_=!0,S.u_(new me(H,R)),g.close()}else fe(vn,`RPC '${e}' stream ${i} received:`,T),S.c_(T)}}),x(l,cN.STAT_EVENT,C=>{C.stat===Gv.PROXY?fe(vn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Gv.NOPROXY&&fe(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new J9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="PersistentStream";class lA{constructor(e,n,r,i,s,a,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new aA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(V1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(V1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YB extends lA{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=nB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ne.min():a.readTime?Pi(a.readTime):Ne.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=iy(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=Jv(c)?{documents:sB(s,c)}:{query:oB(s,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=YN(s,a.resumeToken);const d=ty(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ne.min())>0){l.readTime=ap(s,a.snapshotVersion.toTimestamp());const d=ty(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=lB(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=iy(this.serializer),n.removeTarget=e,this.Q_(n)}}class QB extends lA{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=iB(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=iy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rB(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{}class JB extends XB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,ny(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(te.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,ny(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ez{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ms(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class tz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{r.enqueueAndForget(async()=>{Na(this)&&(fe(va,"Restarting streams for network reachability change."),await async function(c){const d=ke(c);d.da.add(4),await Od(d),d.Va.set("Unknown"),d.da.delete(4),await lm(d)}(this))})}),this.Va=new ez(r,i)}}async function lm(t){if(Na(t))for(const e of t.Aa)await e(!0)}async function Od(t){for(const e of t.Aa)await e(!1)}function uA(t,e){const n=ke(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ww(n)?_w(n):xu(n).N_()&&yw(n,e))}function vw(t,e){const n=ke(t),r=xu(n);n.Ea.delete(e),r.N_()&&cA(n,e),n.Ea.size===0&&(r.N_()?r.k_():Na(n)&&n.Va.set("Unknown"))}function yw(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(t).Z_(e)}function cA(t,e){t.ma.Ke(e),xu(t).X_(e)}function _w(t){t.ma=new Z9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),xu(t).start(),t.Va.ca()}function ww(t){return Na(t)&&!xu(t).O_()&&t.Ea.size>0}function Na(t){return ke(t).da.size===0}function dA(t){t.ma=void 0}async function nz(t){t.Va.set("Online")}async function rz(t){t.Ea.forEach((e,n)=>{yw(t,e)})}async function iz(t,e){dA(t),ww(t)?(t.Va.Pa(e),_w(t)):t.Va.set("Unknown")}async function sz(t,e,n){if(t.Va.set("Online"),e instanceof ZN&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){fe(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await up(t,r)}else if(e instanceof mf?t.ma.Xe(e):e instanceof GN?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ne.min()))try{const r=await oA(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.Ea.get(d);p&&s.Ea.set(d,p.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const p=s.Ea.get(c);if(!p)return;s.Ea.set(c,p.withResumeToken(hn.EMPTY_BYTE_STRING,p.snapshotVersion)),cA(s,c);const g=new Zs(p.target,c,d,p.sequenceNumber);yw(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){fe(va,"Failed to raise snapshot:",r),await up(t,r)}}async function up(t,e,n){if(!_u(e))throw e;t.da.add(1),await Od(t),t.Va.set("Offline"),n||(n=()=>oA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(va,"Retrying IndexedDB access"),await n(),t.da.delete(1),await lm(t)})}function hA(t,e){return e().catch(n=>up(t,n,e))}async function um(t){const e=ke(t),n=_o(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:rw;for(;oz(e);)try{const i=await zB(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,az(e,i)}catch(i){await up(e,i)}fA(e)&&pA(e)}function oz(t){return Na(t)&&t.Ia.length<10}function az(t,e){t.Ia.push(e);const n=_o(t);n.N_()&&n.ea&&n.ta(e.mutations)}function fA(t){return Na(t)&&!_o(t).O_()&&t.Ia.length>0}function pA(t){_o(t).start()}async function lz(t){_o(t).ia()}async function uz(t){const e=_o(t);for(const n of t.Ia)e.ta(n.mutations)}async function cz(t,e,n){const r=t.Ia.shift(),i=cw.from(r,e,n);await hA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await um(t)}async function dz(t,e){e&&_o(t).ea&&await async function(r,i){if(function(a){return K9(a)&&a!==te.ABORTED}(i.code)){const s=r.Ia.shift();_o(r).L_(),await hA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await um(r)}}(t,e),fA(t)&&pA(t)}async function F1(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),fe(va,"RemoteStore received new credentials");const r=Na(n);n.da.add(3),await Od(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await lm(n)}async function hz(t,e){const n=ke(t);e?(n.da.delete(2),await lm(n)):e||(n.da.add(2),await Od(n),n.Va.set("Unknown"))}function xu(t){return t.fa||(t.fa=function(n,r,i){const s=ke(n);return s.oa(),new YB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:nz.bind(null,t),n_:rz.bind(null,t),i_:iz.bind(null,t),Y_:sz.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),ww(t)?_w(t):t.Va.set("Unknown")):(await t.fa.stop(),dA(t))})),t.fa}function _o(t){return t.ga||(t.ga=function(n,r,i){const s=ke(n);return s.oa(),new QB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:lz.bind(null,t),i_:dz.bind(null,t),na:uz.bind(null,t),ra:cz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await um(t)):(await t.ga.stop(),t.Ia.length>0&&(fe(va,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new xw(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bw(t,e){if(ms("AsyncQueue",`${e}: ${t}`),_u(t))return new me(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.pa=new It(we.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ru{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ru(e,n,Ll.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class pz{constructor(){this.queries=z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ke(n),s=i.queries;i.queries=z1(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function z1(){return new Pa(t=>MN(t),nm)}async function mA(t,e){const n=ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new fz,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=bw(a,`Initialization of query '${al(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&Ew(n)}async function gA(t,e){const n=ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mz(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(i)&&(r=!0);a.ba=i}}r&&Ew(n)}function gz(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Ew(t){t.Ca.forEach(e=>{e.next()})}var ay,$1;($1=ay||(ay={})).xa="default",$1.Cache="cache";class vA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.key=e}}class _A{constructor(e){this.key=e}}class vz{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.Za=ON(e),this.Xa=new Ll(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new B1,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),_=rm(this.query,g)?g:null,S=!!y&&this.mutatedKeys.has(y.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;y&&_?y.data.isEqual(_.data)?S!==x&&(r.track({type:3,doc:_}),C=!0):this.ru(y,_)||(r.track({type:2,doc:_}),C=!0,(c&&this.Za(_,c)>0||d&&this.Za(_,d)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),C=!0):y&&!_&&(r.track({type:1,doc:y}),C=!0,(c||d)&&(l=!0)),C&&(_?(a=a.add(_),s=x?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Xa:a,nu:r,Cs:l,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((p,g)=>function(_,S){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:C})}};return x(_)-x(S)}(p.type,g.type)||this.Za(p.doc,g.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Ja;return this.Ja=c,a.length!==0||d?{snapshot:new ru(this.query,e.Xa,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new B1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new _A(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new yA(r))}),n}au(e){this.Ha=e.$s,this.Ya=qe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ru.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Tw="SyncEngine";class yz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _z{constructor(e){this.key=e,this.cu=!1}}class wz{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Pa(l=>MN(l),nm),this.Pu=new Map,this.Tu=new Set,this.Iu=new It(we.comparator),this.Eu=new Map,this.du=new fw,this.Au={},this.Ru=new Map,this.Vu=nu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xz(t,e,n=!0){const r=SA(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await wA(r,e,n,!0),i}async function bz(t,e){const n=SA(t);await wA(n,e,!0,!1)}async function wA(t,e,n,r){const i=await $B(t.localStore,Ci(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await Ez(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&uA(t.remoteStore,i),l}async function Ez(t,e,n,r,i){t.fu=(g,y,_)=>async function(x,C,N,T){let I=C.view.tu(N);I.Cs&&(I=await M1(x.localStore,C.query,!1).then(({documents:R})=>C.view.tu(R,I)));const O=T&&T.targetChanges.get(C.targetId),z=T&&T.targetMismatches.get(C.targetId)!=null,H=C.view.applyChanges(I,x.isPrimaryClient,O,z);return H1(x,C.targetId,H.ou),H.snapshot}(t,g,y,_);const s=await M1(t.localStore,e,!0),a=new vz(e,s.$s),l=a.tu(s.documents),c=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);H1(t,n,d.ou);const p=new yz(e,n,a);return t.hu.set(e,p),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function Tz(t,e,n){const r=ke(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(a=>!nm(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vw(r.remoteStore,i.targetId),ly(r,i.targetId)}).catch(yu)):(ly(r,i.targetId),await sy(r.localStore,i.targetId,!0))}async function Sz(t,e){const n=ke(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vw(n.remoteStore,r.targetId))}async function Cz(t,e,n){const r=Lz(t);try{const i=await function(a,l){const c=ke(a),d=Gt.now(),p=l.reduce((_,S)=>_.add(S.key),qe());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=gs(),x=qe();return c.Bs.getEntries(_,p).next(C=>{S=C,S.forEach((N,T)=>{T.isValidDocument()||(x=x.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,S)).next(C=>{g=C;const N=[];for(const T of l){const I=$9(T,g.get(T.key).overlayedDocument);I!=null&&N.push(new Ia(T.key,I,CN(I.value.mapValue),ss.exists(!0)))}return c.mutationQueue.addMutationBatch(_,d,N,l)}).next(C=>{y=C;const N=C.applyToLocalDocumentSet(g,x);return c.documentOverlayCache.saveOverlays(_,C.batchId,N)})}).then(()=>({batchId:y.batchId,changes:jN(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let d=a.Au[a.currentUser.toKey()];d||(d=new It(Be)),d=d.insert(l,c),a.Au[a.currentUser.toKey()]=d}(r,i.batchId,n),await Dd(r,i.changes),await um(r.remoteStore)}catch(i){const s=bw(i,"Failed to persist write");n.reject(s)}}async function xA(t,e){const n=ke(t);try{const r=await FB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.cu=!0:i.modifiedDocuments.size>0?nt(a.cu,14607):i.removedDocuments.size>0&&(nt(a.cu,42227),a.cu=!1))}),await Dd(n,r,e)}catch(r){await yu(r)}}function U1(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,a)=>{const l=a.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=ke(a);c.onlineState=l;let d=!1;c.queries.forEach((p,g)=>{for(const y of g.Sa)y.Fa(l)&&(d=!0)}),d&&Ew(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pz(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new It(we.comparator);a=a.insert(s,bn.newNoDocument(s,Ne.min()));const l=qe().add(s),c=new om(Ne.min(),new Map,new It(Be),a,l);await xA(r,c),r.Iu=r.Iu.remove(s),r.Eu.delete(e),Sw(r)}else await sy(r.localStore,e,!1).then(()=>ly(r,e,n)).catch(yu)}async function Iz(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await VB(n.localStore,e);EA(n,r,null),bA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(n,i)}catch(i){await yu(i)}}async function Nz(t,e,n){const r=ke(t);try{const i=await function(a,l){const c=ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,l).next(g=>(nt(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(r.localStore,e);EA(r,e,n),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dd(r,i)}catch(i){await yu(i)}}function bA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function EA(t,e,n){const r=ke(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||TA(t,r)})}function TA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(vw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Sw(t))}function H1(t,e,n){for(const r of n)r instanceof yA?(t.du.addReference(r.key,e),Az(t,r)):r instanceof _A?(fe(Tw,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||TA(t,r.key)):Ee(19791,{pu:r})}function Az(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(fe(Tw,"New document in limbo: "+n),t.Tu.add(r),Sw(t))}function Sw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new we(vt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new _z(n)),t.Iu=t.Iu.insert(n,r),uA(t.remoteStore,new Zs(Ci(lw(n.path)),r,"TargetPurposeLimboResolution",Jp.le))}}async function Dd(t,e,n){const r=ke(t),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){i.push(d);const g=mw.Rs(c.targetId,d);s.push(g)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(c,d){const p=ke(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ee.forEach(d,y=>ee.forEach(y.ds,_=>p.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>ee.forEach(y.As,_=>p.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!_u(g))throw g;fe(gw,"Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const _=p.xs.get(y),S=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(S);p.xs=p.xs.insert(y,x)}}}(r.localStore,s))}async function kz(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){fe(Tw,"User change. New user:",e.toKey());const r=await sA(n.localStore,e);n.currentUser=e,function(s,a){s.Ru.forEach(l=>{l.forEach(c=>{c.reject(new me(te.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dd(n,r.ks)}}function Rz(t,e){const n=ke(t),r=n.Eu.get(e);if(r&&r.cu)return qe().add(r.key);{let i=qe();const s=n.Pu.get(e);if(!s)return i;for(const a of s){const l=n.hu.get(a);i=i.unionWith(l.view.eu)}return i}}function SA(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pz.bind(null,e),e.lu.Y_=mz.bind(null,e.eventManager),e.lu.gu=gz.bind(null,e.eventManager),e}function Lz(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nz.bind(null,e),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return jB(this.persistence,new MB,e.initialUser,this.serializer)}Su(e){return new iA(pw.fi,this.serializer)}bu(e){return new HB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class Mz extends cp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){nt(this.persistence.referenceDelegate instanceof lp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _B(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new iA(r=>lp.fi(r,n),this.serializer)}}class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kz.bind(null,this.syncEngine),await hz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pz}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(s){return new ZB(s)}(e.databaseInfo);return function(s,a,l,c){return new JB(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new tz(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>U1(this.syncEngine,n,0),function(){return j1.C()?new j1:new WB}())}createSyncEngine(e,n){return function(i,s,a,l,c,d,p){const g=new wz(i,s,a,l,c,d);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ke(i);fe(va,"RemoteStore shutting down."),s.da.add(5),await Od(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class Oz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=gN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{fe(wo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe(wo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dz(t);fe(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F1(e.remoteStore,i)),t._onlineComponents=e}async function Dz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(wo,"Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xl("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new cp)}}else fe(wo,"Using default OfflineComponentProvider"),await wg(t,new Mz(void 0));return t._offlineComponents}async function PA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(wo,"Using user provided OnlineComponentProvider"),await W1(t,t._uninitializedComponentsProvider._online)):(fe(wo,"Using default OnlineComponentProvider"),await W1(t,new uy))),t._onlineComponents}function jz(t){return PA(t).then(e=>e.syncEngine)}async function cy(t){const e=await PA(t),n=e.eventManager;return n.onListen=xz.bind(null,e.syncEngine),n.onUnlisten=Tz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sz.bind(null,e.syncEngine),n}function Vz(t,e,n={}){const r=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,d){const p=new CA({next:y=>{p.xu(),a.enqueueAndForget(()=>gA(s,g)),y.fromCache&&c.source==="server"?d.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new vA(l,p,{includeMetadataChanges:!0,Qa:!0});return mA(s,g)}(await cy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e,n){if(!n)throw new me(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fz(t,e,n,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K1(t){if(!we.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G1(t){if(we.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(t);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",Z1=!0;class Y1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=Z1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Z1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vB)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K6;switch(r.type){case"firstParty":return new Q6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q1.get(n);r&&(fe("ComponentProvider","Removing Datastore"),q1.delete(n),r.terminate())}(this),Promise.resolve()}}function Bz(t,e,n,r={}){var i;t=oa(t,dm);const s=ew(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(b5(`https://${c}`),C5("Firestore",!0)),a.host!==AA&&a.host!==c&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:r});if(!Xf(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=wn.MOCK_USER;else{p=E5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wn(y)}t._authCredentials=new G6(new pN(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class uo extends xs{constructor(e,n,r){super(e,n,lw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new we(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function Cw(t,e,...n){if(t=ma(t),NA("collection","path",e),t instanceof dm){const r=vt.fromString(e,...n);return G1(r),new uo(t,null,r)}{if(!(t instanceof ir||t instanceof uo))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return G1(r),new uo(t.firestore,null,r)}}function zz(t,e,...n){if(t=ma(t),arguments.length===1&&(e=gN.newId()),NA("doc","path",e),t instanceof dm){const r=vt.fromString(e,...n);return K1(r),new ir(t,null,new we(r))}{if(!(t instanceof ir||t instanceof uo))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return K1(r),new ir(t.firestore,t instanceof uo?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="AsyncQueue";class X1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new aA(this,"async_queue_retry"),this.rc=()=>{const r=_g();r&&fe(Q1,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=_g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new lo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!_u(e))throw e;fe(Q1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ms("INTERNAL UNHANDLED ERROR: ",J1(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=xw.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Ee(47125,{cc:J1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function J1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gd extends dm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function $z(t,e){const n=typeof t=="object"?t:D6(),r=typeof t=="string"?t:np,i=k6(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=w5("firestore");s&&Bz(i,...s)}return i}function Pw(t){if(t._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uz(t),t._firestoreClient}function Uz(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,d,p){return new h9(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,IA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Oz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(hn.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new iu(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=/^__.*__$/;class Wz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ld(e,this.data,n,this.fieldTransforms)}}function kA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:t})}}class Rw{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Rw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return dp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(kA(this.Ic)&&Hz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class qz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}bc(e,n,r,i=!1){return new Rw({Ic:e,methodName:n,wc:r,path:ln.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RA(t){const e=t._freezeSettings(),n=am(t._databaseId);return new qz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kz(t,e,n,r,i,s={}){const a=t.bc(s.merge||s.mergeFields?2:0,e,n,i);OA("Data must be an object, but it was:",a,r);const l=LA(r,a);let c,d;if(s.merge)c=new Hr(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Zz(e,g,n);if(!a.contains(y))throw new me(te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Qz(p,y)||p.push(y)}c=new Hr(p),d=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=a.fieldTransforms;return new Wz(new Er(l),c,d)}class Lw extends Nw{_toFieldTransform(e){return new V9(e.path,new fd)}isEqual(e){return e instanceof Lw}}function Gz(t,e,n,r=!1){return Mw(n,t.bc(r?4:3,e))}function Mw(t,e){if(MA(t=ma(t)))return OA("Unsupported field value:",e,t),LA(t,e);if(t instanceof Nw)return function(r,i){if(!kA(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=Mw(l,i.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ma(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Gt.fromDate(r);return{timestampValue:ap(i.serializer,s)}}if(r instanceof Gt){const s=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,s)}}if(r instanceof Aw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof iu)return{bytesValue:YN(i.serializer,r._byteString)};if(r instanceof ir){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kw)return function(a,l){return{mapValue:{fields:{[TN]:{stringValue:SN},[rp]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return uw(l.serializer,d)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${cm(r)}`)}(t,e)}function LA(t,e){const n={};return yN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,(r,i)=>{const s=Mw(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function MA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Aw||t instanceof iu||t instanceof ir||t instanceof Nw||t instanceof kw)}function OA(t,e,n){if(!MA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Zz(t,e,n){if((e=ma(e))instanceof Iw)return e._internalPath;if(typeof e=="string")return DA(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yz=new RegExp("[~\\*/\\[\\]]");function DA(t,e,n){if(e.search(Yz)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iw(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new me(te.INVALID_ARGUMENT,l+t+c)}function Qz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ow("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xz extends jA{data(){return super.data()}}function Ow(t,e){return typeof e=="string"?DA(t,e):e instanceof Iw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class jw extends Dw{}function FA(t,e,...n){let r=[];e instanceof Dw&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof Fw).length,l=s.filter(c=>c instanceof Vw).length;if(a>1||a>0&&l>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vw extends jw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vw(e,n,r)}_apply(e){const n=this._parse(e);return zA(e._query,n),new xs(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=RA(e.firestore);return function(s,a,l,c,d,p,g){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){nE(g,p);const S=[];for(const x of g)S.push(tE(c,s,x));y={arrayValue:{values:S}}}else y=tE(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||nE(g,p),y=Gz(l,a,g,p==="in"||p==="not-in");return $t.create(d,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fw extends Dw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)zA(a,c),a=ey(a,c)}(e._query,n),new xs(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bw extends jw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bw(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hd(s,a)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new wu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function BA(t,e="asc"){const n=e,r=Ow("orderBy",t);return Bw._create(r,n)}class zw extends jw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zw(e,n,r)}_apply(e){return new xs(e.firestore,e.converter,sp(e._query,this._limit,this._limitType))}}function Jz(t){return zw._create("limit",t,"F")}function tE(t,e,n){if(typeof(n=ma(n))=="string"){if(n==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LN(e)&&n.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!we.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m1(t,new we(r))}if(n instanceof ir)return m1(t,n._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function nE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zA(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e${convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ca(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[rp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Lt(a.doubleValue));return new kw(s)}convertGeoPoint(e){return new Aw(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const n=go(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);nt(nA(r),9688,{name:e});const i=new cd(r.get(1),r.get(3)),s=new we(r.popFirst(5));return i.isEqual(n)||ms(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $A extends jA{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ow("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gf extends $A{data(e={}){return super.data(e)}}class UA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new gf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new gf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:n$(l.type),doc:c,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function n$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}class $w extends e${constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,n)}}function r$(t){t=oa(t,xs);const e=oa(t.firestore,gd),n=Pw(e),r=new $w(e);return VA(t._query),Vz(n,t._query).then(i=>new UA(e,r,t,i))}function i$(t,e){const n=oa(t.firestore,gd),r=zz(t),i=t$(t.converter,e);return o$(n,[Kz(RA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ss.exists(!1))]).then(()=>r)}function s$(t,...e){var n,r,i;t=ma(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||eE(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(eE(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,d,p;if(t instanceof ir)d=oa(t.firestore,gd),p=lw(t._key.path),c={next:g=>{e[a]&&e[a](a$(d,t,g))},error:e[a+1],complete:e[a+2]};else{const g=oa(t,xs);d=oa(g.firestore,gd),p=g._query;const y=new $w(d);c={next:_=>{e[a]&&e[a](new UA(d,y,g,_))},error:e[a+1],complete:e[a+2]},VA(t._query)}return function(y,_,S,x){const C=new CA(x),N=new vA(_,C,S);return y.asyncQueue.enqueueAndForget(async()=>mA(await cy(y),N)),()=>{C.xu(),y.asyncQueue.enqueueAndForget(async()=>gA(await cy(y),N))}}(Pw(d),p,l,c)}function o$(t,e){return function(r,i){const s=new lo;return r.asyncQueue.enqueueAndForget(async()=>Cz(await jz(r),i,s)),s.promise}(Pw(t),e)}function a$(t,e,n){const r=n.docs.get(e._key),i=new $w(t);return new $A(t,i,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function l$(){return new Lw("serverTimestamp")}(function(e,n=!0){(function(i){vu=i})(O6),ep(new od("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new gd(new Z6(r.getProvider("auth-internal")),new X6(a,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Rl(r1,i1,e),Rl(r1,i1,"esm2017")})();var u$="firebase",c$="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rl(u$,c$,"app");const d$={apiKey:"AIzaSyCXmbx31x0F_dBGGctS16l7aWKRtUcJ8e0M",authDomain:"comunidad-segura-b16d6.firebaseapp.com",projectId:"comunidad-segura-b16d6",storageBucket:"comunidad-segura-b16d6.appspot.com",messagingSenderId:"753593523354",appId:"1:753593523354:web:8a4dbbd7afb83d04d85323",measurementId:"G-1NFZJRSGBZ"},h$=iN(d$),Uw=$z(h$),Hw=t=>{if(!t)return"Recently";const e=new Date,n=t.toDate?t.toDate():new Date(t),r=e.getTime()-n.getTime(),i=Math.floor(r/6e4);if(i<1)return"Just now";if(i<60)return`${i} min${i!==1?"s":""} ago`;const s=Math.floor(i/60);if(s<24)return`${s} hour${s!==1?"s":""} ago`;const a=Math.floor(s/24);if(a<7)return`${a} day${a!==1?"s":""} ago`;const l=Math.floor(a/7);return`${l} week${l!==1?"s":""} ago`},HA=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0);return b.useEffect(()=>{const i=FA(Cw(Uw,"iceReports"),BA("timestamp","desc"),Jz(2)),s=s$(i,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));e(l),r(!1)});return()=>s()},[]),m.jsxs("div",{className:"bg-white rounded-xl shadow-md p-3",children:[m.jsxs("h2",{className:"text-base font-bold mb-2 text-center flex items-center justify-center gap-2",children:["🚨 ",m.jsx("span",{children:"Live ICE Alerts"})]}),n?m.jsx("div",{className:"flex justify-center py-2",children:m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})}):t.length===0?m.jsx("p",{className:"text-center text-gray-600 py-2 text-xs",children:"No recent alerts"}):m.jsx("div",{className:"space-y-2 max-h-20 overflow-y-auto",children:t.map(i=>m.jsx("div",{className:"border-l-3 border-red-500 pl-2 py-1 bg-gray-50 rounded-r-lg",children:m.jsxs("div",{className:"flex justify-between items-start gap-2",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("span",{className:"font-semibold text-red-600 text-xs",children:["📍 ",i.type||"ICE Activity"]}),i.location&&m.jsx("p",{className:"text-xs text-gray-600 truncate",children:i.location})]}),m.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:Hw(i.timestamp)})]})},i.id))})]})},f$=()=>{const{t}=_s(),e=[{name:"International Rescue Committee (IRC)",description:"Provides comprehensive services to refugees and immigrants",phone:"1-213-386-6700",website:"https://www.rescue.org/los-angeles"},{name:"Coalition for Humane Immigrant Rights (CHIRLA)",description:"Advocates for immigrant rights and provides legal services",phone:"1-213-201-8900",website:"https://chirla.org"},{name:"Interfaith Refugee and Immigration Service (IRIS)",description:"Faith-based organization supporting immigrants and refugees",phone:"1-203-336-0141",website:"https://irisct.org"},{name:"International Institute of Los Angeles (IILA)",description:"Provides immigration services and community support",phone:"1-213-385-7800",website:"https://internationalinstitutela.org"}];return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[m.jsxs("div",{className:"py-12 px-8 text-center",children:[m.jsx("img",{src:"/logo-image/logo.png",alt:"Comunidad Segura Logo",className:"w-20 h-20 mx-auto mb-6"}),m.jsx("h1",{className:"text-5xl font-extrabold text-gray-800 mb-4",children:t("title")}),m.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:t("description")})]}),m.jsxs("div",{className:"max-w-7xl mx-auto px-8 pb-16",children:[m.jsx("div",{className:"mb-8",children:m.jsx(Bt,{to:"/report",className:"block",children:m.jsxs(Fe,{className:"w-full bg-red-500 hover:bg-red-600 text-white py-8 text-2xl font-bold rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02]",children:["📢 ",t("Report ICE Activity")]})})}),m.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[m.jsx(Bt,{to:"/map",className:"block",children:m.jsxs(Fe,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-8 text-xl font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:["🗺️ ",t("View Safety Map")]})}),m.jsx(Bt,{to:"/know-your-rights",className:"block",children:m.jsxs(Fe,{className:"w-full bg-green-500 hover:bg-green-600 text-white py-8 text-xl font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:["⚖️ ",t("Know Your Rights")]})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[m.jsx("div",{children:m.jsx(HA,{})}),m.jsx("div",{children:m.jsxs(hI,{children:[m.jsx(fI,{asChild:!0,children:m.jsxs(Fe,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-8 text-xl font-bold rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] flex items-center justify-center gap-3",children:[m.jsx(is,{className:"h-8 w-8"}),m.jsx("span",{children:t("Get Help Now")})]})}),m.jsxs(G_,{className:"w-full sm:max-w-lg overflow-y-auto",children:[m.jsxs(Z_,{children:[m.jsxs(Y_,{className:"flex items-center gap-2 text-xl",children:[m.jsx(is,{className:"h-6 w-6 text-red-500"}),"Emergency Help"]}),m.jsx(Q_,{className:"text-base",children:"Choose an option below to get immediate help"})]}),m.jsxs("div",{className:"space-y-4 mt-6",children:[m.jsxs(Ni,{className:"border-red-200 bg-red-50",children:[m.jsx(hs,{className:"pb-3",children:m.jsxs(fs,{className:"text-red-800 flex items-center gap-2 text-lg",children:[m.jsx(is,{className:"h-5 w-5"}),"Emergency Contacts"]})}),m.jsxs(Ai,{className:"space-y-3",children:[m.jsx(Fe,{className:"w-full bg-red-600 hover:bg-red-700 py-3 text-lg",onClick:()=>window.location.href="tel:911",children:"📞 Call 911"}),m.jsx(Fe,{variant:"outline",className:"w-full py-3 text-lg",onClick:()=>{const n=JSON.parse(localStorage.getItem("emergencyContacts")||"[]");n.length>0?window.location.href=`tel:${n[0].phone}`:alert("No emergency contacts set. Please add them in Settings.")},children:"📱 Call My Emergency Contact"})]})]}),m.jsxs(Ni,{children:[m.jsxs(hs,{className:"pb-3",children:[m.jsxs(fs,{className:"flex items-center gap-2 text-lg",children:[m.jsx(y_,{className:"h-5 w-5 text-blue-500"}),"Legal Help Organizations"]}),m.jsx(j_,{className:"text-sm",children:"Organizations that can provide support and assistance"})]}),m.jsx(Ai,{className:"space-y-3",children:e.map((n,r)=>m.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[m.jsx("h4",{className:"font-semibold text-sm",children:n.name}),m.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:n.description}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs(Fe,{variant:"outline",size:"sm",className:"w-full py-2",onClick:()=>window.location.href=`tel:${n.phone}`,children:["📞 ",n.phone]}),m.jsxs(Fe,{variant:"ghost",size:"sm",className:"w-full py-2",onClick:()=>window.open(n.website,"_blank"),children:[m.jsx(pC,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]},r))})]})]})]})]})})]})]}),m.jsx("footer",{className:"bg-white/95 border-t border-gray-200 py-8",children:m.jsxs("div",{className:"px-8 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[m.jsx("img",{src:"/logo-image/logo.png",alt:"Comunidad Segura Logo",className:"h-8 w-8"}),m.jsx("h3",{className:"text-2xl font-extrabold text-gray-900",children:t("title")})]}),m.jsxs("div",{className:"flex justify-center gap-8 text-lg mb-3",children:[m.jsx(Bt,{to:"/map",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Safety Map"}),m.jsx(Bt,{to:"/report",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Report"}),m.jsx(Bt,{to:"/settings",className:"text-gray-600 hover:text-blue-700 transition-colors",children:"Settings"})]}),m.jsx("p",{className:"text-base text-gray-500 text-center",children:"© 2025 Comunidad Segura"})]})})]})},p$=()=>{const{t}=_s(),e=[{name:"International Rescue Committee (IRC)",description:"Provides comprehensive services to refugees and immigrants",phone:"1-213-386-6700",website:"https://www.rescue.org/los-angeles"},{name:"Coalition for Humane Immigrant Rights (CHIRLA)",description:"Advocates for immigrant rights and provides legal services",phone:"1-213-201-8900",website:"https://chirla.org"},{name:"Interfaith Refugee and Immigration Service (IRIS)",description:"Faith-based organization supporting immigrants and refugees",phone:"1-203-336-0141",website:"https://irisct.org"},{name:"International Institute of Los Angeles (IILA)",description:"Provides immigration services and community support",phone:"1-213-385-7800",website:"https://internationalinstitutela.org"}];return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"hidden lg:block",children:[m.jsx(f$,{}),m.jsx($v,{})]}),m.jsxs("div",{className:"lg:hidden h-screen bg-gradient-to-b from-orange-50 to-red-50 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"p-4 text-center",children:[m.jsx("img",{src:"/logo-image/logo.png",alt:"Comunidad Segura Logo",className:"w-12 h-12 mx-auto mb-2"}),m.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:t("title")}),m.jsx("p",{className:"text-xs text-gray-700 px-4 leading-tight",children:t("description")})]}),m.jsx("div",{className:"flex-1 px-4 space-y-4 min-h-0",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx(Bt,{to:"/report",className:"block",children:m.jsx(Fe,{className:"w-full bg-red-500 hover:bg-red-600 text-white py-4 text-base font-semibold rounded-xl shadow-lg",children:"📢 Report ICE Activity"})}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Bt,{to:"/map",className:"block",children:m.jsx(Fe,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-4 text-base font-semibold rounded-xl shadow-lg",children:"🗺️ View Safety Map"})}),m.jsx(Bt,{to:"/know-your-rights",className:"block",children:m.jsx(Fe,{className:"w-full bg-green-500 hover:bg-green-600 text-white py-4 text-base font-semibold rounded-xl shadow-lg",children:"⚖️ Know Your Rights"})})]}),m.jsxs(hI,{children:[m.jsx(fI,{asChild:!0,children:m.jsxs(Fe,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 text-base font-semibold rounded-xl shadow-lg flex items-center justify-center gap-2",children:[m.jsx(is,{className:"h-5 w-5"}),m.jsx("span",{children:"Get Help Now"})]})}),m.jsxs(G_,{className:"w-full sm:max-w-lg overflow-y-auto",children:[m.jsxs(Z_,{children:[m.jsxs(Y_,{className:"flex items-center gap-2 text-xl",children:[m.jsx(is,{className:"h-6 w-6 text-red-500"}),"Emergency Help"]}),m.jsx(Q_,{className:"text-base",children:"Choose an option below to get immediate help"})]}),m.jsxs("div",{className:"space-y-4 mt-6",children:[m.jsxs(Ni,{className:"border-red-200 bg-red-50",children:[m.jsx(hs,{className:"pb-3",children:m.jsxs(fs,{className:"text-red-800 flex items-center gap-2 text-lg",children:[m.jsx(is,{className:"h-5 w-5"}),"Emergency Contacts"]})}),m.jsxs(Ai,{className:"space-y-3",children:[m.jsx(Fe,{className:"w-full bg-red-600 hover:bg-red-700 py-3 text-lg",onClick:()=>window.location.href="tel:911",children:"📞 Call 911"}),m.jsx(Fe,{variant:"outline",className:"w-full py-3 text-lg",onClick:()=>{const n=JSON.parse(localStorage.getItem("emergencyContacts")||"[]");n.length>0?window.location.href=`tel:${n[0].phone}`:alert("No emergency contacts set. Please add them in Settings.")},children:"📱 Call My Emergency Contact"})]})]}),m.jsxs(Ni,{children:[m.jsxs(hs,{className:"pb-3",children:[m.jsxs(fs,{className:"flex items-center gap-2 text-lg",children:[m.jsx(y_,{className:"h-5 w-5 text-blue-500"}),"Legal Help Organizations"]}),m.jsx(j_,{className:"text-sm",children:"Organizations that can provide support and assistance"})]}),m.jsx(Ai,{className:"space-y-3",children:e.map((n,r)=>m.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[m.jsx("h4",{className:"font-semibold text-sm",children:n.name}),m.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:n.description}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs(Fe,{variant:"outline",size:"sm",className:"w-full py-2",onClick:()=>window.location.href=`tel:${n.phone}`,children:["📞 ",n.phone]}),m.jsxs(Fe,{variant:"ghost",size:"sm",className:"w-full py-2",onClick:()=>window.open(n.website,"_blank"),children:[m.jsx(pC,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]},r))})]})]})]})]}),m.jsx("div",{className:"py-1",children:m.jsx(HA,{})})]})}),m.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200 mt-auto",children:m.jsxs("div",{className:"px-4 py-2 lg:px-8 lg:max-w-6xl lg:mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1 lg:mb-3",children:[m.jsx("img",{src:"/logo-image/logo.png",alt:"Comunidad Segura Logo",className:"h-4 w-4 lg:h-6 lg:w-6"}),m.jsx("h3",{className:"text-sm font-bold text-gray-900 lg:text-lg lg:font-extrabold",children:t("title")})]}),m.jsxs("div",{className:"flex justify-center gap-4 text-xs mb-1 lg:gap-8 lg:text-sm lg:mb-2",children:[m.jsx(Bt,{to:"/map",className:"text-gray-600 hover:text-blue-600 lg:hover:text-blue-700 lg:transition-colors",children:"Safety Map"}),m.jsx(Bt,{to:"/report",className:"text-gray-600 hover:text-blue-600 lg:hover:text-blue-700 lg:transition-colors",children:"Report"}),m.jsx(Bt,{to:"/settings",className:"text-gray-600 hover:text-blue-600 lg:hover:text-blue-700 lg:transition-colors",children:"Settings"})]}),m.jsx("p",{className:"text-xs text-gray-600 text-center lg:text-sm lg:text-gray-500",children:"© 2025 Comunidad Segura"})]})}),m.jsx($v,{})]})]})};function rE(t,[e,n]){return Math.min(n,Math.max(e,t))}var m$=b.createContext(void 0);function g$(t){const e=b.useContext(m$);return t||e||"ltr"}var v$=[" ","Enter","ArrowUp","ArrowDown"],y$=[" ","Enter"],ya="Select",[hm,fm,_$]=VS(ya),[bu,wH]=ys(ya,[_$,pu]),pm=pu(),[w$,So]=bu(ya),[x$,b$]=bu(ya),WA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:d,name:p,autoComplete:g,disabled:y,required:_,form:S}=t,x=pm(e),[C,N]=b.useState(null),[T,I]=b.useState(null),[O,z]=b.useState(!1),H=g$(d),[R,A]=Zl({prop:r,defaultProp:i??!1,onChange:s,caller:ya}),[D,j]=Zl({prop:a,defaultProp:l,onChange:c,caller:ya}),F=b.useRef(null),B=C?S||!!C.closest("form"):!0,[V,X]=b.useState(new Set),ve=Array.from(V).map(se=>se.props.value).join(";");return m.jsx(KC,{...x,children:m.jsxs(w$,{required:_,scope:e,trigger:C,onTriggerChange:N,valueNode:T,onValueNodeChange:I,valueNodeHasChildren:O,onValueNodeHasChildrenChange:z,contentId:ra(),value:D,onValueChange:j,open:R,onOpenChange:A,dir:H,triggerPointerDownPosRef:F,disabled:y,children:[m.jsx(hm.Provider,{scope:e,children:m.jsx(x$,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(se=>{X(Q=>new Set(Q).add(se))},[]),onNativeOptionRemove:b.useCallback(se=>{X(Q=>{const $=new Set(Q);return $.delete(se),$})},[]),children:n})}),B?m.jsxs(mk,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:g,value:D,onChange:se=>j(se.target.value),disabled:y,form:S,children:[D===void 0?m.jsx("option",{value:""}):null,Array.from(V)]},ve):null]})})};WA.displayName=ya;var qA="SelectTrigger",KA=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=pm(n),a=So(qA,n),l=a.disabled||r,c=tt(e,a.onTriggerChange),d=fm(n),p=b.useRef("touch"),[g,y,_]=vk(x=>{const C=d().filter(I=>!I.disabled),N=C.find(I=>I.value===a.value),T=yk(C,x,N);T!==void 0&&a.onValueChange(T.value)}),S=x=>{l||(a.onOpenChange(!0),_()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return m.jsx(zp,{asChild:!0,...s,children:m.jsx($e.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gk(a.value)?"":void 0,...i,ref:c,onClick:Ce(i.onClick,x=>{x.currentTarget.focus(),p.current!=="mouse"&&S(x)}),onPointerDown:Ce(i.onPointerDown,x=>{p.current=x.pointerType;const C=x.target;C.hasPointerCapture(x.pointerId)&&C.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:Ce(i.onKeyDown,x=>{const C=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(C&&x.key===" ")&&v$.includes(x.key)&&(S(),x.preventDefault())})})})});KA.displayName=qA;var GA="SelectValue",ZA=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,c=So(GA,n),{onValueNodeHasChildrenChange:d}=c,p=s!==void 0,g=tt(e,c.onValueNodeChange);return dn(()=>{d(p)},[d,p]),m.jsx($e.span,{...l,ref:g,style:{pointerEvents:"none"},children:gk(c.value)?m.jsx(m.Fragment,{children:a}):s})});ZA.displayName=GA;var E$="SelectIcon",YA=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});YA.displayName=E$;var T$="SelectPortal",QA=t=>m.jsx(Pd,{asChild:!0,...t});QA.displayName=T$;var _a="SelectContent",XA=b.forwardRef((t,e)=>{const n=So(_a,t.__scopeSelect),[r,i]=b.useState();if(dn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ea.createPortal(m.jsx(JA,{scope:t.__scopeSelect,children:m.jsx(hm.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(ek,{...t,ref:e})});XA.displayName=_a;var jr=10,[JA,Co]=bu(_a),S$="SelectContentImpl",C$=ha("SelectContent.RemoveScroll"),ek=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:S,hideWhenDetached:x,avoidCollisions:C,...N}=t,T=So(_a,n),[I,O]=b.useState(null),[z,H]=b.useState(null),R=tt(e,ae=>O(ae)),[A,D]=b.useState(null),[j,F]=b.useState(null),B=fm(n),[V,X]=b.useState(!1),ve=b.useRef(!1);b.useEffect(()=>{if(I)return F_(I)},[I]),V_();const se=b.useCallback(ae=>{const[je,...ut]=B().map(Oe=>Oe.ref.current),[Ve]=ut.slice(-1),Re=document.activeElement;for(const Oe of ae)if(Oe===Re||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===je&&z&&(z.scrollTop=0),Oe===Ve&&z&&(z.scrollTop=z.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Re))return},[B,z]),Q=b.useCallback(()=>se([A,I]),[se,A,I]);b.useEffect(()=>{V&&Q()},[V,Q]);const{onOpenChange:$,triggerPointerDownPosRef:Z}=T;b.useEffect(()=>{if(I){let ae={x:0,y:0};const je=Ve=>{var Re,Oe;ae={x:Math.abs(Math.round(Ve.pageX)-(((Re=Z.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Oe=Z.current)==null?void 0:Oe.y)??0))}},ut=Ve=>{ae.x<=10&&ae.y<=10?Ve.preventDefault():I.contains(Ve.target)||$(!1),document.removeEventListener("pointermove",je),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",ut,{capture:!0})}}},[I,$,Z]),b.useEffect(()=>{const ae=()=>$(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[$]);const[Y,ie]=vk(ae=>{const je=B().filter(Re=>!Re.disabled),ut=je.find(Re=>Re.ref.current===document.activeElement),Ve=yk(je,ae,ut);Ve&&setTimeout(()=>Ve.ref.current.focus())}),oe=b.useCallback((ae,je,ut)=>{const Ve=!ve.current&&!ut;(T.value!==void 0&&T.value===je||Ve)&&(D(ae),Ve&&(ve.current=!0))},[T.value]),ce=b.useCallback(()=>I==null?void 0:I.focus(),[I]),he=b.useCallback((ae,je,ut)=>{const Ve=!ve.current&&!ut;(T.value!==void 0&&T.value===je||Ve)&&F(ae)},[T.value]),ge=r==="popper"?dy:tk,ye=ge===dy?{side:l,sideOffset:c,align:d,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:S,hideWhenDetached:x,avoidCollisions:C}:{};return m.jsx(JA,{scope:n,content:I,viewport:z,onViewportChange:H,itemRefCallback:oe,selectedItem:A,onItemLeave:ce,itemTextRefCallback:he,focusSelectedItem:Q,selectedItemText:j,position:r,isPositioned:V,searchRef:Y,children:m.jsx(Qp,{as:C$,allowPinchZoom:!0,children:m.jsx(Zp,{asChild:!0,trapped:T.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ce(i,ae=>{var je;(je=T.trigger)==null||je.focus({preventScroll:!0}),ae.preventDefault()}),children:m.jsx(cu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:m.jsx(ge,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ae=>ae.preventDefault(),...N,...ye,onPlaced:()=>X(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ce(N.onKeyDown,ae=>{const je=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!je&&ae.key.length===1&&ie(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ve=B().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Re=ae.target,Oe=Ve.indexOf(Re);Ve=Ve.slice(Oe+1)}setTimeout(()=>se(Ve)),ae.preventDefault()}})})})})})})});ek.displayName=S$;var P$="SelectItemAlignedPosition",tk=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=So(_a,n),a=Co(_a,n),[l,c]=b.useState(null),[d,p]=b.useState(null),g=tt(e,R=>p(R)),y=fm(n),_=b.useRef(!1),S=b.useRef(!0),{viewport:x,selectedItem:C,selectedItemText:N,focusSelectedItem:T}=a,I=b.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&C&&N){const R=s.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),j=N.getBoundingClientRect();if(s.dir!=="rtl"){const Re=j.left-A.left,Oe=D.left-Re,_t=R.left-Oe,Yt=R.width+_t,Ln=Math.max(Yt,A.width),Mn=window.innerWidth-jr,Gn=rE(Oe,[jr,Math.max(jr,Mn-Ln)]);l.style.minWidth=Yt+"px",l.style.left=Gn+"px"}else{const Re=A.right-j.right,Oe=window.innerWidth-D.right-Re,_t=window.innerWidth-R.right-Oe,Yt=R.width+_t,Ln=Math.max(Yt,A.width),Mn=window.innerWidth-jr,Gn=rE(Oe,[jr,Math.max(jr,Mn-Ln)]);l.style.minWidth=Yt+"px",l.style.right=Gn+"px"}const F=y(),B=window.innerHeight-jr*2,V=x.scrollHeight,X=window.getComputedStyle(d),ve=parseInt(X.borderTopWidth,10),se=parseInt(X.paddingTop,10),Q=parseInt(X.borderBottomWidth,10),$=parseInt(X.paddingBottom,10),Z=ve+se+V+$+Q,Y=Math.min(C.offsetHeight*5,Z),ie=window.getComputedStyle(x),oe=parseInt(ie.paddingTop,10),ce=parseInt(ie.paddingBottom,10),he=R.top+R.height/2-jr,ge=B-he,ye=C.offsetHeight/2,ae=C.offsetTop+ye,je=ve+se+ae,ut=Z-je;if(je<=he){const Re=F.length>0&&C===F[F.length-1].ref.current;l.style.bottom="0px";const Oe=d.clientHeight-x.offsetTop-x.offsetHeight,_t=Math.max(ge,ye+(Re?ce:0)+Oe+Q),Yt=je+_t;l.style.height=Yt+"px"}else{const Re=F.length>0&&C===F[0].ref.current;l.style.top="0px";const _t=Math.max(he,ve+x.offsetTop+(Re?oe:0)+ye)+ut;l.style.height=_t+"px",x.scrollTop=je-he+x.offsetTop}l.style.margin=`${jr}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[y,s.trigger,s.valueNode,l,d,x,C,N,s.dir,r]);dn(()=>I(),[I]);const[O,z]=b.useState();dn(()=>{d&&z(window.getComputedStyle(d).zIndex)},[d]);const H=b.useCallback(R=>{R&&S.current===!0&&(I(),T==null||T(),S.current=!1)},[I,T]);return m.jsx(N$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:_,onScrollButtonChange:H,children:m.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:m.jsx($e.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tk.displayName=P$;var I$="SelectPopperPosition",dy=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=jr,...s}=t,a=pm(n);return m.jsx(N_,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dy.displayName=I$;var[N$,Ww]=bu(_a,{}),hy="SelectViewport",nk=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Co(hy,n),a=Ww(hy,n),l=tt(e,s.onViewportChange),c=b.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(hm.Slot,{scope:n,children:m.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,d=>{const p=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=a;if(y!=null&&y.current&&g){const _=Math.abs(c.current-p.scrollTop);if(_>0){const S=window.innerHeight-jr*2,x=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),N=Math.max(x,C);if(N<S){const T=N+_,I=Math.min(S,T),O=T-I;g.style.height=I+"px",g.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});nk.displayName=hy;var rk="SelectGroup",[A$,k$]=bu(rk),R$=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ra();return m.jsx(A$,{scope:n,id:i,children:m.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});R$.displayName=rk;var ik="SelectLabel",sk=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=k$(ik,n);return m.jsx($e.div,{id:i.id,...r,ref:e})});sk.displayName=ik;var hp="SelectItem",[L$,ok]=bu(hp),ak=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=So(hp,n),c=Co(hp,n),d=l.value===r,[p,g]=b.useState(s??""),[y,_]=b.useState(!1),S=tt(e,T=>{var I;return(I=c.itemRefCallback)==null?void 0:I.call(c,T,r,i)}),x=ra(),C=b.useRef("touch"),N=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(L$,{scope:n,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:b.useCallback(T=>{g(I=>I||((T==null?void 0:T.textContent)??"").trim())},[]),children:m.jsx(hm.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:m.jsx($e.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:S,onFocus:Ce(a.onFocus,()=>_(!0)),onBlur:Ce(a.onBlur,()=>_(!1)),onClick:Ce(a.onClick,()=>{C.current!=="mouse"&&N()}),onPointerUp:Ce(a.onPointerUp,()=>{C.current==="mouse"&&N()}),onPointerDown:Ce(a.onPointerDown,T=>{C.current=T.pointerType}),onPointerMove:Ce(a.onPointerMove,T=>{var I;C.current=T.pointerType,i?(I=c.onItemLeave)==null||I.call(c):C.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(a.onPointerLeave,T=>{var I;T.currentTarget===document.activeElement&&((I=c.onItemLeave)==null||I.call(c))}),onKeyDown:Ce(a.onKeyDown,T=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&T.key===" "||(y$.includes(T.key)&&N(),T.key===" "&&T.preventDefault())})})})})});ak.displayName=hp;var vc="SelectItemText",lk=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=So(vc,n),l=Co(vc,n),c=ok(vc,n),d=b$(vc,n),[p,g]=b.useState(null),y=tt(e,N=>g(N),c.onItemTextChange,N=>{var T;return(T=l.itemTextRefCallback)==null?void 0:T.call(l,N,c.value,c.disabled)}),_=p==null?void 0:p.textContent,S=b.useMemo(()=>m.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:x,onNativeOptionRemove:C}=d;return dn(()=>(x(S),()=>C(S)),[x,C,S]),m.jsxs(m.Fragment,{children:[m.jsx($e.span,{id:c.textId,...s,ref:y}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ea.createPortal(s.children,a.valueNode):null]})});lk.displayName=vc;var uk="SelectItemIndicator",ck=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ok(uk,n).isSelected?m.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});ck.displayName=uk;var fy="SelectScrollUpButton",dk=b.forwardRef((t,e)=>{const n=Co(fy,t.__scopeSelect),r=Ww(fy,t.__scopeSelect),[i,s]=b.useState(!1),a=tt(e,r.onScrollButtonChange);return dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?m.jsx(fk,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dk.displayName=fy;var py="SelectScrollDownButton",hk=b.forwardRef((t,e)=>{const n=Co(py,t.__scopeSelect),r=Ww(py,t.__scopeSelect),[i,s]=b.useState(!1),a=tt(e,r.onScrollButtonChange);return dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<d;s(p)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?m.jsx(fk,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hk.displayName=py;var fk=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Co("SelectScrollButton",n),a=b.useRef(null),l=fm(n),c=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),dn(()=>{var p;const d=l().find(g=>g.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),m.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{c()})})}),M$="SelectSeparator",pk=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});pk.displayName=M$;var my="SelectArrow",O$=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pm(n),s=So(my,n),a=Co(my,n);return s.open&&a.position==="popper"?m.jsx(A_,{...i,...r,ref:e}):null});O$.displayName=my;var D$="SelectBubbleInput",mk=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=b.useRef(null),s=tt(r,i),a=IP(e);return b.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&p){const g=new Event("change",{bubbles:!0});p.call(l,e),l.dispatchEvent(g)}},[a,e]),m.jsx($e.select,{...n,style:{...US,...n.style},ref:s,defaultValue:e})});mk.displayName=D$;function gk(t){return t===""||t===void 0}function vk(t){const e=Zr(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const l=n.current+a;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function yk(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=j$(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function j$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var V$=WA,_k=KA,F$=ZA,B$=YA,z$=QA,wk=XA,$$=nk,xk=sk,bk=ak,U$=lk,H$=ck,Ek=dk,Tk=hk,Sk=pk;const fp=V$,pp=F$,vd=b.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(_k,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(B$,{asChild:!0,children:m.jsx(fC,{className:"h-4 w-4 opacity-50"})})]}));vd.displayName=_k.displayName;const Ck=b.forwardRef(({className:t,...e},n)=>m.jsx(Ek,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(hO,{className:"h-4 w-4"})}));Ck.displayName=Ek.displayName;const Pk=b.forwardRef(({className:t,...e},n)=>m.jsx(Tk,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(fC,{className:"h-4 w-4"})}));Pk.displayName=Tk.displayName;const yd=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(z$,{children:m.jsx(wk,{ref:i,className:Ae("relative z-[9999] min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-900 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:m.jsxs("div",{className:"max-h-[200px] overflow-y-auto",children:[m.jsx(Ck,{}),m.jsx($$,{className:"p-1",children:e}),m.jsx(Pk,{})]})})}));yd.displayName=wk.displayName;const W$=b.forwardRef(({className:t,...e},n)=>m.jsx(xk,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));W$.displayName=xk.displayName;const nn=b.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(bk,{ref:r,className:Ae("relative flex w-full cursor-pointer select-none items-center rounded-sm py-2 pl-8 pr-2 text-sm text-gray-900 outline-none","hover:bg-gray-100 focus:bg-gray-100 focus:text-gray-900","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(H$,{children:m.jsx(uO,{className:"h-4 w-4 text-gray-900"})})}),m.jsx(U$,{children:e})]}));nn.displayName=bk.displayName;const q$=b.forwardRef(({className:t,...e},n)=>m.jsx(Sk,{ref:n,className:Ae("-mx-1 my-1 h-px bg-gray-200",t),...e}));q$.displayName=Sk.displayName;const Ik=b.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ik.displayName="Textarea";const Go=b.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Go.displayName="Input";const K$=async t=>{try{const n=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=1&countrycodes=us`)).json();return n&&n.length>0?{lat:parseFloat(n[0].lat),lng:parseFloat(n[0].lon),display_name:n[0].display_name}:null}catch(e){return console.error("Geocoding error:",e),null}},G$=async t=>{if(t.length<3)return[];try{return(await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=5&addressdetails=1&countrycodes=us`)).json()).map(r=>r.display_name)}catch(e){return console.error("Address suggestions error:",e),[]}},Z$=({value:t,onChange:e,placeholder:n,id:r})=>{const[i,s]=b.useState([]),[a,l]=b.useState(!1),[c,d]=b.useState(!1),p=b.useRef(null),g=b.useRef();b.useEffect(()=>(g.current&&clearTimeout(g.current),t.length>=3?(d(!0),g.current=setTimeout(async()=>{const S=await G$(t);s(S),l(!0),d(!1)},300)):(s([]),l(!1),d(!1)),()=>{g.current&&clearTimeout(g.current)}),[t]);const y=S=>{e(S),l(!1)},_=()=>{setTimeout(()=>l(!1),200)};return m.jsxs("div",{className:"relative",children:[m.jsx(Go,{ref:p,id:r,value:t,onChange:S=>e(S.target.value),onBlur:_,onFocus:()=>{i.length>0&&l(!0)},placeholder:n}),c&&m.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"})}),a&&i.length>0&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((S,x)=>m.jsx("button",{type:"button",className:"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none text-sm",onClick:()=>y(S),children:S},x))})]})};function Je(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function or(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function In(t,e){const n=Je(t);return isNaN(e)?or(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Jr(t,e){const n=Je(t);if(isNaN(e))return or(t,NaN);if(!e)return n;const r=n.getDate(),i=or(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const qw=6048e5,Y$=864e5;let Q$={};function jd(){return Q$}function Ri(t,e){var l,c,d,p;const n=jd(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=Je(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function wa(t){return Ri(t,{weekStartsOn:1})}function Nk(t){const e=Je(t),n=e.getFullYear(),r=or(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=wa(r),s=or(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=wa(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function su(t){const e=Je(t);return e.setHours(0,0,0,0),e}function mp(t){const e=Je(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bi(t,e){const n=su(t),r=su(e),i=+n-mp(n),s=+r-mp(r);return Math.round((i-s)/Y$)}function X$(t){const e=Nk(t),n=or(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),wa(n)}function gy(t,e){const n=e*7;return In(t,n)}function J$(t,e){return Jr(t,e*12)}function e8(t){let e;return t.forEach(function(n){const r=Je(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function t8(t){let e;return t.forEach(n=>{const r=Je(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Un(t,e){const n=su(t),r=su(e);return+n==+r}function Kw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function n8(t){if(!Kw(t)&&typeof t!="number")return!1;const e=Je(t);return!isNaN(Number(e))}function _d(t,e){const n=Je(t),r=Je(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function r8(t,e,n){const r=Ri(t,n),i=Ri(e,n),s=+r-mp(r),a=+i-mp(i);return Math.round((s-a)/qw)}function Gw(t){const e=Je(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Kn(t){const e=Je(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Ak(t){const e=Je(t),n=or(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Zw(t,e){var l,c,d,p;const n=jd(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=Je(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function kk(t){return Zw(t,{weekStartsOn:1})}const i8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s8=(t,e,n)=>{let r;const i=i8[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const o8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u8={date:xg({formats:o8,defaultWidth:"full"}),time:xg({formats:a8,defaultWidth:"full"}),dateTime:xg({formats:l8,defaultWidth:"full"})},c8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},d8=(t,e,n,r)=>c8[t];function ac(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const h8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},f8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_8={ordinalNumber:y8,era:ac({values:h8,defaultWidth:"wide"}),quarter:ac({values:f8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ac({values:p8,defaultWidth:"wide"}),day:ac({values:m8,defaultWidth:"wide"}),dayPeriod:ac({values:g8,defaultWidth:"wide",formattingValues:v8,defaultFormattingWidth:"wide"})};function lc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?x8(l,g=>g.test(a)):w8(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(a.length);return{value:d,rest:p}}}function w8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function x8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function b8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const E8=/^(\d+)(th|st|nd|rd)?/i,T8=/\d+/i,S8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C8={any:[/^b/i,/^(a|c)/i]},P8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I8={any:[/1/i,/2/i,/3/i,/4/i]},N8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O8={ordinalNumber:b8({matchPattern:E8,parsePattern:T8,valueCallback:t=>parseInt(t,10)}),era:lc({matchPatterns:S8,defaultMatchWidth:"wide",parsePatterns:C8,defaultParseWidth:"any"}),quarter:lc({matchPatterns:P8,defaultMatchWidth:"wide",parsePatterns:I8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lc({matchPatterns:N8,defaultMatchWidth:"wide",parsePatterns:A8,defaultParseWidth:"any"}),day:lc({matchPatterns:k8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any"}),dayPeriod:lc({matchPatterns:L8,defaultMatchWidth:"any",parsePatterns:M8,defaultParseWidth:"any"})},Rk={code:"en-US",formatDistance:s8,formatLong:u8,formatRelative:d8,localize:_8,match:O8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function D8(t){const e=Je(t);return bi(e,Ak(e))+1}function Lk(t){const e=Je(t),n=+wa(e)-+X$(e);return Math.round(n/qw)+1}function Mk(t,e){var p,g,y,_;const n=Je(t),r=n.getFullYear(),i=jd(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(y=i.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,a=or(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Ri(a,e),c=or(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=Ri(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function j8(t,e){var l,c,d,p;const n=jd(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=Mk(t,e),s=or(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ri(s,e)}function Ok(t,e){const n=Je(t),r=+Ri(n,e)-+j8(n,e);return Math.round(r/qw)+1}function st(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ms={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return st(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):st(n+1,2)},d(t,e){return st(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return st(t.getHours()%12||12,e.length)},H(t,e){return st(t.getHours(),e.length)},m(t,e){return st(t.getMinutes(),e.length)},s(t,e){return st(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return st(i,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ms.y(t,e)},Y:function(t,e,n,r){const i=Mk(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return st(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):st(s,e.length)},R:function(t,e){const n=Nk(t);return st(n,e.length)},u:function(t,e){const n=t.getFullYear();return st(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return st(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return st(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ms.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return st(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ok(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):st(i,e.length)},I:function(t,e,n){const r=Lk(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):st(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ms.d(t,e)},D:function(t,e,n){const r=D8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):st(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return st(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return st(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return st(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=sl.noon:r===0?i=sl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=sl.evening:r>=12?i=sl.afternoon:r>=4?i=sl.morning:i=sl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ms.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ms.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ms.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ms.s(t,e)},S:function(t,e){return Ms.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oE(r);case"XXXX":case"XX":return Uo(r);case"XXXXX":case"XXX":default:return Uo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oE(r);case"xxxx":case"xx":return Uo(r);case"xxxxx":case"xxx":default:return Uo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sE(r,":");case"OOOO":default:return"GMT"+Uo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sE(r,":");case"zzzz":default:return"GMT"+Uo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return st(r,e.length)},T:function(t,e,n){const r=t.getTime();return st(r,e.length)}};function sE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+st(s,2)}function oE(t,e){return t%60===0?(t>0?"-":"+")+st(Math.abs(t)/60,2):Uo(t,e)}function Uo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=st(Math.trunc(r/60),2),s=st(r%60,2);return n+i+e+s}const aE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Dk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},V8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return aE(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",aE(r,e)).replace("{{time}}",Dk(i,e))},F8={p:Dk,P:V8},B8=/^D+$/,z8=/^Y+$/,$8=["D","DD","YY","YYYY"];function U8(t){return B8.test(t)}function H8(t){return z8.test(t)}function W8(t,e,n){const r=q8(t,e,n);if(console.warn(r),$8.includes(t))throw new RangeError(r)}function q8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const K8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z8=/^'([^]*?)'?$/,Y8=/''/g,Q8=/[a-zA-Z]/;function Wr(t,e,n){var p,g,y,_,S,x,C,N;const r=jd(),i=(n==null?void 0:n.locale)??r.locale??Rk,s=(n==null?void 0:n.firstWeekContainsDate)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((x=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((N=(C=r.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??0,l=Je(t);if(!n8(l))throw new RangeError("Invalid time value");let c=e.match(G8).map(T=>{const I=T[0];if(I==="p"||I==="P"){const O=F8[I];return O(T,i.formatLong)}return T}).join("").match(K8).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const I=T[0];if(I==="'")return{isToken:!1,value:X8(T)};if(iE[I])return{isToken:!0,value:T};if(I.match(Q8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(T=>{if(!T.isToken)return T.value;const I=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&H8(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&U8(I))&&W8(I,e,String(t));const O=iE[I[0]];return O(l,I,i.localize,d)}).join("")}function X8(t){const e=t.match(Z8);return e?e[1].replace(Y8,"'"):t}function J8(t){const e=Je(t),n=e.getFullYear(),r=e.getMonth(),i=or(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function e7(t){return Math.trunc(+Je(t)/1e3)}function t7(t){const e=Je(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function n7(t,e){return r8(t7(t),Kn(t),e)+1}function vy(t,e){const n=Je(t),r=Je(e);return n.getTime()>r.getTime()}function jk(t,e){const n=Je(t),r=Je(e);return+n<+r}function Yw(t,e){const n=Je(t),r=Je(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function r7(t,e){const n=Je(t),r=Je(e);return n.getFullYear()===r.getFullYear()}function bg(t,e){return In(t,-e)}function Eg(t,e){const n=Je(t),r=n.getFullYear(),i=n.getDate(),s=or(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=J8(s);return n.setMonth(e,Math.min(i,a)),n}function lE(t,e){const n=Je(t);return isNaN(+n)?or(t,NaN):(n.setFullYear(e),n)}var Se=function(){return Se=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Se.apply(this,arguments)};function i7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vk(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Vd(t){return t.mode==="multiple"}function Fd(t){return t.mode==="range"}function mm(t){return t.mode==="single"}var s7={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function o7(t,e){return Wr(t,"LLLL y",e)}function a7(t,e){return Wr(t,"d",e)}function l7(t,e){return Wr(t,"LLLL",e)}function u7(t){return"".concat(t)}function c7(t,e){return Wr(t,"cccccc",e)}function d7(t,e){return Wr(t,"yyyy",e)}var h7=Object.freeze({__proto__:null,formatCaption:o7,formatDay:a7,formatMonthCaption:l7,formatWeekNumber:u7,formatWeekdayName:c7,formatYearCaption:d7}),f7=function(t,e,n){return Wr(t,"do MMMM (EEEE)",n)},p7=function(){return"Month: "},m7=function(){return"Go to next month"},g7=function(){return"Go to previous month"},v7=function(t,e){return Wr(t,"cccc",e)},y7=function(t){return"Week n. ".concat(t)},_7=function(){return"Year: "},w7=Object.freeze({__proto__:null,labelDay:f7,labelMonthDropdown:p7,labelNext:m7,labelPrevious:g7,labelWeekNumber:y7,labelWeekday:v7,labelYearDropdown:_7});function x7(){var t="buttons",e=s7,n=Rk,r={},i={},s=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:h7,labels:w7,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function b7(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=Kn(r):e&&(s=new Date(e,0,1)),i?a=Gw(i):n&&(a=new Date(n,11,31)),{fromDate:s?su(s):void 0,toDate:a?su(a):void 0}}var Fk=b.createContext(void 0);function E7(t){var e,n=t.initialProps,r=x7(),i=b7(n),s=i.fromDate,a=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;(mm(n)||Vd(n)||Fd(n))&&(c=n.onSelect);var d=Se(Se(Se({},r),n),{captionLayout:l,classNames:Se(Se({},r.classNames),n.classNames),components:Se({},n.components),formatters:Se(Se({},r.formatters),n.formatters),fromDate:s,labels:Se(Se({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Se(Se({},r.modifiers),n.modifiers),modifiersClassNames:Se(Se({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Se(Se({},r.styles),n.styles),toDate:a});return m.jsx(Fk.Provider,{value:d,children:t.children})}function ft(){var t=b.useContext(Fk);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Bk(t){var e=ft(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return m.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function T7(t){return m.jsx("svg",Se({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:m.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zk(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,l=t.className,c=t.style,d=ft(),p=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:T7;return m.jsxs("div",{className:l,style:c,children:[m.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),m.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:s}),m.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,m.jsx(p,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function S7(t){var e,n=ft(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,p=n.labels.labelMonthDropdown;if(!r)return m.jsx(m.Fragment,{});if(!i)return m.jsx(m.Fragment,{});var g=[];if(r7(r,i))for(var y=Kn(r),_=r.getMonth();_<=i.getMonth();_++)g.push(Eg(y,_));else for(var y=Kn(new Date),_=0;_<=11;_++)g.push(Eg(y,_));var S=function(C){var N=Number(C.target.value),T=Eg(Kn(t.displayMonth),N);t.onChange(T)},x=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:zk;return m.jsx(x,{name:"months","aria-label":p(),className:c.dropdown_month,style:s.dropdown_month,onChange:S,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:g.map(function(C){return m.jsx("option",{value:C.getMonth(),children:l(C,{locale:a})},C.getMonth())})})}function C7(t){var e,n=t.displayMonth,r=ft(),i=r.fromDate,s=r.toDate,a=r.locale,l=r.styles,c=r.classNames,d=r.components,p=r.formatters.formatYearCaption,g=r.labels.labelYearDropdown,y=[];if(!i)return m.jsx(m.Fragment,{});if(!s)return m.jsx(m.Fragment,{});for(var _=i.getFullYear(),S=s.getFullYear(),x=_;x<=S;x++)y.push(lE(Ak(new Date),x));var C=function(T){var I=lE(Kn(n),Number(T.target.value));t.onChange(I)},N=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:zk;return m.jsx(N,{name:"years","aria-label":g(),className:c.dropdown_year,style:l.dropdown_year,onChange:C,value:n.getFullYear(),caption:p(n,{locale:a}),children:y.map(function(T){return m.jsx("option",{value:T.getFullYear(),children:p(T,{locale:a})},T.getFullYear())})})}function P7(t,e){var n=b.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function I7(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(s&&_d(s,i)<0){var d=-1*(c-1);i=Jr(s,d)}return a&&_d(i,a)<0&&(i=a),Kn(i)}function N7(){var t=ft(),e=I7(t),n=P7(e,t.month),r=n[0],i=n[1],s=function(a){var l;if(!t.disableNavigation){var c=Kn(a);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,s]}function A7(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Kn(t),s=Kn(Jr(i,r)),a=_d(s,i),l=[],c=0;c<a;c++){var d=Jr(i,c);l.push(d)}return n&&(l=l.reverse()),l}function k7(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Kn(t);if(!n)return Jr(l,a);var c=_d(n,t);if(!(c<s))return Jr(l,a)}}function R7(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Kn(t);if(!n)return Jr(l,-a);var c=_d(l,n);if(!(c<=0))return Jr(l,-a)}}var $k=b.createContext(void 0);function L7(t){var e=ft(),n=N7(),r=n[0],i=n[1],s=A7(r,e),a=k7(r,e),l=R7(r,e),c=function(g){return s.some(function(y){return Yw(g,y)})},d=function(g,y){c(g)||(y&&jk(g,y)?i(Jr(g,1+e.numberOfMonths*-1)):i(g))},p={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:a,isDateDisplayed:c};return m.jsx($k.Provider,{value:p,children:t.children})}function Bd(){var t=b.useContext($k);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function uE(t){var e,n=ft(),r=n.classNames,i=n.styles,s=n.components,a=Bd().goToMonth,l=function(p){a(Jr(p,t.displayIndex?-t.displayIndex:0))},c=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:Bk,d=m.jsx(c,{id:t.id,displayMonth:t.displayMonth});return m.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[m.jsx("div",{className:r.vhidden,children:d}),m.jsx(S7,{onChange:l,displayMonth:t.displayMonth}),m.jsx(C7,{onChange:l,displayMonth:t.displayMonth})]})}function M7(t){return m.jsx("svg",Se({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:m.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function O7(t){return m.jsx("svg",Se({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:m.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var gp=b.forwardRef(function(t,e){var n=ft(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),l=Se(Se({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),m.jsx("button",Se({},t,{ref:e,type:"button",className:a,style:l}))});function D7(t){var e,n,r=ft(),i=r.dir,s=r.locale,a=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,p=c.labelNext,g=r.components;if(!t.nextMonth&&!t.previousMonth)return m.jsx(m.Fragment,{});var y=d(t.previousMonth,{locale:s}),_=[a.nav_button,a.nav_button_previous].join(" "),S=p(t.nextMonth,{locale:s}),x=[a.nav_button,a.nav_button_next].join(" "),C=(e=g==null?void 0:g.IconRight)!==null&&e!==void 0?e:O7,N=(n=g==null?void 0:g.IconLeft)!==null&&n!==void 0?n:M7;return m.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&m.jsx(gp,{name:"previous-month","aria-label":y,className:_,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?m.jsx(C,{className:a.nav_icon,style:l.nav_icon}):m.jsx(N,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&m.jsx(gp,{name:"next-month","aria-label":S,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?m.jsx(N,{className:a.nav_icon,style:l.nav_icon}):m.jsx(C,{className:a.nav_icon,style:l.nav_icon})})]})}function cE(t){var e=ft().numberOfMonths,n=Bd(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(S){return Yw(t.displayMonth,S)}),c=l===0,d=l===a.length-1,p=e>1&&(c||!d),g=e>1&&(d||!c),y=function(){r&&s(r)},_=function(){i&&s(i)};return m.jsx(D7,{displayMonth:t.displayMonth,hideNext:p,hidePrevious:g,nextMonth:i,previousMonth:r,onPreviousClick:y,onNextClick:_})}function j7(t){var e,n=ft(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:Bk,d;return i?d=m.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?d=m.jsx(uE,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?d=m.jsxs(m.Fragment,{children:[m.jsx(uE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),m.jsx(cE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=m.jsxs(m.Fragment,{children:[m.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),m.jsx(cE,{displayMonth:t.displayMonth,id:t.id})]}),m.jsx("div",{className:r.caption,style:s.caption,children:d})}function V7(t){var e=ft(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?m.jsx("tfoot",{className:i,style:r.tfoot,children:m.jsx("tr",{children:m.jsx("td",{colSpan:8,children:n})})}):m.jsx(m.Fragment,{})}function F7(t,e,n){for(var r=n?wa(new Date):Ri(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=In(r,s);i.push(a)}return i}function B7(){var t=ft(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=F7(i,s,a);return m.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&m.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(p,g){return m.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(p,{locale:i}),children:l(p,{locale:i})},g)})]})}function z7(){var t,e=ft(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:B7;return m.jsx("thead",{style:r.head,className:n.head,children:m.jsx(s,{})})}function $7(t){var e=ft(),n=e.locale,r=e.formatters.formatDay;return m.jsx(m.Fragment,{children:r(t.date,{locale:n})})}var Qw=b.createContext(void 0);function U7(t){if(!Vd(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return m.jsx(Qw.Provider,{value:e,children:t.children})}return m.jsx(H7,{initialProps:t.initialProps,children:t.children})}function H7(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(d,p,g){var y,_;(y=e.onDayClick)===null||y===void 0||y.call(e,d,p,g);var S=!!(p.selected&&i&&(r==null?void 0:r.length)===i);if(!S){var x=!!(!p.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var C=r?Vk([],r):[];if(p.selected){var N=C.findIndex(function(T){return Un(d,T)});C.splice(N,1)}else C.push(d);(_=e.onSelect)===null||_===void 0||_.call(e,C,d,p,g)}}},l={disabled:[]};r&&l.disabled.push(function(d){var p=s&&r.length>s-1,g=r.some(function(y){return Un(y,d)});return!!(p&&!g)});var c={selected:r,onDayClick:a,modifiers:l};return m.jsx(Qw.Provider,{value:c,children:n})}function Xw(){var t=b.useContext(Qw);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function W7(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Un(i,t)&&Un(r,t)?void 0:Un(i,t)?{from:i,to:void 0}:Un(r,t)?void 0:vy(r,t)?{from:t,to:i}:{from:r,to:t}:i?vy(t,i)?{from:i,to:t}:{from:t,to:i}:r?jk(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Jw=b.createContext(void 0);function q7(t){if(!Fd(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return m.jsx(Jw.Provider,{value:e,children:t.children})}return m.jsx(K7,{initialProps:t.initialProps,children:t.children})}function K7(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,l=e.min,c=e.max,d=function(_,S,x){var C,N;(C=e.onDayClick)===null||C===void 0||C.call(e,_,S,x);var T=W7(_,r);(N=e.onSelect)===null||N===void 0||N.call(e,T,_,S,x)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(p.range_start=[s],a?(p.range_end=[a],Un(s,a)||(p.range_middle=[{after:s,before:a}])):p.range_end=[s]):a&&(p.range_start=[a],p.range_end=[a]),l&&(s&&!a&&p.disabled.push({after:bg(s,l-1),before:In(s,l-1)}),s&&a&&p.disabled.push({after:s,before:In(s,l-1)}),!s&&a&&p.disabled.push({after:bg(a,l-1),before:In(a,l-1)})),c){if(s&&!a&&(p.disabled.push({before:In(s,-c+1)}),p.disabled.push({after:In(s,c-1)})),s&&a){var g=bi(a,s)+1,y=c-g;p.disabled.push({before:bg(s,y)}),p.disabled.push({after:In(a,y)})}!s&&a&&(p.disabled.push({before:In(a,-c+1)}),p.disabled.push({after:In(a,c-1)}))}return m.jsx(Jw.Provider,{value:{selected:r,onDayClick:d,modifiers:p},children:n})}function e0(){var t=b.useContext(Jw);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function vf(t){return Array.isArray(t)?Vk([],t):t!==void 0?[t]:[]}function G7(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=vf(i)}),e}var ei;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ei||(ei={}));var Z7=ei.Selected,Yi=ei.Disabled,Y7=ei.Hidden,Q7=ei.Today,Tg=ei.RangeEnd,Sg=ei.RangeMiddle,Cg=ei.RangeStart,X7=ei.Outside;function J7(t,e,n){var r,i=(r={},r[Z7]=vf(t.selected),r[Yi]=vf(t.disabled),r[Y7]=vf(t.hidden),r[Q7]=[t.today],r[Tg]=[],r[Sg]=[],r[Cg]=[],r[X7]=[],r);return t.fromDate&&i[Yi].push({before:t.fromDate}),t.toDate&&i[Yi].push({after:t.toDate}),Vd(t)?i[Yi]=i[Yi].concat(e.modifiers[Yi]):Fd(t)&&(i[Yi]=i[Yi].concat(n.modifiers[Yi]),i[Cg]=n.modifiers[Cg],i[Sg]=n.modifiers[Sg],i[Tg]=n.modifiers[Tg]),i}var Uk=b.createContext(void 0);function eU(t){var e=ft(),n=Xw(),r=e0(),i=J7(e,n,r),s=G7(e.modifiers),a=Se(Se({},i),s);return m.jsx(Uk.Provider,{value:a,children:t.children})}function Hk(){var t=b.useContext(Uk);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function tU(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function nU(t){return!!(t&&typeof t=="object"&&"from"in t)}function rU(t){return!!(t&&typeof t=="object"&&"after"in t)}function iU(t){return!!(t&&typeof t=="object"&&"before"in t)}function sU(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function oU(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=bi(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=bi(t,r)>=0&&bi(i,t)>=0;return a}return i?Un(i,t):r?Un(r,t):!1}function aU(t){return Kw(t)}function lU(t){return Array.isArray(t)&&t.every(Kw)}function uU(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(aU(n))return Un(t,n);if(lU(n))return n.includes(t);if(nU(n))return oU(t,n);if(sU(n))return n.dayOfWeek.includes(t.getDay());if(tU(n)){var r=bi(n.before,t),i=bi(n.after,t),s=r>0,a=i<0,l=vy(n.before,n.after);return l?a&&s:s||a}return rU(n)?bi(t,n.after)>0:iU(n)?bi(n.before,t)>0:typeof n=="function"?n(t):!1})}function t0(t,e,n){var r=Object.keys(e).reduce(function(s,a){var l=e[a];return uU(t,l)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!Yw(t,n)&&(i.outside=!0),i}function cU(t,e){for(var n=Kn(t[0]),r=Gw(t[t.length-1]),i,s,a=n;a<=r;){var l=t0(a,e),c=!l.disabled&&!l.hidden;if(!c){a=In(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=In(a,1)}return s||i}var dU=365;function Wk(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=i.weekStartsOn,d=i.fromDate,p=i.toDate,g=i.locale,y={day:In,week:gy,month:Jr,year:J$,startOfWeek:function(C){return i.ISOWeek?wa(C):Ri(C,{locale:g,weekStartsOn:c})},endOfWeek:function(C){return i.ISOWeek?kk(C):Zw(C,{locale:g,weekStartsOn:c})}},_=y[n](t,r==="after"?1:-1);r==="before"&&d?_=e8([d,_]):r==="after"&&p&&(_=t8([p,_]));var S=!0;if(s){var x=t0(_,s);S=!x.disabled&&!x.hidden}return S?_:l.count>dU?l.lastFocused:Wk(_,{moveBy:n,direction:r,context:i,modifiers:s,retry:Se(Se({},l),{count:l.count+1})})}var qk=b.createContext(void 0);function hU(t){var e=Bd(),n=Hk(),r=b.useState(),i=r[0],s=r[1],a=b.useState(),l=a[0],c=a[1],d=cU(e.displayMonths,n),p=i??(l&&e.isDateDisplayed(l))?l:d,g=function(){c(i),s(void 0)},y=function(C){s(C)},_=ft(),S=function(C,N){if(i){var T=Wk(i,{moveBy:C,direction:N,context:_,modifiers:n});Un(i,T)||(e.goToDate(T,i),y(T))}},x={focusedDay:i,focusTarget:p,blur:g,focus:y,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return m.jsx(qk.Provider,{value:x,children:t.children})}function n0(){var t=b.useContext(qk);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function fU(t,e){var n=Hk(),r=t0(t,n,e);return r}var r0=b.createContext(void 0);function pU(t){if(!mm(t.initialProps)){var e={selected:void 0};return m.jsx(r0.Provider,{value:e,children:t.children})}return m.jsx(mU,{initialProps:t.initialProps,children:t.children})}function mU(t){var e=t.initialProps,n=t.children,r=function(s,a,l){var c,d,p;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,a,l),a.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,s,a,l);return}(p=e.onSelect)===null||p===void 0||p.call(e,s,s,a,l)},i={selected:e.selected,onDayClick:r};return m.jsx(r0.Provider,{value:i,children:n})}function Kk(){var t=b.useContext(r0);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function gU(t,e){var n=ft(),r=Kk(),i=Xw(),s=e0(),a=n0(),l=a.focusDayAfter,c=a.focusDayBefore,d=a.focusWeekAfter,p=a.focusWeekBefore,g=a.blur,y=a.focus,_=a.focusMonthBefore,S=a.focusMonthAfter,x=a.focusYearBefore,C=a.focusYearAfter,N=a.focusStartOfWeek,T=a.focusEndOfWeek,I=function(Q){var $,Z,Y,ie;mm(n)?($=r.onDayClick)===null||$===void 0||$.call(r,t,e,Q):Vd(n)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,t,e,Q):Fd(n)?(Y=s.onDayClick)===null||Y===void 0||Y.call(s,t,e,Q):(ie=n.onDayClick)===null||ie===void 0||ie.call(n,t,e,Q)},O=function(Q){var $;y(t),($=n.onDayFocus)===null||$===void 0||$.call(n,t,e,Q)},z=function(Q){var $;g(),($=n.onDayBlur)===null||$===void 0||$.call(n,t,e,Q)},H=function(Q){var $;($=n.onDayMouseEnter)===null||$===void 0||$.call(n,t,e,Q)},R=function(Q){var $;($=n.onDayMouseLeave)===null||$===void 0||$.call(n,t,e,Q)},A=function(Q){var $;($=n.onDayPointerEnter)===null||$===void 0||$.call(n,t,e,Q)},D=function(Q){var $;($=n.onDayPointerLeave)===null||$===void 0||$.call(n,t,e,Q)},j=function(Q){var $;($=n.onDayTouchCancel)===null||$===void 0||$.call(n,t,e,Q)},F=function(Q){var $;($=n.onDayTouchEnd)===null||$===void 0||$.call(n,t,e,Q)},B=function(Q){var $;($=n.onDayTouchMove)===null||$===void 0||$.call(n,t,e,Q)},V=function(Q){var $;($=n.onDayTouchStart)===null||$===void 0||$.call(n,t,e,Q)},X=function(Q){var $;($=n.onDayKeyUp)===null||$===void 0||$.call(n,t,e,Q)},ve=function(Q){var $;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),d();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),p();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?x():_();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?C():S();break;case"Home":Q.preventDefault(),Q.stopPropagation(),N();break;case"End":Q.preventDefault(),Q.stopPropagation(),T();break}($=n.onDayKeyDown)===null||$===void 0||$.call(n,t,e,Q)},se={onClick:I,onFocus:O,onBlur:z,onKeyDown:ve,onKeyUp:X,onMouseEnter:H,onMouseLeave:R,onPointerEnter:A,onPointerLeave:D,onTouchCancel:j,onTouchEnd:F,onTouchMove:B,onTouchStart:V};return se}function vU(){var t=ft(),e=Kk(),n=Xw(),r=e0(),i=mm(t)?e.selected:Vd(t)?n.selected:Fd(t)?r.selected:void 0;return i}function yU(t){return Object.values(ei).includes(t)}function _U(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(yU(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function wU(t,e){var n=Se({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Se(Se({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function xU(t,e,n){var r,i,s,a=ft(),l=n0(),c=fU(t,e),d=gU(t,c),p=vU(),g=!!(a.onDayClick||a.mode!=="default");b.useEffect(function(){var H;c.outside||l.focusedDay&&g&&Un(l.focusedDay,t)&&((H=n.current)===null||H===void 0||H.focus())},[l.focusedDay,t,n,g,c.outside]);var y=_U(a,c).join(" "),_=wU(a,c),S=!!(c.outside&&!a.showOutsideDays||c.hidden),x=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:$7,C=m.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),N={style:_,className:y,children:C,role:"gridcell"},T=l.focusTarget&&Un(l.focusTarget,t)&&!c.outside,I=l.focusedDay&&Un(l.focusedDay,t),O=Se(Se(Se({},N),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=I||T?0:-1,r)),d),z={isButton:g,isHidden:S,activeModifiers:c,selectedDays:p,buttonProps:O,divProps:N};return z}function bU(t){var e=b.useRef(null),n=xU(t.date,t.displayMonth,e);return n.isHidden?m.jsx("div",{role:"gridcell"}):n.isButton?m.jsx(gp,Se({name:"day",ref:e},n.buttonProps)):m.jsx("div",Se({},n.divProps))}function EU(t){var e=t.number,n=t.dates,r=ft(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,p=d(Number(e),{locale:l});if(!i)return m.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:p});var g=c(Number(e),{locale:l}),y=function(_){i(e,n,_)};return m.jsx(gp,{name:"week-number","aria-label":g,className:a.weeknumber,style:s.weeknumber,onClick:y,children:p})}function TU(t){var e,n,r=ft(),i=r.styles,s=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:bU,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:EU,p;return a&&(p=m.jsx("td",{className:s.cell,style:i.cell,children:m.jsx(d,{number:t.weekNumber,dates:t.dates})})),m.jsxs("tr",{className:s.row,style:i.row,children:[p,t.dates.map(function(g){return m.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:m.jsx(c,{displayMonth:t.displayMonth,date:g})},e7(g))})]})}function dE(t,e,n){for(var r=n!=null&&n.ISOWeek?kk(e):Zw(e,n),i=n!=null&&n.ISOWeek?wa(t):Ri(t,n),s=bi(r,i),a=[],l=0;l<=s;l++)a.push(In(i,l));var c=a.reduce(function(d,p){var g=n!=null&&n.ISOWeek?Lk(p):Ok(p,n),y=d.find(function(_){return _.weekNumber===g});return y?(y.dates.push(p),d):(d.push({weekNumber:g,dates:[p]}),d)},[]);return c}function SU(t,e){var n=dE(Kn(t),Gw(t),e);if(e!=null&&e.useFixedWeeks){var r=n7(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=gy(s,6-r),l=dE(gy(s,1),a,e);n.push.apply(n,l)}}return n}function CU(t){var e,n,r,i=ft(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,p=i.components,g=i.weekStartsOn,y=i.firstWeekContainsDate,_=i.ISOWeek,S=SU(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:_,locale:s,weekStartsOn:g,firstWeekContainsDate:y}),x=(e=p==null?void 0:p.Head)!==null&&e!==void 0?e:z7,C=(n=p==null?void 0:p.Row)!==null&&n!==void 0?n:TU,N=(r=p==null?void 0:p.Footer)!==null&&r!==void 0?r:V7;return m.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&m.jsx(x,{}),m.jsx("tbody",{className:a.tbody,style:l.tbody,children:S.map(function(T){return m.jsx(C,{displayMonth:t.displayMonth,dates:T.dates,weekNumber:T.weekNumber},T.weekNumber)})}),m.jsx(N,{displayMonth:t.displayMonth})]})}function PU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var IU=PU()?b.useLayoutEffect:b.useEffect,Pg=!1,NU=0;function hE(){return"react-day-picker-".concat(++NU)}function AU(t){var e,n=t??(Pg?hE():null),r=b.useState(n),i=r[0],s=r[1];return IU(function(){i===null&&s(hE())},[]),b.useEffect(function(){Pg===!1&&(Pg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function kU(t){var e,n,r=ft(),i=r.dir,s=r.classNames,a=r.styles,l=r.components,c=Bd().displayMonths,d=AU(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,g=[s.month],y=a.month,_=t.displayIndex===0,S=t.displayIndex===c.length-1,x=!_&&!S;i==="rtl"&&(e=[_,S],S=e[0],_=e[1]),_&&(g.push(s.caption_start),y=Se(Se({},y),a.caption_start)),S&&(g.push(s.caption_end),y=Se(Se({},y),a.caption_end)),x&&(g.push(s.caption_between),y=Se(Se({},y),a.caption_between));var C=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:j7;return m.jsxs("div",{className:g.join(" "),style:y,children:[m.jsx(C,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),m.jsx(CU,{id:p,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function RU(t){var e=ft(),n=e.classNames,r=e.styles;return m.jsx("div",{className:n.months,style:r.months,children:t.children})}function LU(t){var e,n,r=t.initialProps,i=ft(),s=n0(),a=Bd(),l=b.useState(!1),c=l[0],d=l[1];b.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),d(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var g=Se(Se({},i.styles.root),i.style),y=Object.keys(r).filter(function(S){return S.startsWith("data-")}).reduce(function(S,x){var C;return Se(Se({},S),(C={},C[x]=r[x],C))},{}),_=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:RU;return m.jsx("div",Se({className:p.join(" "),style:g,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},y,{children:m.jsx(_,{children:a.displayMonths.map(function(S,x){return m.jsx(kU,{displayIndex:x,displayMonth:S},x)})})}))}function MU(t){var e=t.children,n=i7(t,["children"]);return m.jsx(E7,{initialProps:n,children:m.jsx(L7,{children:m.jsx(pU,{initialProps:n,children:m.jsx(U7,{initialProps:n,children:m.jsx(q7,{initialProps:n,children:m.jsx(eU,{children:m.jsx(hU,{children:e})})})})})})})}function OU(t){return m.jsx(MU,Se({},t,{children:m.jsx(LU,{initialProps:t})}))}function Gk({className:t,classNames:e,showOutsideDays:n=!0,...r}){return m.jsx(OU,{showOutsideDays:n,className:Ae("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ae(sd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ae(sd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>m.jsx(cO,{className:"h-4 w-4"}),IconRight:({...i})=>m.jsx(dO,{className:"h-4 w-4"})},...r})}Gk.displayName="Calendar";var gm="Popover",[Zk,xH]=ys(gm,[pu]),zd=pu(),[DU,Po]=Zk(gm),Yk=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,l=zd(e),c=b.useRef(null),[d,p]=b.useState(!1),[g,y]=Zl({prop:r,defaultProp:i??!1,onChange:s,caller:gm});return m.jsx(KC,{...l,children:m.jsx(DU,{scope:e,contentId:ra(),triggerRef:c,open:g,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(_=>!_),[y]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>p(!0),[]),onCustomAnchorRemove:b.useCallback(()=>p(!1),[]),modal:a,children:n})})};Yk.displayName=gm;var Qk="PopoverAnchor",jU=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Po(Qk,n),s=zd(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return b.useEffect(()=>(a(),()=>l()),[a,l]),m.jsx(zp,{...s,...r,ref:e})});jU.displayName=Qk;var Xk="PopoverTrigger",Jk=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Po(Xk,n),s=zd(n),a=tt(e,i.triggerRef),l=m.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iR(i.open),...r,ref:a,onClick:Ce(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:m.jsx(zp,{asChild:!0,...s,children:l})});Jk.displayName=Xk;var i0="PopoverPortal",[VU,FU]=Zk(i0,{forceMount:void 0}),eR=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Po(i0,e);return m.jsx(VU,{scope:e,forceMount:n,children:m.jsx(To,{present:n||s.open,children:m.jsx(Pd,{asChild:!0,container:i,children:r})})})};eR.displayName=i0;var ou="PopoverContent",tR=b.forwardRef((t,e)=>{const n=FU(ou,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Po(ou,t.__scopePopover);return m.jsx(To,{present:r||s.open,children:s.modal?m.jsx(zU,{...i,ref:e}):m.jsx($U,{...i,ref:e})})});tR.displayName=ou;var BU=ha("PopoverContent.RemoveScroll"),zU=b.forwardRef((t,e)=>{const n=Po(ou,t.__scopePopover),r=b.useRef(null),i=tt(e,r),s=b.useRef(!1);return b.useEffect(()=>{const a=r.current;if(a)return F_(a)},[]),m.jsx(Qp,{as:BU,allowPinchZoom:!0,children:m.jsx(nR,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),$U=b.forwardRef((t,e)=>{const n=Po(ou,t.__scopePopover),r=b.useRef(!1),i=b.useRef(!1);return m.jsx(nR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nR=b.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:p,...g}=t,y=Po(ou,n),_=zd(n);return V_(),m.jsx(Zp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(cu,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>y.onOpenChange(!1),children:m.jsx(N_,{"data-state":iR(y.open),role:"dialog",id:y.contentId,..._,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rR="PopoverClose",UU=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Po(rR,n);return m.jsx($e.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});UU.displayName=rR;var HU="PopoverArrow",WU=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=zd(n);return m.jsx(A_,{...i,...r,ref:e})});WU.displayName=HU;function iR(t){return t?"open":"closed"}var qU=Yk,KU=Jk,GU=eR,sR=tR;const ZU=qU,YU=KU,oR=b.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>m.jsx(GU,{children:m.jsx(sR,{ref:i,align:e,sideOffset:n,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));oR.displayName=sR.displayName;const QU=({value:t,onChange:e,id:n})=>{const[r,i]=b.useState(),[s,a]=b.useState("");le.useEffect(()=>{if(t){const p=new Date(t);isNaN(p.getTime())||(i(p),a(Wr(p,"HH:mm")))}},[]);const l=p=>{i(p),d(p,s)},c=p=>{a(p),d(r,p)},d=(p,g)=>{if(p){const[y,_]=g.split(":").map(Number);if(!isNaN(y)&&!isNaN(_)){const S=new Date(p);S.setHours(y,_),e(Wr(S,"PPp"))}else e(Wr(p,"PP"))}};return m.jsxs("div",{className:"space-y-2",children:[m.jsxs(ZU,{children:[m.jsx(YU,{asChild:!0,children:m.jsxs(Fe,{variant:"outline",className:Ae("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[m.jsx(lO,{className:"mr-2 h-4 w-4"}),r?Wr(r,"PPP"):m.jsx("span",{children:"Pick a date"})]})}),m.jsx(oR,{className:"w-auto p-0",align:"start",children:m.jsx(Gk,{mode:"single",selected:r,onSelect:l,initialFocus:!0,className:"pointer-events-auto"})})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(pO,{className:"h-4 w-4"}),m.jsx(Go,{type:"time",value:s,onChange:p=>c(p.target.value),className:"w-32"})]})]})},XU=()=>{const{t}=_s(),e=D_(),{toast:n}=Lp(),[r,i]=b.useState(!1),[s,a]=b.useState(!1),[l,c]=b.useState({location:"",type:"",timeSeen:"",notes:""}),d=async p=>{p.preventDefault(),i(!0);try{let g,y;if(l.location){const _=await K$(l.location);_&&(g=_.lat,y=_.lng)}await i$(Cw(Uw,"iceReports"),{...l,lat:g,lng:y,timestamp:l$()}),n({title:"Report Submitted",description:"Your report has been submitted successfully and will help keep the community safe."}),a(!0),setTimeout(()=>{e("/")},2e3)}catch(g){console.error("Error submitting report:",g),n({title:"Error",description:"There was an error submitting your report. Please try again.",variant:"destructive"})}finally{i(!1)}};return s?m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 flex items-center justify-center p-3",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-5 text-center max-w-sm w-full",children:[m.jsx(fO,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),m.jsx("h2",{className:"text-xl font-bold text-green-600 mb-2",children:t("thankYou")}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Your report helps keep our community safe"}),m.jsxs("div",{className:"mt-3",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500 mx-auto"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Redirecting..."})]})]})}):m.jsxs("div",{className:"h-screen bg-gradient-to-b from-orange-50 to-red-50 flex flex-col overflow-hidden",children:[m.jsx("div",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200 p-3 flex-shrink-0",children:m.jsxs("div",{className:"flex items-center gap-3 max-w-md mx-auto",children:[m.jsx(Bt,{to:"/",children:m.jsx(Fe,{variant:"outline",size:"sm",className:"p-2",children:m.jsx(hC,{className:"h-4 w-4"})})}),m.jsx("h1",{className:"text-lg font-bold text-gray-900",children:t("reportTitle")})]})}),m.jsx("div",{className:"flex-1 p-3 overflow-y-auto",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 max-w-md mx-auto",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-2",children:m.jsx("span",{className:"text-xl",children:"🚨"})}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Help keep our community safe by reporting ICE activity"})]}),m.jsxs("form",{onSubmit:d,className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx(_n,{htmlFor:"location",className:"font-semibold mb-1 block text-sm",children:t("location")}),m.jsx(Z$,{id:"location",value:l.location,onChange:p=>c(g=>({...g,location:p})),placeholder:"Example: 123 Main St, Los Angeles, CA"})]}),m.jsxs("div",{children:[m.jsx(_n,{htmlFor:"type",className:"font-semibold mb-1 block text-sm",children:t("activityType")}),m.jsxs(fp,{value:l.type,onValueChange:p=>c(g=>({...g,type:p})),required:!0,children:[m.jsx(vd,{className:"h-10",children:m.jsx(pp,{placeholder:t("selectOne")})}),m.jsxs(yd,{children:[m.jsx(nn,{value:"Patrulla",className:"py-2",children:t("patrol")}),m.jsx(nn,{value:"Checkpoint",className:"py-2",children:t("checkpoint")}),m.jsx(nn,{value:"Raid",className:"py-2",children:t("raid")}),m.jsx(nn,{value:"Other",className:"py-2",children:t("other")})]})]})]}),m.jsxs("div",{children:[m.jsx(_n,{htmlFor:"timeSeen",className:"font-semibold mb-1 block text-sm",children:t("timeSeen")}),m.jsx(QU,{id:"timeSeen",value:l.timeSeen,onChange:p=>c(g=>({...g,timeSeen:p}))})]}),m.jsxs("div",{children:[m.jsx(_n,{htmlFor:"notes",className:"font-semibold mb-1 block text-sm",children:t("notes")}),m.jsx(Ik,{id:"notes",value:l.notes,onChange:p=>c(g=>({...g,notes:p.target.value})),placeholder:"Describe what you saw...",rows:2,className:"resize-none text-sm"})]}),m.jsx(Fe,{type:"submit",className:"w-full bg-red-500 hover:bg-red-600 h-10 font-bold rounded-xl mt-4",disabled:r,children:r?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):t("submit")})]})]})})]})};var yy={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(jR,function(n){var r="1.9.4";function i(o){var u,f,v,E;for(f=1,v=arguments.length;f<v;f++){E=arguments[f];for(u in E)o[u]=E[u]}return o}var s=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function a(o,u){var f=Array.prototype.slice;if(o.bind)return o.bind.apply(o,f.call(arguments,1));var v=f.call(arguments,2);return function(){return o.apply(u,v.length?v.concat(f.call(arguments)):arguments)}}var l=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function d(o,u,f){var v,E,k,U;return U=function(){v=!1,E&&(k.apply(f,E),E=!1)},k=function(){v?E=arguments:(o.apply(f,arguments),setTimeout(U,u),v=!0)},k}function p(o,u,f){var v=u[1],E=u[0],k=v-E;return o===v&&f?o:((o-E)%k+k)%k+E}function g(){return!1}function y(o,u){if(u===!1)return o;var f=Math.pow(10,u===void 0?6:u);return Math.round(o*f)/f}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function S(o){return _(o).split(/\s+/)}function x(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var f in u)o.options[f]=u[f];return o.options}function C(o,u,f){var v=[];for(var E in o)v.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(o[E]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function T(o,u){return o.replace(N,function(f,v){var E=u[v];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(u)),E})}var I=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function O(o,u){for(var f=0;f<o.length;f++)if(o[f]===u)return f;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var R=0;function A(o){var u=+new Date,f=Math.max(0,16-(u-R));return R=u+f,window.setTimeout(o,f)}var D=window.requestAnimationFrame||H("RequestAnimationFrame")||A,j=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function F(o,u,f){if(f&&D===A)o.call(u);else return D.call(window,a(o,u))}function B(o){o&&j.call(window,o)}var V={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:c,throttle:d,wrapNum:p,falseFn:g,formatNum:y,trim:_,splitWords:S,setOptions:x,getParamString:C,template:T,isArray:I,indexOf:O,emptyImageUrl:z,requestFn:D,cancelFn:j,requestAnimFrame:F,cancelAnimFrame:B};function X(){}X.extend=function(o){var u=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,v=s(f);v.constructor=u,u.prototype=v;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return o.statics&&i(u,o.statics),o.includes&&(ve(o.includes),i.apply(null,[v].concat(o.includes))),i(v,o),delete v.statics,delete v.includes,v.options&&(v.options=f.options?s(f.options):{},i(v.options,o.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,U=v._initHooks.length;k<U;k++)v._initHooks[k].call(this)}},u},X.include=function(o){var u=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},X.mergeOptions=function(o){return i(this.prototype.options,o),this},X.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),f=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ve(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=I(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(o,u,f){if(typeof o=="object")for(var v in o)this._on(v,o[v],u);else{o=S(o);for(var E=0,k=o.length;E<k;E++)this._on(o[E],u,f)}return this},off:function(o,u,f){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var v in o)this._off(v,o[v],u);else{o=S(o);for(var E=arguments.length===1,k=0,U=o.length;k<U;k++)E?this._off(o[k]):this._off(o[k],u,f)}return this},_on:function(o,u,f,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,f)===!1){f===this&&(f=void 0);var E={fn:u,ctx:f};v&&(E.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(E)}},_off:function(o,u,f){var v,E,k;if(this._events&&(v=this._events[o],!!v)){if(arguments.length===1){if(this._firingCount)for(E=0,k=v.length;E<k;E++)v[E].fn=g;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var U=this._listens(o,u,f);if(U!==!1){var q=v[U];this._firingCount&&(q.fn=g,this._events[o]=v=v.slice()),v.splice(U,1)}}},fire:function(o,u,f){if(!this.listens(o,f))return this;var v=i({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[o];if(E){this._firingCount=this._firingCount+1||1;for(var k=0,U=E.length;k<U;k++){var q=E[k],K=q.fn;q.once&&this.off(o,K,q.ctx),K.call(q.ctx||this,v)}this._firingCount--}}return f&&this._propagateEvent(v),this},listens:function(o,u,f,v){typeof o!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(v=!!u,E=void 0,f=void 0);var k=this._events&&this._events[o];if(k&&k.length&&this._listens(o,E,f)!==!1)return!0;if(v){for(var U in this._eventParents)if(this._eventParents[U].listens(o,u,f,v))return!0}return!1},_listens:function(o,u,f){if(!this._events)return!1;var v=this._events[o]||[];if(!u)return!!v.length;f===this&&(f=void 0);for(var E=0,k=v.length;E<k;E++)if(v[E].fn===u&&v[E].ctx===f)return E;return!1},once:function(o,u,f){if(typeof o=="object")for(var v in o)this._on(v,o[v],u,!0);else{o=S(o);for(var E=0,k=o.length;E<k;E++)this._on(o[E],u,f,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var Q=X.extend(se);function $(o,u,f){this.x=f?Math.round(o):o,this.y=f?Math.round(u):u}var Z=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(o){return this.clone()._add(Y(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Y(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new $(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new $(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(o){o=Y(o);var u=o.x-this.x,f=o.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(o){return o=Y(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Y(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Y(o,u,f){return o instanceof $?o:I(o)?new $(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new $(o.x,o.y):new $(o,u,f)}function ie(o,u){if(o)for(var f=u?[o,u]:o,v=0,E=f.length;v<E;v++)this.extend(f[v])}ie.prototype={extend:function(o){var u,f;if(!o)return this;if(o instanceof $||typeof o[0]=="number"||"x"in o)u=f=Y(o);else if(o=oe(o),u=o.min,f=o.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(o){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,f;return typeof o[0]=="number"||o instanceof $?o=Y(o):o=oe(o),o instanceof ie?(u=o.min,f=o.max):u=f=o,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(o){o=oe(o);var u=this.min,f=this.max,v=o.min,E=o.max,k=E.x>=u.x&&v.x<=f.x,U=E.y>=u.y&&v.y<=f.y;return k&&U},overlaps:function(o){o=oe(o);var u=this.min,f=this.max,v=o.min,E=o.max,k=E.x>u.x&&v.x<f.x,U=E.y>u.y&&v.y<f.y;return k&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,f=this.max,v=Math.abs(u.x-f.x)*o,E=Math.abs(u.y-f.y)*o;return oe(Y(u.x-v,u.y-E),Y(f.x+v,f.y+E))},equals:function(o){return o?(o=oe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function oe(o,u){return!o||o instanceof ie?o:new ie(o,u)}function ce(o,u){if(o)for(var f=u?[o,u]:o,v=0,E=f.length;v<E;v++)this.extend(f[v])}ce.prototype={extend:function(o){var u=this._southWest,f=this._northEast,v,E;if(o instanceof ge)v=o,E=o;else if(o instanceof ce){if(v=o._southWest,E=o._northEast,!v||!E)return this}else return o?this.extend(ye(o)||he(o)):this;return!u&&!f?(this._southWest=new ge(v.lat,v.lng),this._northEast=new ge(E.lat,E.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(o){var u=this._southWest,f=this._northEast,v=Math.abs(u.lat-f.lat)*o,E=Math.abs(u.lng-f.lng)*o;return new ce(new ge(u.lat-v,u.lng-E),new ge(f.lat+v,f.lng+E))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ge||"lat"in o?o=ye(o):o=he(o);var u=this._southWest,f=this._northEast,v,E;return o instanceof ce?(v=o.getSouthWest(),E=o.getNorthEast()):v=E=o,v.lat>=u.lat&&E.lat<=f.lat&&v.lng>=u.lng&&E.lng<=f.lng},intersects:function(o){o=he(o);var u=this._southWest,f=this._northEast,v=o.getSouthWest(),E=o.getNorthEast(),k=E.lat>=u.lat&&v.lat<=f.lat,U=E.lng>=u.lng&&v.lng<=f.lng;return k&&U},overlaps:function(o){o=he(o);var u=this._southWest,f=this._northEast,v=o.getSouthWest(),E=o.getNorthEast(),k=E.lat>u.lat&&v.lat<f.lat,U=E.lng>u.lng&&v.lng<f.lng;return k&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=he(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(o,u){return o instanceof ce?o:new ce(o,u)}function ge(o,u,f){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,f!==void 0&&(this.alt=+f)}ge.prototype={equals:function(o,u){if(!o)return!1;o=ye(o);var f=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return f<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+y(this.lat,o)+", "+y(this.lng,o)+")"},distanceTo:function(o){return je.distance(this,ye(o))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,f=u/Math.cos(Math.PI/180*this.lat);return he([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function ye(o,u,f){return o instanceof ge?o:I(o)&&typeof o[0]!="object"?o.length===3?new ge(o[0],o[1],o[2]):o.length===2?new ge(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ge(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new ge(o,u,f)}var ae={latLngToPoint:function(o,u){var f=this.projection.project(o),v=this.scale(u);return this.transformation._transform(f,v)},pointToLatLng:function(o,u){var f=this.scale(u),v=this.transformation.untransform(o,f);return this.projection.unproject(v)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(o),v=this.transformation.transform(u.min,f),E=this.transformation.transform(u.max,f);return new ie(v,E)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,f=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,v=o.alt;return new ge(f,u,v)},wrapLatLngBounds:function(o){var u=o.getCenter(),f=this.wrapLatLng(u),v=u.lat-f.lat,E=u.lng-f.lng;if(v===0&&E===0)return o;var k=o.getSouthWest(),U=o.getNorthEast(),q=new ge(k.lat-v,k.lng-E),K=new ge(U.lat-v,U.lng-E);return new ce(q,K)}},je=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var f=Math.PI/180,v=o.lat*f,E=u.lat*f,k=Math.sin((u.lat-o.lat)*f/2),U=Math.sin((u.lng-o.lng)*f/2),q=k*k+Math.cos(v)*Math.cos(E)*U*U,K=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*K}}),ut=6378137,Ve={R:ut,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,f=this.MAX_LATITUDE,v=Math.max(Math.min(f,o.lat),-f),E=Math.sin(v*u);return new $(this.R*o.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(o){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=ut*Math.PI;return new ie([-o,-o],[o,o])}()};function Re(o,u,f,v){if(I(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=f,this._d=v}Re.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new $((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function Oe(o,u,f,v){return new Re(o,u,f,v)}var _t=i({},je,{code:"EPSG:3857",projection:Ve,transformation:function(){var o=.5/(Math.PI*Ve.R);return Oe(o,.5,-o,.5)}()}),Yt=i({},_t,{code:"EPSG:900913"});function Ln(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Mn(o,u){var f="",v,E,k,U,q,K;for(v=0,k=o.length;v<k;v++){for(q=o[v],E=0,U=q.length;E<U;E++)K=q[E],f+=(E?"L":"M")+K.x+" "+K.y;f+=u?_e.svg?"z":"x":""}return f||"M0 0"}var Gn=document.documentElement.style,ur="ActiveXObject"in window,Ir=ur&&!document.addEventListener,Mi="msLaunchUri"in navigator&&!("documentMode"in document),cr=hr("webkit"),Io=hr("android"),On=hr("android 2")||hr("android 3"),No=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Aa=Io&&hr("Google")&&No<537&&!("AudioNode"in window),Qe=!!window.opera,pt=!Mi&&hr("chrome"),Oi=hr("gecko")&&!cr&&!Qe&&!ur,ka=!pt&&hr("safari"),ni=hr("phantom"),Ra="OTransition"in Gn,ri=navigator.platform.indexOf("Win")===0,Di=ur&&"transition"in Gn,Zn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!On,ji="MozPerspective"in Gn,ii=!window.L_DISABLE_3D&&(Di||Zn||ji)&&!Ra&&!ni,Vi=typeof orientation<"u"||hr("mobile"),Ao=Vi&&cr,ko=Vi&&Zn,bs=!window.PointerEvent&&window.MSPointerEvent,si=!!(window.PointerEvent||bs),oi="ontouchstart"in window||!!window.TouchEvent,Dn=!window.L_NO_TOUCH&&(oi||si),Nr=Vi&&Qe,Te=Vi&&Oi,Ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rt=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return o}(),Ht=function(){return!!document.createElement("canvas").getContext}(),Qt=!!(document.createElementNS&&Ln("svg").createSVGRect),dt=!!Qt&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),dr=!Qt&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Wt=navigator.platform.indexOf("Mac")===0,fn=navigator.platform.indexOf("Linux")===0;function hr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var _e={ie:ur,ielt9:Ir,edge:Mi,webkit:cr,android:Io,android23:On,androidStock:Aa,opera:Qe,chrome:pt,gecko:Oi,safari:ka,phantom:ni,opera12:Ra,win:ri,ie3d:Di,webkit3d:Zn,gecko3d:ji,any3d:ii,mobile:Vi,mobileWebkit:Ao,mobileWebkit3d:ko,msPointer:bs,pointer:si,touch:Dn,touchNative:oi,mobileOpera:Nr,mobileGecko:Te,retina:Ke,passiveEvents:rt,canvas:Ht,svg:Qt,vml:dr,inlineSvg:dt,mac:Wt,linux:fn},Fi=_e.msPointer?"MSPointerDown":"pointerdown",$d=_e.msPointer?"MSPointerMove":"pointermove",Ud=_e.msPointer?"MSPointerUp":"pointerup",Ro=_e.msPointer?"MSPointerCancel":"pointercancel",La={touchstart:Fi,touchmove:$d,touchend:Ud,touchcancel:Ro},Ma={touchstart:Da,touchmove:Oa,touchend:Oa,touchcancel:Oa},Ar={},kr=!1;function Hd(o,u,f){return u==="touchstart"&&qd(),Ma[u]?(f=Ma[u].bind(this,f),o.addEventListener(La[u],f,!1),f):(console.warn("wrong event specified:",u),g)}function Wd(o,u,f){if(!La[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(La[u],f,!1)}function Eu(o){Ar[o.pointerId]=o}function Tu(o){Ar[o.pointerId]&&(Ar[o.pointerId]=o)}function Su(o){delete Ar[o.pointerId]}function qd(){kr||(document.addEventListener(Fi,Eu,!0),document.addEventListener($d,Tu,!0),document.addEventListener(Ud,Su,!0),document.addEventListener(Ro,Su,!0),kr=!0)}function Oa(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in Ar)u.touches.push(Ar[f]);u.changedTouches=[u],o(u)}}function Da(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Et(u),Oa(o,u)}function Kd(o){var u={},f,v;for(v in o)f=o[v],u[v]=f&&f.bind?f.bind(o):f;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Cu=200;function Lo(o,u){o.addEventListener("dblclick",u);var f=0,v;function E(k){if(k.detail!==1){v=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var U=Vu(k);if(!(U.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!U.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var q=Date.now();q-f<=Cu?(v++,v===2&&u(Kd(k))):v=1,f=q}}}return o.addEventListener("click",E),{dblclick:u,simDblclick:E}}function Bi(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var Mo=$i(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Oo=$i(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pu=Oo==="webkitTransition"||Oo==="OTransition"?Oo+"End":"transitionend";function Iu(o){return typeof o=="string"?document.getElementById(o):o}function Es(o,u){var f=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(o,null);f=v?v[u]:null}return f==="auto"?null:f}function We(o,u,f){var v=document.createElement(o);return v.className=u||"",f&&f.appendChild(v),v}function ct(o){var u=o.parentNode;u&&u.removeChild(o)}function Do(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function zi(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Ts(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Nu(o,u){if(o.classList!==void 0)return o.classList.contains(u);var f=fr(o);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Le(o,u){if(o.classList!==void 0)for(var f=S(u),v=0,E=f.length;v<E;v++)o.classList.add(f[v]);else if(!Nu(o,u)){var k=fr(o);Au(o,(k?k+" ":"")+u)}}function wt(o,u){o.classList!==void 0?o.classList.remove(u):Au(o,_((" "+fr(o)+" ").replace(" "+u+" "," ")))}function Au(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function fr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Nt(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&ja(o,u)}function ja(o,u){var f=!1,v="DXImageTransform.Microsoft.Alpha";try{f=o.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):o.style.filter+=" progid:"+v+"(opacity="+u+")"}function $i(o){for(var u=document.documentElement.style,f=0;f<o.length;f++)if(o[f]in u)return o[f];return!1}function ai(o,u,f){var v=u||new $(0,0);o.style[Mo]=(_e.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(f?" scale("+f+")":"")}function Pe(o,u){o._leaflet_pos=u,_e.any3d?ai(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function pr(o){return o._leaflet_pos||new $(0,0)}var Rr,Lr,ku;if("onselectstart"in document)Rr=function(){xe(window,"selectstart",Et)},Lr=function(){at(window,"selectstart",Et)};else{var Ss=$i(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rr=function(){if(Ss){var o=document.documentElement.style;ku=o[Ss],o[Ss]="none"}},Lr=function(){Ss&&(document.documentElement.style[Ss]=ku,ku=void 0)}}function Ru(){xe(window,"dragstart",Et)}function Lu(){at(window,"dragstart",Et)}var Va,Mu;function Ui(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Yn(),Va=o,Mu=o.style.outlineStyle,o.style.outlineStyle="none",xe(window,"keydown",Yn))}function Yn(){Va&&(Va.style.outlineStyle=Mu,Va=void 0,Mu=void 0,at(window,"keydown",Yn))}function Ou(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Fa(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var Gd={__proto__:null,TRANSFORM:Mo,TRANSITION:Oo,TRANSITION_END:Pu,get:Iu,getStyle:Es,create:We,remove:ct,empty:Do,toFront:zi,toBack:Ts,hasClass:Nu,addClass:Le,removeClass:wt,setClass:Au,getClass:fr,setOpacity:Nt,testProp:$i,setTransform:ai,setPosition:Pe,getPosition:pr,get disableTextSelection(){return Rr},get enableTextSelection(){return Lr},disableImageDrag:Ru,enableImageDrag:Lu,preventOutline:Ui,restoreOutline:Yn,getSizedParentNode:Ou,getScale:Fa};function xe(o,u,f,v){if(u&&typeof u=="object")for(var E in u)Du(o,E,u[E],f);else{u=S(u);for(var k=0,U=u.length;k<U;k++)Du(o,u[k],f,v)}return this}var mr="_leaflet_events";function at(o,u,f,v){if(arguments.length===1)Zd(o),delete o[mr];else if(u&&typeof u=="object")for(var E in u)ju(o,E,u[E],f);else if(u=S(u),arguments.length===2)Zd(o,function(q){return O(u,q)!==-1});else for(var k=0,U=u.length;k<U;k++)ju(o,u[k],f,v);return this}function Zd(o,u){for(var f in o[mr]){var v=f.split(/\d/)[0];(!u||u(v))&&ju(o,v,null,null,f)}}var gr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Du(o,u,f,v){var E=u+c(f)+(v?"_"+c(v):"");if(o[mr]&&o[mr][E])return this;var k=function(q){return f.call(v||o,q||window.event)},U=k;!_e.touchNative&&_e.pointer&&u.indexOf("touch")===0?k=Hd(o,u,k):_e.touch&&u==="dblclick"?k=Lo(o,k):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(gr[u]||u,k,_e.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(k=function(q){q=q||window.event,Fu(o,q)&&U(q)},o.addEventListener(gr[u],k,!1)):o.addEventListener(u,U,!1):o.attachEvent("on"+u,k),o[mr]=o[mr]||{},o[mr][E]=k}function ju(o,u,f,v,E){E=E||u+c(f)+(v?"_"+c(v):"");var k=o[mr]&&o[mr][E];if(!k)return this;!_e.touchNative&&_e.pointer&&u.indexOf("touch")===0?Wd(o,u,k):_e.touch&&u==="dblclick"?Bi(o,k):"removeEventListener"in o?o.removeEventListener(gr[u]||u,k,!1):o.detachEvent("on"+u,k),o[mr][E]=null}function vr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Cs(o){return Du(o,"wheel",vr),this}function Ps(o){return xe(o,"mousedown touchstart dblclick contextmenu",vr),o._leaflet_disable_click=!0,this}function Et(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Qn(o){return Et(o),vr(o),this}function Vu(o){if(o.composedPath)return o.composedPath();for(var u=[],f=o.target;f;)u.push(f),f=f.parentNode;return u}function Ba(o,u){if(!u)return new $(o.clientX,o.clientY);var f=Fa(u),v=f.boundingClientRect;return new $((o.clientX-v.left)/f.x-u.clientLeft,(o.clientY-v.top)/f.y-u.clientTop)}var xt=_e.linux&&_e.chrome?window.devicePixelRatio:_e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yd(o){return _e.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/xt:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Fu(o,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==o;)f=f.parentNode}catch{return!1}return f!==o}var Qd={__proto__:null,on:xe,off:at,stopPropagation:vr,disableScrollPropagation:Cs,disableClickPropagation:Ps,preventDefault:Et,stop:Qn,getPropagationPath:Vu,getMousePosition:Ba,getWheelDelta:Yd,isExternalTarget:Fu,addListener:xe,removeListener:at},Bu=Q.extend({run:function(o,u,f,v){this.stop(),this._el=o,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=pr(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var f=this._startPos.add(this._offset.multiplyBy(o));u&&f._round(),Pe(this._el,f),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ue=Q.extend({options:{crs:_t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=x(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ye(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Oo&&_e.any3d&&!_e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xe(this._proxy,Pu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(ye(o),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=i({animate:f.animate},f.zoom),f.pan=i({animate:f.animate,duration:f.duration},f.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,f.zoom):this._tryAnimatedPan(o,f.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(_e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(_e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,f){var v=this.getZoomScale(u),E=this.getSize().divideBy(2),k=o instanceof $?o:this.latLngToContainerPoint(o),U=k.subtract(E).multiplyBy(1-1/v),q=this.containerPointToLatLng(E.add(U));return this.setView(q,u,{zoom:f})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():he(o);var f=Y(u.paddingTopLeft||u.padding||[0,0]),v=Y(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(o,!1,f.add(v));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:o.getCenter(),zoom:E};var k=v.subtract(f).divideBy(2),U=this.project(o.getSouthWest(),E),q=this.project(o.getNorthEast(),E),K=this.unproject(U.add(q).divideBy(2).add(k),E);return{center:K,zoom:E}},fitBounds:function(o,u){if(o=he(o),!o.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(o,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=Y(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,f){if(f=f||{},f.animate===!1||!_e.any3d)return this.setView(o,u,f);this._stop();var v=this.project(this.getCenter()),E=this.project(o),k=this.getSize(),U=this._zoom;o=ye(o),u=u===void 0?U:u;var q=Math.max(k.x,k.y),K=q*this.getZoomScale(U,u),ne=E.distanceTo(v)||1,de=1.42,be=de*de;function ze(Vt){var fh=Vt?-1:1,RR=Vt?K:q,LR=K*K-q*q+fh*be*be*ne*ne,MR=2*RR*be*ne,Em=LR/MR,C0=Math.sqrt(Em*Em+1)-Em,OR=C0<1e-9?-18:Math.log(C0);return OR}function Sn(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function Jt(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function _r(Vt){return Sn(Vt)/Jt(Vt)}var Vn=ze(0);function Ja(Vt){return q*(Jt(Vn)/Jt(Vn+de*Vt))}function IR(Vt){return q*(Jt(Vn)*_r(Vn+de*Vt)-Sn(Vn))/be}function NR(Vt){return 1-Math.pow(1-Vt,1.5)}var AR=Date.now(),T0=(ze(1)-Vn)/de,kR=f.duration?1e3*f.duration:1e3*T0*.8;function S0(){var Vt=(Date.now()-AR)/kR,fh=NR(Vt)*T0;Vt<=1?(this._flyToFrame=F(S0,this),this._move(this.unproject(v.add(E.subtract(v).multiplyBy(IR(fh)/ne)),U),this.getScaleZoom(q/Ja(fh),U),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),S0.call(this),this},flyToBounds:function(o,u){var f=this._getBoundsCenterZoom(o,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(o){return o=he(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var f=this.getCenter(),v=this._limitCenter(f,this._zoom,he(o));return f.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var f=Y(u.paddingTopLeft||u.padding||[0,0]),v=Y(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),k=this.project(o),U=this.getPixelBounds(),q=oe([U.min.add(f),U.max.subtract(v)]),K=q.getSize();if(!q.contains(k)){this._enforcingBounds=!0;var ne=k.subtract(q.getCenter()),de=q.extend(k).getSize().subtract(K);E.x+=ne.x<0?-de.x:de.x,E.y+=ne.y<0?-de.y:de.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),v=u.divideBy(2).round(),E=f.divideBy(2).round(),k=v.subtract(E);return!k.x&&!k.y?this:(o.animate&&o.pan?this.panBy(k):(o.pan&&this._rawPanBy(k),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=a(this._handleGeolocationResponse,this),f=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,o):navigator.geolocation.getCurrentPosition(u,f,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,f=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,f=o.coords.longitude,v=new ge(u,f),E=v.toBounds(o.coords.accuracy*2),k=this._locateOptions;if(k.setView){var U=this.getBoundsZoom(E);this.setView(v,k.maxZoom?Math.min(U,k.maxZoom):U)}var q={latlng:v,bounds:E,timestamp:o.timestamp};for(var K in o.coords)typeof o.coords[K]=="number"&&(q[K]=o.coords[K]);this.fire("locationfound",q)}},addHandler:function(o,u){if(!u)return this;var f=this[o]=new u(this);return this._handlers.push(f),this.options[o]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ct(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var f="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),v=We("div",f,u||this._mapPane);return o&&(this._panes[o]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),f=this.unproject(o.getTopRight());return new ce(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,f){o=he(o),f=Y(f||[0,0]);var v=this.getZoom()||0,E=this.getMinZoom(),k=this.getMaxZoom(),U=o.getNorthWest(),q=o.getSouthEast(),K=this.getSize().subtract(f),ne=oe(this.project(q,v),this.project(U,v)).getSize(),de=_e.any3d?this.options.zoomSnap:1,be=K.x/ne.x,ze=K.y/ne.y,Sn=u?Math.max(be,ze):Math.min(be,ze);return v=this.getScaleZoom(Sn,v),de&&(v=Math.round(v/(de/100))*(de/100),v=u?Math.ceil(v/de)*de:Math.floor(v/de)*de),Math.max(E,Math.min(k,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var f=this._getTopLeftPoint(o,u);return new ie(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(o)/f.scale(u)},getScaleZoom:function(o,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var v=f.zoom(o*f.scale(u));return isNaN(v)?1/0:v},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ye(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(Y(o),u)},layerPointToLatLng:function(o){var u=Y(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(ye(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ye(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(he(o))},distance:function(o,u){return this.options.crs.distance(ye(o),ye(u))},containerPointToLayerPoint:function(o){return Y(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Y(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(Y(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(o)))},mouseEventToContainerPoint:function(o){return Ba(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=Iu(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xe(u,"scroll",this._onScroll,this),this._containerId=c(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e.any3d,Le(o,"leaflet-container"+(_e.touch?" leaflet-touch":"")+(_e.retina?" leaflet-retina":"")+(_e.ielt9?" leaflet-oldie":"")+(_e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Es(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pe(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(o.markerPane,"leaflet-zoom-hide"),Le(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,f){Pe(this._mapPane,new $(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,f)._move(o,u)._moveEnd(E),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,f,v){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),v?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Pe(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var u=o?at:xe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),_e.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var f=[],v,E=u==="mouseout"||u==="mouseover",k=o.target||o.srcElement,U=!1;k;){if(v=this._targets[c(k)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){U=!0;break}if(v&&v.listens(u,!0)&&(E&&!Fu(k,o)||(f.push(v),E))||k===this._container)break;k=k.parentNode}return!f.length&&!U&&!E&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var f=o.type;f==="mousedown"&&Ui(u),this._fireDOMEvent(o,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,f){if(o.type==="click"){var v=i({},o);v.type="preclick",this._fireDOMEvent(v,v.type,f)}var E=this._findEventTargets(o,u);if(f){for(var k=[],U=0;U<f.length;U++)f[U].listens(u,!0)&&k.push(f[U]);E=k.concat(E)}if(E.length){u==="contextmenu"&&Et(o);var q=E[0],K={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ne=q.getLatLng&&(!q._radius||q._radius<=10);K.containerPoint=ne?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(o),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=ne?q.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(U=0;U<E.length;U++)if(E[U].fire(u,K,!0),K.originalEvent._stopped||E[U].options.bubblingMouseEvents===!1&&O(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return pr(this._mapPane)||new $(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var f=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var f=this.getSize()._divideBy(2);return this.project(o,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,f){var v=this._getNewPixelOrigin(f,u);return this.project(o,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(o,u,f){var v=this._getNewPixelOrigin(f,u);return oe([this.project(o.getSouthWest(),u)._subtract(v),this.project(o.getNorthWest(),u)._subtract(v),this.project(o.getSouthEast(),u)._subtract(v),this.project(o.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,f){if(!f)return o;var v=this.project(o,u),E=this.getSize().divideBy(2),k=new ie(v.subtract(E),v.add(E)),U=this._getBoundsOffset(k,f,u);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?o:this.unproject(v.add(U),u)},_limitOffset:function(o,u){if(!u)return o;var f=this.getPixelBounds(),v=new ie(f.min.add(o),f.max.add(o));return o.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(o,u,f){var v=oe(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),E=v.min.subtract(o.min),k=v.max.subtract(o.max),U=this._rebound(E.x,-k.x),q=this._rebound(E.y,-k.y);return new $(U,q)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),f=this.getMaxZoom(),v=_e.any3d?this.options.zoomSnap:1;return v&&(o=Math.round(o/v)*v),Math.max(u,Math.min(f,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var f=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var o=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var f=Mo,v=this._proxy.style[f];ai(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();ai(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),E=this._getCenterOffset(o)._divideBy(1-1/v);return f.animate!==!0&&!this.getSize().contains(E)?!1:(F(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,f,v){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function za(o,u){return new Ue(o,u)}var jn=X.extend({options:{position:"topright"},initialize:function(o){x(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),f=this.getPosition(),v=o._controlCorners[f];return Le(u,"leaflet-control"),f.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Tn=function(o){return new jn(o)};Ue.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",f=this._controlContainer=We("div",u+"control-container",this._container);function v(E,k){var U=u+E+" "+u+k;o[E+k]=We("div",U,f)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ct(this._controlCorners[o]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zu=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,f,v){return f<v?-1:v<f?1:0}},initialize:function(o,u,f){x(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in o)this._addLayer(o[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return jn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(c(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=We("div",o),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ps(u),Cs(u);var v=this._section=We("section",o+"-list");f&&(this._map.on("click",this.collapse,this),xe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=We("a",o+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),xe(E,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Et(k),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=We("div",o+"-base",v),this._separator=We("div",o+"-separator",v),this._overlaysList=We("div",o+"-overlays",v),u.appendChild(v)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&c(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,f){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(a(function(v,E){return this.options.sortFunction(v.layer,E.layer,v.name,E.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Do(this._baseLayersList),Do(this._overlaysList),this._layerControlInputs=[];var o,u,f,v,E=0;for(f=0;f<this._layers.length;f++)v=this._layers[f],this._addItem(v),u=u||v.overlay,o=o||!v.overlay,E+=v.overlay?0:1;return this.options.hideSingleBase&&(o=o&&E>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(c(o.target)),f=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(o,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=f,v.firstChild},_addItem:function(o){var u=document.createElement("label"),f=this._map.hasLayer(o.layer),v;o.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=f):v=this._createRadioElement("leaflet-base-layers_"+c(this),f),this._layerControlInputs.push(v),v.layerId=c(o.layer),xe(v,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+o.name;var k=document.createElement("span");u.appendChild(k),k.appendChild(v),k.appendChild(E);var U=o.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,f,v=[],E=[];this._handlingClick=!0;for(var k=o.length-1;k>=0;k--)u=o[k],f=this._getLayer(u.layerId).layer,u.checked?v.push(f):u.checked||E.push(f);for(k=0;k<E.length;k++)this._map.hasLayer(E[k])&&this._map.removeLayer(E[k]);for(k=0;k<v.length;k++)this._map.hasLayer(v[k])||this._map.addLayer(v[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,f,v=this._map.getZoom(),E=o.length-1;E>=0;E--)u=o[E],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&v<f.options.minZoom||f.options.maxZoom!==void 0&&v>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,xe(o,"click",Et),this.expand();var u=this;setTimeout(function(){at(o,"click",Et),u._preventClick=!1})}}),vm=function(o,u,f){return new zu(o,u,f)},Hi=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",f=We("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,f,v,E){var k=We("a",f,v);return k.innerHTML=o,k.href="#",k.title=u,k.setAttribute("role","button"),k.setAttribute("aria-label",u),Ps(k),xe(k,"click",Qn),xe(k,"click",E,this),xe(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";wt(this._zoomInButton,u),wt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Le(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Le(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hi,this.addControl(this.zoomControl))});var Xd=function(o){return new Hi(o)},$a=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",f=We("div",u),v=this.options;return this._addScales(v,u+"-line",f),o.on(v.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),f},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,f){o.metric&&(this._mScale=We("div",u,f)),o.imperial&&(this._iScale=We("div",u,f))},_update:function(){var o=this._map,u=o.getSize().y/2,f=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/o)},_updateImperial:function(o){var u=o*3.2808399,f,v,E;u>5280?(f=u/5280,v=this._getRoundNum(f),this._updateScale(this._iScale,v+" mi",v/f)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(o,u,f){o.style.width=Math.round(this.options.maxWidth*f)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),f=o/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),Ua=function(o){return new $a(o)},Jd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Is=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(_e.inlineSvg?Jd+" ":"")+"Leaflet</a>"},initialize:function(o){x(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Ps(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),o.length&&f.push(o.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new Is().addTo(this)});var ym=function(o){return new Is(o)};jn.Layers=zu,jn.Zoom=Hi,jn.Scale=$a,jn.Attribution=Is,Tn.layers=vm,Tn.zoom=Xd,Tn.scale=Ua,Tn.attribution=ym;var Xn=X.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(o,u){return o.addHandler(u,this),this};var jo={Events:se},$u=_e.touch?"touchstart mousedown":"mousedown",Mr=Q.extend({options:{clickTolerance:3},initialize:function(o,u,f,v){x(this,v),this._element=o,this._dragStartTarget=u||o,this._preventOutline=f},enable:function(){this._enabled||(xe(this._dragStartTarget,$u,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mr._dragging===this&&this.finishDrag(!0),at(this._dragStartTarget,$u,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Nu(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Mr._dragging===this&&this.finishDrag();return}if(!(Mr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Mr._dragging=this,this._preventOutline&&Ui(this._element),Ru(),Rr(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,f=Ou(this._element);this._startPoint=new $(u.clientX,u.clientY),this._startPos=pr(this._element),this._parentScale=Fa(f);var v=o.type==="mousedown";xe(document,v?"mousemove":"touchmove",this._onMove,this),xe(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,f=new $(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Et(o),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Pe(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),at(document,"mousemove touchmove",this._onMove,this),at(document,"mouseup touchend touchcancel",this._onUp,this),Lu(),Lr();var u=this._moved&&this._moving;this._moving=!1,Mr._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ha(o,u,f){var v,E=[1,4,2,8],k,U,q,K,ne,de,be,ze;for(k=0,de=o.length;k<de;k++)o[k]._code=li(o[k],u);for(q=0;q<4;q++){for(be=E[q],v=[],k=0,de=o.length,U=de-1;k<de;U=k++)K=o[k],ne=o[U],K._code&be?ne._code&be||(ze=Xt(ne,K,be,u,f),ze._code=li(ze,u),v.push(ze)):(ne._code&be&&(ze=Xt(ne,K,be,u,f),ze._code=li(ze,u),v.push(ze)),v.push(K));o=v}return o}function Wa(o,u){var f,v,E,k,U,q,K,ne,de;if(!o||o.length===0)throw new Error("latlngs not passed");h(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var be=ye([0,0]),ze=he(o),Sn=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());Sn<1700&&(be=qa(o));var Jt=o.length,_r=[];for(f=0;f<Jt;f++){var Vn=ye(o[f]);_r.push(u.project(ye([Vn.lat-be.lat,Vn.lng-be.lng])))}for(q=K=ne=0,f=0,v=Jt-1;f<Jt;v=f++)E=_r[f],k=_r[v],U=E.y*k.x-k.y*E.x,K+=(E.x+k.x)*U,ne+=(E.y+k.y)*U,q+=U*3;q===0?de=_r[0]:de=[K/q,ne/q];var Ja=u.unproject(Y(de));return ye([Ja.lat+be.lat,Ja.lng+be.lng])}function qa(o){for(var u=0,f=0,v=0,E=0;E<o.length;E++){var k=ye(o[E]);u+=k.lat,f+=k.lng,v++}return ye([u/v,f/v])}var Ka={__proto__:null,clipPolygon:Ha,polygonCenter:Wa,centroid:qa};function Uu(o,u){if(!u||!o.length)return o.slice();var f=u*u;return o=th(o,f),o=eh(o,f),o}function Hu(o,u,f){return Math.sqrt(yr(o,u,f,!0))}function Wi(o,u,f){return yr(o,u,f)}function eh(o,u){var f=o.length,v=typeof Uint8Array<"u"?Uint8Array:Array,E=new v(f);E[0]=E[f-1]=1,Ga(o,E,u,0,f-1);var k,U=[];for(k=0;k<f;k++)E[k]&&U.push(o[k]);return U}function Ga(o,u,f,v,E){var k=0,U,q,K;for(q=v+1;q<=E-1;q++)K=yr(o[q],o[v],o[E],!0),K>k&&(U=q,k=K);k>f&&(u[U]=1,Ga(o,u,f,v,U),Ga(o,u,f,U,E))}function th(o,u){for(var f=[o[0]],v=1,E=0,k=o.length;v<k;v++)nh(o[v],o[E])>u&&(f.push(o[v]),E=v);return E<k-1&&f.push(o[k-1]),f}var Wu;function Vo(o,u,f,v,E){var k=v?Wu:li(o,f),U=li(u,f),q,K,ne;for(Wu=U;;){if(!(k|U))return[o,u];if(k&U)return!1;q=k||U,K=Xt(o,u,q,f,E),ne=li(K,f),q===k?(o=K,k=ne):(u=K,U=ne)}}function Xt(o,u,f,v,E){var k=u.x-o.x,U=u.y-o.y,q=v.min,K=v.max,ne,de;return f&8?(ne=o.x+k*(K.y-o.y)/U,de=K.y):f&4?(ne=o.x+k*(q.y-o.y)/U,de=q.y):f&2?(ne=K.x,de=o.y+U*(K.x-o.x)/k):f&1&&(ne=q.x,de=o.y+U*(q.x-o.x)/k),new $(ne,de,E)}function li(o,u){var f=0;return o.x<u.min.x?f|=1:o.x>u.max.x&&(f|=2),o.y<u.min.y?f|=4:o.y>u.max.y&&(f|=8),f}function nh(o,u){var f=u.x-o.x,v=u.y-o.y;return f*f+v*v}function yr(o,u,f,v){var E=u.x,k=u.y,U=f.x-E,q=f.y-k,K=U*U+q*q,ne;return K>0&&(ne=((o.x-E)*U+(o.y-k)*q)/K,ne>1?(E=f.x,k=f.y):ne>0&&(E+=U*ne,k+=q*ne)),U=o.x-E,q=o.y-k,v?U*U+q*q:new $(E,k)}function h(o){return!I(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function w(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),h(o)}function P(o,u){var f,v,E,k,U,q,K,ne;if(!o||o.length===0)throw new Error("latlngs not passed");h(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var de=ye([0,0]),be=he(o),ze=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());ze<1700&&(de=qa(o));var Sn=o.length,Jt=[];for(f=0;f<Sn;f++){var _r=ye(o[f]);Jt.push(u.project(ye([_r.lat-de.lat,_r.lng-de.lng])))}for(f=0,v=0;f<Sn-1;f++)v+=Jt[f].distanceTo(Jt[f+1])/2;if(v===0)ne=Jt[0];else for(f=0,k=0;f<Sn-1;f++)if(U=Jt[f],q=Jt[f+1],E=U.distanceTo(q),k+=E,k>v){K=(k-v)/E,ne=[q.x-K*(q.x-U.x),q.y-K*(q.y-U.y)];break}var Vn=u.unproject(Y(ne));return ye([Vn.lat+de.lat,Vn.lng+de.lng])}var M={__proto__:null,simplify:Uu,pointToSegmentDistance:Hu,closestPointOnSegment:Wi,clipSegment:Vo,_getEdgeIntersection:Xt,_getBitCode:li,_sqClosestPointOnSegment:yr,isFlat:h,_flat:w,polylineCenter:P},W={project:function(o){return new $(o.lng,o.lat)},unproject:function(o){return new ge(o.y,o.x)},bounds:new ie([-180,-90],[180,90])},G={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,f=this.R,v=o.lat*u,E=this.R_MINOR/f,k=Math.sqrt(1-E*E),U=k*Math.sin(v),q=Math.tan(Math.PI/4-v/2)/Math.pow((1-U)/(1+U),k/2);return v=-f*Math.log(Math.max(q,1e-10)),new $(o.lng*u*f,v)},unproject:function(o){for(var u=180/Math.PI,f=this.R,v=this.R_MINOR/f,E=Math.sqrt(1-v*v),k=Math.exp(-o.y/f),U=Math.PI/2-2*Math.atan(k),q=0,K=.1,ne;q<15&&Math.abs(K)>1e-7;q++)ne=E*Math.sin(U),ne=Math.pow((1-ne)/(1+ne),E/2),K=Math.PI/2-2*Math.atan(k*ne)-U,U+=K;return new ge(U*u,o.x*u/f)}},ue={__proto__:null,LonLat:W,Mercator:G,SphericalMercator:Ve},it=i({},je,{code:"EPSG:3395",projection:G,transformation:function(){var o=.5/(Math.PI*G.R);return Oe(o,.5,-o,.5)}()}),jt=i({},je,{code:"EPSG:4326",projection:W,transformation:Oe(1/180,1,-1/180,.5)}),Ge=i({},ae,{projection:W,transformation:Oe(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var f=u.lng-o.lng,v=u.lat-o.lat;return Math.sqrt(f*f+v*v)},infinite:!0});ae.Earth=je,ae.EPSG3395=it,ae.EPSG3857=_t,ae.EPSG900913=Yt,ae.EPSG4326=jt,ae.Simple=Ge;var lt=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=c(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=c(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,u){for(var f in this._layers)o.call(u,this._layers[f]);return this},_addLayers:function(o){o=o?I(o)?o:[o]:[];for(var u=0,f=o.length;u<f;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=c(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,f=this._getZoomSpan();for(var v in this._zoomBoundLayers){var E=this._zoomBoundLayers[v].options;o=E.minZoom===void 0?o:Math.min(o,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tt=lt.extend({initialize:function(o,u){x(this,u),this._layers={};var f,v;if(o)for(f=0,v=o.length;f<v;f++)this.addLayer(o[f])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),f,v;for(f in this._layers)v=this._layers[f],v[o]&&v[o].apply(v,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var f in this._layers)o.call(u,this._layers[f]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),Ns=function(o,u){return new Tt(o,u)},Rt=Tt.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Tt.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Tt.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ce;for(var u in this._layers){var f=this._layers[u];o.extend(f.getBounds?f.getBounds():f.getLatLng())}return o}}),Za=function(o,u){return new Rt(o,u)},ui=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){x(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var f=this._getIconUrl(o);if(!f){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(o,u){var f=this.options,v=f[u+"Size"];typeof v=="number"&&(v=[v,v]);var E=Y(v),k=Y(u==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(f.className||""),k&&(o.style.marginLeft=-k.x+"px",o.style.marginTop=-k.y+"px"),E&&(o.style.width=E.x+"px",o.style.height=E.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return _e.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function uR(o){return new ui(o)}var qu=ui.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof qu.imagePath!="string"&&(qu.imagePath=this._detectIconPath()),(this.options.imagePath||qu.imagePath)+ui.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(f,v,E){var k=v.exec(f);return k&&k[E]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=We("div","leaflet-default-icon-path",document.body),u=Es(o,"background-image")||Es(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),s0=Xn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Mr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,f=u._map,v=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,k=pr(u._icon),U=f.getPixelBounds(),q=f.getPixelOrigin(),K=oe(U.min._subtract(q).add(E),U.max._subtract(q).subtract(E));if(!K.contains(k)){var ne=Y((Math.max(K.max.x,k.x)-K.max.x)/(U.max.x-K.max.x)-(Math.min(K.min.x,k.x)-K.min.x)/(U.min.x-K.min.x),(Math.max(K.max.y,k.y)-K.max.y)/(U.max.y-K.max.y)-(Math.min(K.min.y,k.y)-K.min.y)/(U.min.y-K.min.y)).multiplyBy(v);f.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),Pe(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=F(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,f=u._shadow,v=pr(u._icon),E=u._map.layerPointToLatLng(v);f&&Pe(f,v),u._latlng=E,o.latlng=E,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),rh=lt.extend({options:{icon:new qu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){x(this,u),this._latlng=ye(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=ye(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=o.icon.createIcon(this._icon),v=!1;f!==this._icon&&(this._icon&&this._removeIcon(),v=!0,o.title&&(f.title=o.title),f.tagName==="IMG"&&(f.alt=o.alt||"")),Le(f,u),o.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(f,"focus",this._panOnFocus,this);var E=o.icon.createShadow(this._shadow),k=!1;E!==this._shadow&&(this._removeShadow(),k=!0),E&&(Le(E,u),E.alt=""),this._shadow=E,o.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&k&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Pe(this._icon,o),this._shadow&&Pe(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),s0)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new s0(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Nt(this._icon,o),this._shadow&&Nt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,f=u.iconSize?Y(u.iconSize):Y(0,0),v=u.iconAnchor?Y(u.iconAnchor):Y(0,0);o.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:f.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cR(o,u){return new rh(o,u)}var As=lt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return x(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ih=As.extend({options:{fill:!0,radius:10},initialize:function(o,u){x(this,u),this._latlng=ye(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=ye(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return As.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,f=this._clickTolerance(),v=[o+f,u+f];this._pxBounds=new ie(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dR(o,u){return new ih(o,u)}var _m=ih.extend({initialize:function(o,u,f){if(typeof u=="number"&&(u=i({},f,{radius:u})),x(this,u),this._latlng=ye(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:As.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,f=this._map,v=f.options.crs;if(v.distance===je.distance){var E=Math.PI/180,k=this._mRadius/je.R/E,U=f.project([u+k,o]),q=f.project([u-k,o]),K=U.add(q).divideBy(2),ne=f.unproject(K).lat,de=Math.acos((Math.cos(k*E)-Math.sin(u*E)*Math.sin(ne*E))/(Math.cos(u*E)*Math.cos(ne*E)))/E;(isNaN(de)||de===0)&&(de=k/Math.cos(Math.PI/180*u)),this._point=K.subtract(f.getPixelOrigin()),this._radius=isNaN(de)?0:K.x-f.project([ne,o-de]).x,this._radiusY=K.y-U.y}else{var be=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(be).x}this._updateBounds()}});function hR(o,u,f){return new _m(o,u,f)}var qi=As.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){x(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,f=null,v=yr,E,k,U=0,q=this._parts.length;U<q;U++)for(var K=this._parts[U],ne=1,de=K.length;ne<de;ne++){E=K[ne-1],k=K[ne];var be=v(o,E,k,!0);be<u&&(u=be,f=v(o,E,k))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return P(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=ye(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ce,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return h(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],f=h(o),v=0,E=o.length;v<E;v++)f?(u[v]=ye(o[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(o[v]);return u},_project:function(){var o=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new $(o,o);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,f){var v=o[0]instanceof ge,E=o.length,k,U;if(v){for(U=[],k=0;k<E;k++)U[k]=this._map.latLngToLayerPoint(o[k]),f.extend(U[k]);u.push(U)}else for(k=0;k<E;k++)this._projectLatlngs(o[k],u,f)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,v,E,k,U,q,K;for(f=0,E=0,k=this._rings.length;f<k;f++)for(K=this._rings[f],v=0,U=K.length;v<U-1;v++)q=Vo(K[v],K[v+1],o,v,!0),q&&(u[E]=u[E]||[],u[E].push(q[0]),(q[1]!==K[v+1]||v===U-2)&&(u[E].push(q[1]),E++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,f=0,v=o.length;f<v;f++)o[f]=Uu(o[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var f,v,E,k,U,q,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(f=0,k=this._parts.length;f<k;f++)for(q=this._parts[f],v=0,U=q.length,E=U-1;v<U;E=v++)if(!(!u&&v===0)&&Hu(o,q[E],q[v])<=K)return!0;return!1}});function fR(o,u){return new qi(o,u)}qi._flat=w;var Ya=qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=qi.prototype._convertLatLngs.call(this,o),f=u.length;return f>=2&&u[0]instanceof ge&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(o){qi.prototype._setLatLngs.call(this,o),h(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return h(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,f=new $(u,u);if(o=new ie(o.min.subtract(f),o.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,E=this._rings.length,k;v<E;v++)k=Ha(this._rings[v],o,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,f,v,E,k,U,q,K,ne;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(k=0,K=this._parts.length;k<K;k++)for(f=this._parts[k],U=0,ne=f.length,q=ne-1;U<ne;q=U++)v=f[U],E=f[q],v.y>o.y!=E.y>o.y&&o.x<(E.x-v.x)*(o.y-v.y)/(E.y-v.y)+v.x&&(u=!u);return u||qi.prototype._containsPoint.call(this,o,!0)}});function pR(o,u){return new Ya(o,u)}var Ki=Rt.extend({initialize:function(o,u){x(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=I(o)?o:o.features,f,v,E;if(u){for(f=0,v=u.length;f<v;f++)E=u[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var k=this.options;if(k.filter&&!k.filter(o))return this;var U=sh(o,k);return U?(U.feature=lh(o),U.defaultOptions=U.options,this.resetStyle(U),k.onEachFeature&&k.onEachFeature(o,U),this.addLayer(U)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function sh(o,u){var f=o.type==="Feature"?o.geometry:o,v=f?f.coordinates:null,E=[],k=u&&u.pointToLayer,U=u&&u.coordsToLatLng||wm,q,K,ne,de;if(!v&&!f)return null;switch(f.type){case"Point":return q=U(v),o0(k,o,q,u);case"MultiPoint":for(ne=0,de=v.length;ne<de;ne++)q=U(v[ne]),E.push(o0(k,o,q,u));return new Rt(E);case"LineString":case"MultiLineString":return K=oh(v,f.type==="LineString"?0:1,U),new qi(K,u);case"Polygon":case"MultiPolygon":return K=oh(v,f.type==="Polygon"?1:2,U),new Ya(K,u);case"GeometryCollection":for(ne=0,de=f.geometries.length;ne<de;ne++){var be=sh({geometry:f.geometries[ne],type:"Feature",properties:o.properties},u);be&&E.push(be)}return new Rt(E);case"FeatureCollection":for(ne=0,de=f.features.length;ne<de;ne++){var ze=sh(f.features[ne],u);ze&&E.push(ze)}return new Rt(E);default:throw new Error("Invalid GeoJSON object.")}}function o0(o,u,f,v){return o?o(u,f):new rh(f,v&&v.markersInheritOptions&&v)}function wm(o){return new ge(o[1],o[0],o[2])}function oh(o,u,f){for(var v=[],E=0,k=o.length,U;E<k;E++)U=u?oh(o[E],u-1,f):(f||wm)(o[E]),v.push(U);return v}function xm(o,u){return o=ye(o),o.alt!==void 0?[y(o.lng,u),y(o.lat,u),y(o.alt,u)]:[y(o.lng,u),y(o.lat,u)]}function ah(o,u,f,v){for(var E=[],k=0,U=o.length;k<U;k++)E.push(u?ah(o[k],h(o[k])?0:u-1,f,v):xm(o[k],v));return!u&&f&&E.length>0&&E.push(E[0].slice()),E}function Qa(o,u){return o.feature?i({},o.feature,{geometry:u}):lh(u)}function lh(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var bm={toGeoJSON:function(o){return Qa(this,{type:"Point",coordinates:xm(this.getLatLng(),o)})}};rh.include(bm),_m.include(bm),ih.include(bm),qi.include({toGeoJSON:function(o){var u=!h(this._latlngs),f=ah(this._latlngs,u?1:0,!1,o);return Qa(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),Ya.include({toGeoJSON:function(o){var u=!h(this._latlngs),f=u&&!h(this._latlngs[0]),v=ah(this._latlngs,f?2:u?1:0,!0,o);return u||(v=[v]),Qa(this,{type:(f?"Multi":"")+"Polygon",coordinates:v})}}),Tt.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(o).geometry.coordinates)}),Qa(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var f=u==="GeometryCollection",v=[];return this.eachLayer(function(E){if(E.toGeoJSON){var k=E.toGeoJSON(o);if(f)v.push(k.geometry);else{var U=lh(k);U.type==="FeatureCollection"?v.push.apply(v,U.features):v.push(U)}}}),f?Qa(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function a0(o,u){return new Ki(o,u)}var mR=a0,uh=lt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,f){this._url=o,this._bounds=he(u),x(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&zi(this._image),this},bringToBack:function(){return this._map&&Ts(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=he(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:We("img");if(Le(u,"leaflet-image-layer"),this._zoomAnimated&&Le(u,"leaflet-zoom-animated"),this.options.className&&Le(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=a(this.fire,this,"load"),u.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;ai(this._image,f,u)},_reset:function(){var o=this._image,u=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();Pe(o,u.min),o.style.width=f.x+"px",o.style.height=f.y+"px"},_updateOpacity:function(){Nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),gR=function(o,u,f){return new uh(o,u,f)},l0=uh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:We("video");if(Le(u,"leaflet-image-layer"),this._zoomAnimated&&Le(u,"leaflet-zoom-animated"),this.options.className&&Le(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=a(this.fire,this,"load"),o){for(var f=u.getElementsByTagName("source"),v=[],E=0;E<f.length;E++)v.push(f[E].src);this._url=f.length>0?v:[u.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var U=We("source");U.src=this._url[k],u.appendChild(U)}}});function vR(o,u,f){return new l0(o,u,f)}var u0=uh.extend({_initImage:function(){var o=this._image=this._url;Le(o,"leaflet-image-layer"),this._zoomAnimated&&Le(o,"leaflet-zoom-animated"),this.options.className&&Le(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function yR(o,u,f){return new u0(o,u,f)}var ci=lt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof ge||I(o))?(this._latlng=ye(o),x(this,u)):(x(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Nt(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Nt(this._container,0),this._removeTimeout=setTimeout(a(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ye(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zi(this._container),this},bringToBack:function(){return this._map&&Ts(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof Rt){u=null;var f=this._source._layers;for(var v in f)if(f[v]._map){u=f[v];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=Y(this.options.offset),f=this._getAnchor();this._zoomAnimated?Pe(this._container,o.add(f)):u=u.add(o).add(f);var v=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(o,u,f,v){var E=u;return E instanceof o||(E=new o(v).setContent(u)),f&&E.setLatLng(f),E}}),lt.include({_initOverlay:function(o,u,f,v){var E=f;return E instanceof o?(x(E,v),E._source=this):(E=u&&!v?u:new o(v,this),E.setContent(f)),E}});var ch=ci.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ci.prototype.openOn.call(this,o)},onAdd:function(o){ci.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof As||this._source.on("preclick",vr))},onRemove:function(o){ci.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof As||this._source.off("preclick",vr))},getEvents:function(){var o=ci.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=We("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=We("div",o+"-content-wrapper",u);if(this._contentNode=We("div",o+"-content",f),Ps(u),Cs(this._contentNode),xe(u,"contextmenu",vr),this._tipContainer=We("div",o+"-tip-container",u),this._tip=We("div",o+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=We("a",o+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',xe(v,"click",function(E){Et(E),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var f=o.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var v=o.offsetHeight,E=this.options.maxHeight,k="leaflet-popup-scrolled";E&&v>E?(u.height=E+"px",Le(o,k)):wt(o,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),f=this._getAnchor();Pe(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(Es(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,v=this._containerWidth,E=new $(this._containerLeft,-f-this._containerBottom);E._add(pr(this._container));var k=o.layerPointToContainerPoint(E),U=Y(this.options.autoPanPadding),q=Y(this.options.autoPanPaddingTopLeft||U),K=Y(this.options.autoPanPaddingBottomRight||U),ne=o.getSize(),de=0,be=0;k.x+v+K.x>ne.x&&(de=k.x+v-ne.x+K.x),k.x-de-q.x<0&&(de=k.x-q.x),k.y+f+K.y>ne.y&&(be=k.y+f-ne.y+K.y),k.y-be-q.y<0&&(be=k.y-q.y),(de||be)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([de,be]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_R=function(o,u){return new ch(o,u)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(o,u,f){return this._initOverlay(ch,o,u,f).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),lt.include({bindPopup:function(o,u){return this._popup=this._initOverlay(ch,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Rt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Qn(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof As)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var dh=ci.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ci.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ci.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ci.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,f,v=this._map,E=this._container,k=v.latLngToContainerPoint(v.getCenter()),U=v.layerPointToContainerPoint(o),q=this.options.direction,K=E.offsetWidth,ne=E.offsetHeight,de=Y(this.options.offset),be=this._getAnchor();q==="top"?(u=K/2,f=ne):q==="bottom"?(u=K/2,f=0):q==="center"?(u=K/2,f=ne/2):q==="right"?(u=0,f=ne/2):q==="left"?(u=K,f=ne/2):U.x<k.x?(q="right",u=0,f=ne/2):(q="left",u=K+(de.x+be.x)*2,f=ne/2),o=o.subtract(Y(u,f,!0)).add(de).add(be),wt(E,"leaflet-tooltip-right"),wt(E,"leaflet-tooltip-left"),wt(E,"leaflet-tooltip-top"),wt(E,"leaflet-tooltip-bottom"),Le(E,"leaflet-tooltip-"+q),Pe(E,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Nt(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wR=function(o,u){return new dh(o,u)};Ue.include({openTooltip:function(o,u,f){return this._initOverlay(dh,o,u,f).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),lt.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dh,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Rt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(xe(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),xe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,f,v;this._tooltip.options.sticky&&o.originalEvent&&(f=this._map.mouseEventToContainerPoint(o.originalEvent),v=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var c0=ui.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Do(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var v=Y(f.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function xR(o){return new c0(o)}ui.Default=qu;var Ku=lt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){x(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ct(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ts(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof $?o:new $(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,f=-o(-1/0,1/0),v=0,E=u.length,k;v<E;v++)k=u[v].style.zIndex,u[v]!==this._container&&k&&(f=o(f,+k));isFinite(f)&&(this.options.zIndex=f+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!_e.ielt9){Nt(this._container,this.options.opacity);var o=+new Date,u=!1,f=!1;for(var v in this._tiles){var E=this._tiles[v];if(!(!E.current||!E.loaded)){var k=Math.min(1,(o-E.loaded)/200);Nt(E.el,k),k<1?u=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(B(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===o?(this._levels[f].el.style.zIndex=u-Math.abs(o-f),this._onUpdateLevel(f)):(ct(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var v=this._levels[o],E=this._map;return v||(v=this._levels[o]={},v.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=E.project(E.unproject(E.getPixelOrigin()),o).round(),v.zoom=o,this._setZoomTransform(v,E.getCenter(),E.getZoom()),g(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ct(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,f,v){var E=Math.floor(o/2),k=Math.floor(u/2),U=f-1,q=new $(+E,+k);q.z=+U;var K=this._tileCoordsToKey(q),ne=this._tiles[K];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),U>v?this._retainParent(E,k,U,v):!1)},_retainChildren:function(o,u,f,v){for(var E=2*o;E<2*o+2;E++)for(var k=2*u;k<2*u+2;k++){var U=new $(E,k);U.z=f+1;var q=this._tileCoordsToKey(U),K=this._tiles[q];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);f+1<v&&this._retainChildren(E,k,f+1,v)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,f,v){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var k=this.options.updateWhenZooming&&E!==this._tileZoom;(!v||k)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(o),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],o,u)},_setZoomTransform:function(o,u,f){var v=this._map.getZoomScale(f,o.zoom),E=o.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,f)).round();_e.any3d?ai(o.el,E,v):Pe(o.el,E)},_resetGrid:function(){var o=this._map,u=o.options.crs,f=this._tileSize=this.getTileSize(),v=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],v).x/f.x),Math.ceil(o.project([0,u.wrapLng[1]],v).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],v).y/f.x),Math.ceil(o.project([u.wrapLat[1],0],v).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(f,this._tileZoom),E=u.project(o,this._tileZoom).floor(),k=u.getSize().divideBy(v*2);return new ie(E.subtract(k),E.add(k))},_update:function(o){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(o),E=this._pxBoundsToTileRange(v),k=E.getCenter(),U=[],q=this.options.keepBuffer,K=new ie(E.getBottomLeft().subtract([q,-q]),E.getTopRight().add([q,-q]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var de=this._tiles[ne].coords;(de.z!==this._tileZoom||!K.contains(new $(de.x,de.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(o,f);return}for(var be=E.min.y;be<=E.max.y;be++)for(var ze=E.min.x;ze<=E.max.x;ze++){var Sn=new $(ze,be);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var Jt=this._tiles[this._tileCoordsToKey(Sn)];Jt?Jt.current=!0:U.push(Sn)}}if(U.sort(function(Vn,Ja){return Vn.distanceTo(k)-Ja.distanceTo(k)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _r=document.createDocumentFragment();for(ze=0;ze<U.length;ze++)this._addTile(U[ze],_r);this._level.el.appendChild(_r)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(o.x<f.min.x||o.x>f.max.x)||!u.wrapLat&&(o.y<f.min.y||o.y>f.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(o);return he(this.options.bounds).overlaps(v)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,f=this.getTileSize(),v=o.scaleBy(f),E=v.add(f),k=u.unproject(v,o.z),U=u.unproject(E,o.z);return[k,U]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),f=new ce(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),f=new $(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(o){var u=this._tiles[o];u&&(ct(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Le(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=g,o.onmousemove=g,_e.ielt9&&this.options.opacity<1&&Nt(o,this.options.opacity)},_addTile:function(o,u){var f=this._getTilePos(o),v=this._tileCoordsToKey(o),E=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(E),this.createTile.length<2&&F(a(this._tileReady,this,o,null,E)),Pe(E,f),this._tiles[v]={el:E,coords:o,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:o})},_tileReady:function(o,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:o});var v=this._tileCoordsToKey(o);f=this._tiles[v],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Nt(f.el,0),B(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Le(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),_e.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new $(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new ie(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function bR(o){return new Ku(o)}var Xa=Ku.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=x(this,u),u.detectRetina&&_e.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var f=document.createElement("img");return xe(f,"load",a(this._tileOnLoad,this,u,f)),xe(f,"error",a(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(o),f},getTileUrl:function(o){var u={r:_e.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=f),u["-y"]=f}return T(this._url,i(u,this.options))},_tileOnLoad:function(o,u){_e.ielt9?setTimeout(a(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,f){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),o(f,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,v=this.options.zoomOffset;return f&&(o=u-o),o+v},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=g,u.onerror=g,!u.complete)){u.src=z;var f=this._tiles[o].coords;ct(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",z),Ku.prototype._removeTile.call(this,o)},_tileReady:function(o,u,f){if(!(!this._map||f&&f.getAttribute("src")===z))return Ku.prototype._tileReady.call(this,o,u,f)}});function d0(o,u){return new Xa(o,u)}var h0=Xa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var f=i({},this.defaultWmsParams);for(var v in u)v in this.options||(f[v]=u[v]);u=x(this,u);var E=u.detectRetina&&_e.retina?2:1,k=this.getTileSize();f.width=k.x*E,f.height=k.y*E,this.wmsParams=f},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Xa.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),f=this._crs,v=oe(f.project(u[0]),f.project(u[1])),E=v.min,k=v.max,U=(this._wmsVersion>=1.3&&this._crs===jt?[E.y,E.x,k.y,k.x]:[E.x,E.y,k.x,k.y]).join(","),q=Xa.prototype.getTileUrl.call(this,o);return q+C(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(o,u){return i(this.wmsParams,o),u||this.redraw(),this}});function ER(o,u){return new h0(o,u)}Xa.WMS=h0,d0.wms=ER;var Gi=lt.extend({options:{padding:.1},initialize:function(o){x(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var f=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),k=v.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(o,u));_e.any3d?ai(this._container,k,f):Pe(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new ie(f,f.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),f0=Gi.extend({options:{tolerance:0},getEvents:function(){var o=Gi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");xe(o,"mousemove",this._onMouseMove,this),xe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,ct(this._container),at(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var o=this._bounds,u=this._container,f=o.getSize(),v=_e.retina?2:1;Pe(u,o.min),u.width=v*f.x,u.height=v*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",_e.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,f=u.next,v=u.prev;f?f.prev=v:this._drawLast=v,v?v.next=f:this._drawFirst=f,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),f=[],v,E;for(E=0;E<u.length;E++){if(v=Number(u[E]),isNaN(v))return;f.push(v)}o.options._dashArray=f}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)o=v.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var f,v,E,k,U=o._parts,q=U.length,K=this._ctx;if(q){for(K.beginPath(),f=0;f<q;f++){for(v=0,E=U[f].length;v<E;v++)k=U[f][v],K[v?"lineTo":"moveTo"](k.x,k.y);u&&K.closePath()}this._fillStroke(K,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,f=this._ctx,v=Math.max(Math.round(o._radius),1),E=(Math.max(Math.round(o._radiusY),1)||v)/v;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(u.x,u.y/E,v,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,o)}},_fillStroke:function(o,u){var f=u.options;f.fill&&(o.globalAlpha=f.fillOpacity,o.fillStyle=f.fillColor||f.color,o.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=f.opacity,o.lineWidth=f.weight,o.strokeStyle=f.color,o.lineCap=f.lineCap,o.lineJoin=f.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),f,v,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(f))&&(v=f);this._fireEvent(v?[v]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(wt(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var f,v,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(u)&&(v=f);v!==this._hoveredLayer&&(this._handleMouseOut(o),v&&(Le(this._container,"leaflet-interactive"),this._fireEvent([v],o,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,f){this._map._fireDOMEvent(u,f||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var f=u.next,v=u.prev;if(f)f.prev=v;else return;v?v.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var f=u.next,v=u.prev;if(v)v.next=f;else return;f?f.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function p0(o){return _e.canvas?new f0(o):null}var Gu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),TR={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=Gu("shape");Le(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=Gu("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;ct(u),o.removeInteractiveTarget(u),delete this._layers[c(o)]},_updateStyle:function(o){var u=o._stroke,f=o._fill,v=o.options,E=o._container;E.stroked=!!v.stroke,E.filled=!!v.fill,v.stroke?(u||(u=o._stroke=Gu("stroke")),E.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=I(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(E.removeChild(u),o._stroke=null),v.fill?(f||(f=o._fill=Gu("fill")),E.appendChild(f),f.color=v.fillColor||v.color,f.opacity=v.fillOpacity):f&&(E.removeChild(f),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),f=Math.round(o._radius),v=Math.round(o._radiusY||f);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+v+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){zi(o._container)},_bringToBack:function(o){Ts(o._container)}},hh=_e.vml?Gu:Ln,Zu=Gi.extend({_initContainer:function(){this._container=hh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),at(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var o=this._bounds,u=o.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),Pe(f,o.min),f.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=hh("path");o.options.className&&Le(u,o.options.className),o.options.interactive&&Le(u,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ct(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,f=o.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Mn(o._parts,u))},_updateCircle:function(o){var u=o._point,f=Math.max(Math.round(o._radius),1),v=Math.max(Math.round(o._radiusY),1)||f,E="a"+f+","+v+" 0 1,0 ",k=o._empty()?"M0 0":"M"+(u.x-f)+","+u.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(o,k)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){zi(o._path)},_bringToBack:function(o){Ts(o._path)}});_e.vml&&Zu.include(TR);function m0(o){return _e.svg||_e.vml?new Zu(o):null}Ue.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&p0(o)||m0(o)}});var g0=Ya.extend({initialize:function(o,u){Ya.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=he(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function SR(o,u){return new g0(o,u)}Zu.create=hh,Zu.pointsToPath=Mn,Ki.geometryToLayer=sh,Ki.coordsToLatLng=wm,Ki.coordsToLatLngs=oh,Ki.latLngToCoords=xm,Ki.latLngsToCoords=ah,Ki.getFeature=Qa,Ki.asFeature=lh,Ue.mergeOptions({boxZoom:!0});var v0=Xn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rr(),Ru(),this._startPoint=this._map.mouseEventToContainerPoint(o),xe(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new ie(this._point,this._startPoint),f=u.getSize();Pe(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ct(this._box),wt(this._container,"leaflet-crosshair")),Lr(),Lu(),at(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var u=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",v0),Ue.mergeOptions({doubleClickZoom:!0});var y0=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,f=u.getZoom(),v=u.options.zoomDelta,E=o.originalEvent.shiftKey?f-v:f+v;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(o.containerPoint,E)}});Ue.addInitHook("addHandler","doubleClickZoom",y0),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _0=Xn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Mr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=he(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),f=this._initialWorldOffset,v=this._draggable._newPos.x,E=(v-u+f)%o+u-f,k=(v+u+f)%o-u-f,U=Math.abs(E+f)<Math.abs(k+f)?E:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(o){var u=this._map,f=u.options,v=!f.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),v)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,U=f.easeLinearity,q=E.multiplyBy(U/k),K=q.distanceTo([0,0]),ne=Math.min(f.inertiaMaxSpeed,K),de=q.multiplyBy(ne/K),be=ne/(f.inertiaDeceleration*U),ze=de.multiplyBy(-be/2).round();!ze.x&&!ze.y?u.fire("moveend"):(ze=u._limitOffset(ze,u.options.maxBounds),F(function(){u.panBy(ze,{duration:be,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",_0),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var w0=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),xe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),at(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,f=o.scrollTop||u.scrollTop,v=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},f=this.keyCodes,v,E;for(v=0,E=f.left.length;v<E;v++)u[f.left[v]]=[-1*o,0];for(v=0,E=f.right.length;v<E;v++)u[f.right[v]]=[o,0];for(v=0,E=f.down.length;v<E;v++)u[f.down[v]]=[0,o];for(v=0,E=f.up.length;v<E;v++)u[f.up[v]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},f=this.keyCodes,v,E;for(v=0,E=f.zoomIn.length;v<E;v++)u[f.zoomIn[v]]=o;for(v=0,E=f.zoomOut.length;v<E;v++)u[f.zoomOut[v]]=-o},_addHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){at(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,f=this._map,v;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(v=this._panKeys[u],o.shiftKey&&(v=Y(v).multiplyBy(3)),f.options.maxBounds&&(v=f._limitOffset(Y(v),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(v)));f.panTo(E)}else f.panBy(v)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Qn(o)}}});Ue.addInitHook("addHandler","keyboard",w0),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var x0=Xn.extend({addHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=Yd(o),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var v=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),v),Qn(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),f=this._map.options.zoomSnap||0;o._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,k=f?Math.ceil(E/f)*f:E,U=o._limitZoom(u+(this._delta>0?k:-k))-u;this._delta=0,this._startTime=null,U&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+U):o.setZoomAround(this._lastMousePos,u+U))}});Ue.addInitHook("addHandler","scrollWheelZoom",x0);var CR=600;Ue.mergeOptions({tapHold:_e.touchNative&&_e.safari&&_e.mobile,tapTolerance:15});var b0=Xn.extend({addHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new $(u.clientX,u.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(xe(document,"touchend",Et),xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),CR),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){at(document,"touchend",Et),at(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new $(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var f=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});Ue.addInitHook("addHandler","tapHold",b0),Ue.mergeOptions({touchZoom:_e.touch,bounceAtZoomLimits:!0});var E0=Xn.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(o.touches[0]),v=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(v)._divideBy(2))),this._startDist=f.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),Et(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(o.touches[0]),v=u.mouseEventToContainerPoint(o.touches[1]),E=f.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var k=f._add(v)._divideBy(2)._subtract(this._centerPoint);if(E===1&&k.x===0&&k.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var U=a(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(U,this,!0),Et(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",E0),Ue.BoxZoom=v0,Ue.DoubleClickZoom=y0,Ue.Drag=_0,Ue.Keyboard=w0,Ue.ScrollWheelZoom=x0,Ue.TapHold=b0,Ue.TouchZoom=E0,n.Bounds=ie,n.Browser=_e,n.CRS=ae,n.Canvas=f0,n.Circle=_m,n.CircleMarker=ih,n.Class=X,n.Control=jn,n.DivIcon=c0,n.DivOverlay=ci,n.DomEvent=Qd,n.DomUtil=Gd,n.Draggable=Mr,n.Evented=Q,n.FeatureGroup=Rt,n.GeoJSON=Ki,n.GridLayer=Ku,n.Handler=Xn,n.Icon=ui,n.ImageOverlay=uh,n.LatLng=ge,n.LatLngBounds=ce,n.Layer=lt,n.LayerGroup=Tt,n.LineUtil=M,n.Map=Ue,n.Marker=rh,n.Mixin=jo,n.Path=As,n.Point=$,n.PolyUtil=Ka,n.Polygon=Ya,n.Polyline=qi,n.Popup=ch,n.PosAnimation=Bu,n.Projection=ue,n.Rectangle=g0,n.Renderer=Gi,n.SVG=Zu,n.SVGOverlay=u0,n.TileLayer=Xa,n.Tooltip=dh,n.Transformation=Re,n.Util=V,n.VideoOverlay=l0,n.bind=a,n.bounds=oe,n.canvas=p0,n.circle=hR,n.circleMarker=dR,n.control=Tn,n.divIcon=xR,n.extend=i,n.featureGroup=Za,n.geoJSON=a0,n.geoJson=mR,n.gridLayer=bR,n.icon=uR,n.imageOverlay=gR,n.latLng=ye,n.latLngBounds=he,n.layerGroup=Ns,n.map=za,n.marker=cR,n.point=Y,n.polygon=pR,n.polyline=fR,n.popup=_R,n.rectangle=SR,n.setOptions=x,n.stamp=c,n.svg=m0,n.svgOverlay=yR,n.tileLayer=d0,n.tooltip=wR,n.transformation=Oe,n.version=r,n.videoOverlay=vR;var PR=window.L;n.noConflict=function(){return window.L=PR,this},window.L=n})})(yy,yy.exports);var JU=yy.exports;const fi=_y(JU),aR=(t,e,n,r)=>{const s=(n-t)*Math.PI/180,a=(r-e)*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2),d=6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)));return Math.round(d*10)/10},lR=t=>t<1?`${Math.round(t*1e3)}m away`:`${t}km away`;delete fi.Icon.Default.prototype._getIconUrl;fi.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const eH=({reports:t})=>{const e=b.useRef(null),n=b.useRef(null),r=b.useRef(null),[i,s]=b.useState(null);return b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(a=>{s({lat:a.coords.latitude,lng:a.coords.longitude})},a=>{console.log("Location access denied or unavailable")})},[]),b.useEffect(()=>{if(e.current)return n.current=fi.map(e.current).setView([34.0522,-118.2437],10),fi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(n.current),r.current=fi.layerGroup().addTo(n.current),()=>{n.current&&(n.current.remove(),n.current=null)}},[]),b.useEffect(()=>{if(!n.current||!r.current||(r.current.clearLayers(),t.length===0))return;const a=t.filter(c=>c.lat&&c.lng);if(a.length===0)return;const l=[];if(a.forEach(c=>{var d;if(c.lat&&c.lng){const p=(d=c.type)!=null&&d.toLowerCase().includes("raid")?"#dc2626":"#ef4444",g=fi.divIcon({html:`<div style="background-color: ${p}; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,className:"custom-marker",iconSize:[20,20],iconAnchor:[10,10]}),y=fi.marker([c.lat,c.lng],{icon:g});let _="";if(i){const x=aR(i.lat,i.lng,c.lat,c.lng);_=`<p class="text-xs text-blue-600 font-medium">${lR(x)}</p>`}const S=`
          <div class="p-3 min-w-64">
            <h3 class="font-bold text-red-600 text-base mb-2">🚨 ${c.type||"ICE Activity"}</h3>
            ${c.location?`<p class="text-sm mb-1"><strong>📍 Location:</strong> ${c.location}</p>`:""}
            ${c.timeSeen?`<p class="text-sm mb-1"><strong>🕒 Time:</strong> ${c.timeSeen}</p>`:""}
            <p class="text-xs text-gray-500 mb-2">${Hw(c.timestamp||c.timeSeen)}</p>
            ${_}
            ${c.notes?`<p class="text-sm mt-2 p-2 bg-gray-50 rounded"><strong>Notes:</strong> ${c.notes}</p>`:""}
          </div>
        `;y.bindPopup(S,{maxWidth:300,className:"custom-popup"}),l.push(y),r.current.addLayer(y)}}),l.length>0){const c=new fi.featureGroup(l);n.current.fitBounds(c.getBounds().pad(.1))}if(i){const c=fi.divIcon({html:'<div style="background-color: #3b82f6; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>',className:"user-location-marker",iconSize:[16,16],iconAnchor:[8,8]}),d=fi.marker([i.lat,i.lng],{icon:c});d.bindPopup('<div class="p-2"><strong>📍 Your Location</strong></div>'),r.current.addLayer(d)}},[t,i]),m.jsxs("div",{className:"relative w-full h-96 rounded-lg overflow-hidden shadow-lg",children:[m.jsx("div",{ref:e,className:"absolute inset-0"}),t.length===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 bg-opacity-75",children:m.jsx("p",{className:"text-gray-600",children:"No reports to display"})})]})},tH=({onTimeFilterChange:t,onTypeFilterChange:e,onToggleQuickHide:n,isHidden:r,reportTypes:i})=>{const{t:s}=_s(),a=["patrol","checkpoint","raid","other"],l=c=>{switch(c.toLowerCase()){case"patrol":return s("patrol");case"checkpoint":return s("checkpoint");case"raid":return s("raid");case"other":return s("other");default:return c}};return m.jsx(Ni,{className:"mb-3",children:m.jsx(Ai,{className:"p-3",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(fp,{onValueChange:t,children:[m.jsx(vd,{className:"flex-1",children:m.jsx(pp,{placeholder:s("timeFilter")})}),m.jsxs(yd,{children:[m.jsx(nn,{value:"all",children:s("allTime")}),m.jsx(nn,{value:"1h",children:s("lastHour")}),m.jsx(nn,{value:"24h",children:s("last24Hours")}),m.jsx(nn,{value:"7d",children:s("last7Days")}),m.jsx(nn,{value:"30d",children:s("last30Days")})]})]}),m.jsxs(fp,{onValueChange:e,children:[m.jsx(vd,{className:"flex-1",children:m.jsx(pp,{placeholder:s("typeFilter")})}),m.jsxs(yd,{children:[m.jsx(nn,{value:"all",children:s("allTypes")}),a.map(c=>m.jsx(nn,{value:c,children:l(c)},c))]})]})]}),m.jsx(Fe,{onClick:n,variant:r?"destructive":"outline",size:"sm",className:"w-full",children:s(r?"showMap":"quickHide")})]})})})},nH=({report:t,userLocation:e,onClick:n})=>{const i=(()=>{if(!e||!t.lat||!t.lng)return null;const s=aR(e.lat,e.lng,t.lat,t.lng);return lR(s)})();return m.jsx("div",{className:`border-l-4 border-red-500 pl-4 py-3 bg-gray-50 rounded-r-lg hover:bg-gray-100 transition-colors ${n?"cursor-pointer":""}`,onClick:n,children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"font-semibold text-red-600 text-sm sm:text-base",children:["🚨 ",t.type||"ICE Activity"]}),t.location&&m.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 mt-1 truncate",children:["📍 ",t.location]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-xs text-gray-500",children:[m.jsxs("span",{children:["🕒 ",Hw(t.timestamp||t.timeSeen)]}),i&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"•"}),m.jsx("span",{className:"text-blue-600 font-medium",children:i})]})]}),t.notes&&m.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mt-2 break-words line-clamp-2",children:t.notes})]}),m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 flex-shrink-0",children:[m.jsx("span",{children:"Tap to locate"}),m.jsx("span",{children:"📍"})]})]})})},rH=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,l]=b.useState("all"),[c,d]=b.useState("all"),[p,g]=b.useState(!1),[y,_]=b.useState(null);b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(C=>{_({lat:C.coords.latitude,lng:C.coords.longitude})},C=>{console.log("Location access denied")})},[]),b.useEffect(()=>{(async()=>{try{const N=FA(Cw(Uw,"iceReports"),BA("timestamp","desc")),I=(await r$(N)).docs.map(O=>({id:O.id,...O.data()}));e(I),r(I)}catch(N){console.error("Error fetching reports:",N)}finally{s(!1)}})()},[]),b.useEffect(()=>{let C=[...t];if(a!=="all"){const N=new Date;let T=new Date;switch(a){case"1h":T.setHours(N.getHours()-1);break;case"24h":T.setDate(N.getDate()-1);break;case"7d":T.setDate(N.getDate()-7);break;case"30d":T.setDate(N.getDate()-30);break}C=C.filter(I=>{var z;return((z=I.timestamp)!=null&&z.toDate?I.timestamp.toDate():new Date(I.timeSeen))>=T})}c!=="all"&&(C=C.filter(N=>N.type===c)),r(C)},[t,a,c]);const S=C=>{C.lat&&C.lng&&window.scrollTo({top:0,behavior:"smooth"})},x=Array.from(new Set(t.map(C=>C.type).filter(Boolean)));return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 flex flex-col",children:[m.jsx("div",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200 p-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[m.jsx(Bt,{to:"/",children:m.jsx(Fe,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:"← Back"})}),m.jsx("h1",{className:"text-lg font-bold text-center flex-1",children:"ICE Activity Map"}),m.jsx("div",{className:"w-16"})]})}),m.jsx("div",{className:"flex-1 p-4 flex flex-col",children:m.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[m.jsx(tH,{onTimeFilterChange:l,onTypeFilterChange:d,onToggleQuickHide:()=>g(!p),isHidden:p,reportTypes:x}),!p&&m.jsx("div",{className:"bg-white rounded-lg shadow-md p-3 mb-4",children:i?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-500 mx-auto mb-2"}),m.jsx("p",{children:"Loading reports..."})]})}):m.jsx(eH,{reports:n})}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[m.jsxs("h2",{className:"font-semibold",children:["Recent Reports (",n.length,")"]}),y&&m.jsx("p",{className:"text-xs text-blue-600",children:"Showing distances from your location"})]}),i?m.jsx("div",{className:"flex justify-center py-4",children:m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})}):n.length===0?m.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:t.length===0?"No reports available":"No reports match your filters"}):m.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3 flex-1 overflow-y-auto max-h-64",children:n.map(C=>m.jsx(nH,{report:C,userLocation:y,onClick:()=>S(C)},C.id))})]})]})}),m.jsx($v,{})]})},iH=()=>{const{t,i18n:e}=_s(),{toast:n}=Lp(),[r,i]=b.useState([{name:"",phone:"",email:"",relationship:""},{name:"",phone:"",email:"",relationship:""},{name:"",phone:"",email:"",relationship:""}]),[s,a]=b.useState(!1),[l,c]=b.useState(!0),[d,p]=b.useState(!0),[g,y]=b.useState(!1),[_,S]=b.useState(e.language);b.useEffect(()=>{const I=JSON.parse(localStorage.getItem("emergencyContacts")||"[]");if(I.length>0){const z=[...r];I.forEach((H,R)=>{R<3&&(z[R]=H)}),i(z)}const O=JSON.parse(localStorage.getItem("appSettings")||"{}");c(O.pushNotifications??!0),p(O.locationSharing??!0),y(O.anonymousReporting??!1)},[]);const x=(I,O,z)=>{const H=[...r];H[I][O]=z,i(H)},C=async I=>{I.preventDefault();const O=r.filter(H=>{var R;return H.name.trim()&&(H.phone.trim()||((R=H.email)==null?void 0:R.trim()))});if(O.length===0){n({title:"No Valid Contacts",description:"Please add at least one contact with a name and phone number or email.",variant:"destructive"});return}localStorage.setItem("emergencyContacts",JSON.stringify(O));const z={pushNotifications:l,locationSharing:d,anonymousReporting:g};localStorage.setItem("appSettings",JSON.stringify(z));try{const H=await YI(O);n({title:"Test Emergency Alert Sent!",description:`Alert sent to ${O.length} contacts. ${H.emailsSent} emails sent successfully.`})}catch(H){console.error("Emergency alert test failed:",H),n({title:"Emergency Alert Test Failed",description:"There was an issue sending the test alert. Please check your contacts and try again.",variant:"destructive"})}a(!0),setTimeout(()=>a(!1),5e3)},N=I=>{S(I),e.changeLanguage(I),localStorage.setItem("preferred-language",I)},T=()=>{const I=r.filter(z=>{var H;return z.name.trim()&&(z.phone.trim()||((H=z.email)==null?void 0:H.trim()))});localStorage.setItem("emergencyContacts",JSON.stringify(I));const O={pushNotifications:l,locationSharing:d,anonymousReporting:g};localStorage.setItem("appSettings",JSON.stringify(O)),n({title:"Settings Saved",description:`${I.length} emergency contacts saved successfully.`}),a(!0),setTimeout(()=>a(!1),5e3)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 p-4 md:p-6",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx(Bt,{to:"/",className:"inline-block mb-6",children:m.jsx(Fe,{variant:"outline",children:t("back")})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Emergency Contacts"}),m.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.map((I,O)=>m.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[m.jsxs("h3",{className:"font-semibold text-lg",children:["Contact ",O+1]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(_n,{htmlFor:`name-${O}`,className:"text-sm font-medium",children:"Name *"}),m.jsx(Go,{id:`name-${O}`,value:I.name,onChange:z=>x(O,"name",z.target.value),placeholder:"Full name",className:"w-full",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(_n,{htmlFor:`phone-${O}`,className:"text-sm font-medium",children:"Phone Number"}),m.jsx(Go,{id:`phone-${O}`,type:"tel",value:I.phone,onChange:z=>x(O,"phone",z.target.value),placeholder:"+1 (555) 123-4567",className:"w-full"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(_n,{htmlFor:`email-${O}`,className:"text-sm font-medium",children:"Email Address *"}),m.jsx(Go,{id:`email-${O}`,type:"email",value:I.email||"",onChange:z=>x(O,"email",z.target.value),placeholder:"contact@example.com",className:"w-full",required:!0}),m.jsx("p",{className:"text-xs text-gray-500",children:"Email is required for emergency notifications"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(_n,{htmlFor:`relationship-${O}`,className:"text-sm font-medium",children:"Relationship"}),m.jsx(Go,{id:`relationship-${O}`,value:I.relationship,onChange:z=>x(O,"relationship",z.target.value),placeholder:"Family, Friend, Colleague, etc.",className:"w-full"})]})]},O)),m.jsx(Fe,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 py-3 text-lg",children:"Save & Test Emergency Alert"})]})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[m.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📧 Email Notifications"}),m.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Emergency alerts will be sent via email from ",m.jsx("strong",{children:"comunidadsegura25@gmail.com"}),". Make sure your emergency contacts check their email regularly and add this address to their contacts to prevent emails from going to spam."]}),m.jsxs("p",{className:"text-xs text-blue-600",children:[m.jsx("strong",{children:"Note:"})," If you're not receiving test emails, check your spam folder and ensure the email addresses are correct."]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"🌍 Language Preferences"}),m.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Choose your preferred language for interface and emergency messages"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(_n,{className:"text-sm font-medium",children:"App Language"}),m.jsxs(fp,{value:_,onValueChange:N,children:[m.jsx(vd,{className:"w-full",children:m.jsx(pp,{})}),m.jsxs(yd,{children:[m.jsx(nn,{value:"en",children:"English"}),m.jsx(nn,{value:"es",children:"Español"}),m.jsx(nn,{value:"zh",children:"中文"}),m.jsx(nn,{value:"vi",children:"Tiếng Việt"}),m.jsx(nn,{value:"tl",children:"Tagalog"}),m.jsx(nn,{value:"ar",children:"العربية"})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"🔒 Privacy & Safety"}),m.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Control how your information is shared and used for community safety"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(_n,{className:"text-sm font-medium",children:"Push Notifications"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Receive alerts about incidents in your area"})]}),m.jsx(sa,{checked:l,onCheckedChange:c})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(_n,{className:"text-sm font-medium",children:"Location Sharing"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Share general location for community safety features"})]}),m.jsx(sa,{checked:d,onCheckedChange:p})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(_n,{className:"text-sm font-medium",children:"Anonymous Reporting"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Submit reports without personal identification"})]}),m.jsx(sa,{checked:g,onCheckedChange:y})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"📋 Know Your Rights"}),m.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Access important legal information and resources"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Bt,{to:"/know-your-rights",children:m.jsx(Fe,{variant:"outline",className:"w-full justify-start",children:"Immigration Rights Information"})}),m.jsx(Bt,{to:"/know-your-rights",children:m.jsx(Fe,{variant:"outline",className:"w-full justify-start",children:"Emergency Legal Contacts"})}),m.jsx(Bt,{to:"/know-your-rights",children:m.jsx(Fe,{variant:"outline",className:"w-full justify-start",children:"What to Do During an Encounter"})}),m.jsx(Bt,{to:"/know-your-rights",children:m.jsx(Fe,{variant:"outline",className:"w-full justify-start",children:"Community Resources"})})]})]}),m.jsx(Fe,{onClick:T,className:"w-full bg-blue-500 hover:bg-blue-600 py-4 text-lg font-semibold",children:"Save All Settings"}),s&&m.jsx("div",{className:"text-center p-3 bg-green-50 border border-green-200 rounded-lg",children:m.jsx("p",{className:"text-green-600 font-semibold",children:"✅ Settings saved successfully!"})})]})]})})},sH=()=>{const{t}=_s(),e=[{icon:mC,title:"Your Basic Rights",content:["You have the right to remain silent","You do not have to answer questions about immigration status","You do not have to let ICE into your home without a warrant","You have the right to speak with a lawyer"]},{icon:Hx,title:"During an ICE Encounter",content:["Stay calm and don't run","Keep your hands visible","Ask 'Am I free to leave?'","Say 'I want to remain silent'","Don't sign anything without a lawyer","Remember officer details"]},{icon:is,title:"Emergency Legal Contacts",content:["National Immigration Legal Hotline: 1-855-435-7693","ACLU Immigration Rights: 1-877-336-2700","LA Immigration Services: 1-213-251-3800","United We Dream: 1-844-363-1423"]},{icon:y_,title:"Community Resources",content:["CHIRLA (Coalition for Humane Immigrant Rights)","CARECEN (Central American Resource Center)","LA County Office of Immigrant Affairs","Local community centers offer workshops"]}];return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-red-50",children:[m.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-200 p-4 z-10",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Bt,{to:"/",children:m.jsx(Fe,{variant:"outline",size:"sm",className:"p-2",children:m.jsx(hC,{className:"h-4 w-4"})})}),m.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["🛡️ ",m.jsx("span",{children:"Know Your Rights"})]})]})}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsx("div",{className:"text-center mb-4",children:m.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Important information about your rights and available resources."})}),e.map((n,r)=>m.jsxs(Ni,{className:"shadow-sm border-l-4 border-l-orange-500",children:[m.jsx(hs,{className:"pb-3",children:m.jsxs(fs,{className:"flex items-center gap-2 text-lg",children:[m.jsx(n.icon,{className:"h-5 w-5 text-orange-600 flex-shrink-0"}),m.jsx("span",{className:"text-base",children:n.title})]})}),m.jsx(Ai,{className:"pt-0",children:m.jsx("ul",{className:"space-y-2",children:n.content.map((i,s)=>m.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{className:"text-gray-700 leading-relaxed",children:i})]},s))})})]},r)),m.jsxs(Ni,{className:"bg-red-50 border-red-200 border-2",children:[m.jsx(hs,{className:"pb-3",children:m.jsxs(fs,{className:"flex items-center gap-2 text-lg text-red-800",children:[m.jsx(Hx,{className:"h-5 w-5"}),m.jsx("span",{className:"text-base",children:"Emergency Reminder"})]})}),m.jsx(Ai,{className:"pt-0",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-red-700 font-medium text-sm",children:"If you are being detained or arrested:"}),m.jsxs("ul",{className:"space-y-1 text-red-700 text-sm",children:[m.jsx("li",{children:"• Contact emergency contacts immediately"}),m.jsx("li",{children:"• Call a lawyer or legal aid organization"}),m.jsx("li",{children:"• Document everything: time, place, officers"}),m.jsx("li",{children:"• Do not resist, even if arrest seems unfair"})]}),m.jsx("div",{className:"mt-4 p-3 bg-red-100 rounded-lg",children:m.jsx("p",{className:"text-red-800 font-semibold text-center text-sm",children:"You have rights regardless of immigration status"})})]})})]})]})]})},oH=()=>{const t=kd();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},aH=new N4,lH=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(null);b.useEffect(()=>{const a=yV();a&&a!==Ot.language&&Ot.changeLanguage(a);const l=c=>{vV(c)};return Ot.on("languageChanged",l),()=>{Ot.off("languageChanged",l)}},[]);const i=a=>{e(a),console.log("Notification permission:",a?"granted":"denied")},s=a=>{r(!0),console.log("Privacy settings configured:",a)};return m.jsx(k4,{client:aH,children:m.jsx(G3,{i18n:Ot,children:m.jsxs(s4,{children:[m.jsx(eD,{}),m.jsx(RD,{}),m.jsx(wV,{onPermissionResponse:i}),m.jsx(IV,{onSettingsComplete:s}),m.jsx(N3,{children:m.jsxs(b3,{children:[m.jsx(zo,{path:"/",element:m.jsx(p$,{})}),m.jsx(zo,{path:"/report",element:m.jsx(XU,{})}),m.jsx(zo,{path:"/map",element:m.jsx(rH,{})}),m.jsx(zo,{path:"/settings",element:m.jsx(iH,{})}),m.jsx(zo,{path:"/know-your-rights",element:m.jsx(sH,{})}),m.jsx(zo,{path:"*",element:m.jsx(oH,{})})]})})]})})})};MS(document.getElementById("root")).render(m.jsx(lH,{}));
